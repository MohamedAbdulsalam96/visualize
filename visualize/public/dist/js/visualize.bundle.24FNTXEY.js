(()=>{var Rt=Object.create;var et=Object.defineProperty;var Nt=Object.getOwnPropertyDescriptor;var At=Object.getOwnPropertyNames,yt=Object.getOwnPropertySymbols,Pt=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var bt=(l,a,e)=>a in l?et(l,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[a]=e,Ne=(l,a)=>{for(var e in a||(a={}))mt.call(a,e)&&bt(l,e,a[e]);if(yt)for(var e of yt(a))Lt.call(a,e)&&bt(l,e,a[e]);return l};var kt=(l,a)=>()=>(a||l((a={exports:{}}).exports,a),a.exports);var Dt=(l,a,e,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let o of At(a))!mt.call(l,o)&&o!==e&&et(l,o,{get:()=>a[o],enumerable:!(t=Nt(a,o))||t.enumerable});return l};var xt=(l,a,e)=>(e=l!=null?Rt(Pt(l)):{},Dt(a||!l||!l.__esModule?et(e,"default",{value:l,enumerable:!0}):e,l));var _t=kt((Ve,tt)=>{(function(l,a){typeof Ve=="object"&&typeof tt=="object"?tt.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Ve=="object"?Ve.EditorJS=a():l.EditorJS=a()})(window,function(){return function(l){var a={};function e(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=a,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(r,n,function(i){return t[i]}.bind(null,n));return r},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=183)}([function(l,a,e){var t=e(10),o=e(17),r=e(27),n=e(23),i=e(31),s=function(u,c,p){var d,h,g,f,v=u&s.F,y=u&s.G,w=u&s.S,_=u&s.P,b=u&s.B,k=y?t:w?t[c]||(t[c]={}):(t[c]||{}).prototype,M=y?o:o[c]||(o[c]={}),S=M.prototype||(M.prototype={});for(d in y&&(p=c),p)g=((h=!v&&k&&k[d]!==void 0)?k:p)[d],f=b&&h?i(g,t):_&&typeof g=="function"?i(Function.call,g):g,k&&n(k,d,g,u&s.U),M[d]!=g&&r(M,d,f),_&&S[d]!=g&&(S[d]=g)};t.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,l.exports=s},function(l,a){l.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(l,a){l.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(l,a){function e(t,o){for(var r=0;r<o.length;r++){var n=o[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}l.exports=function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}},function(l,a){function e(t){return l.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},e(t)}l.exports=e},function(l,a,e){var t=e(107);l.exports=function(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),r&&t(o,r)}},function(l,a,e){var t=e(143),o=e(368);l.exports=function(r,n){return!n||t(n)!=="object"&&typeof n!="function"?o(r):n}},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(374)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);function p(g){if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(g=function(k,M){if(k){if(typeof k=="string")return d(k,M);var S=Object.prototype.toString.call(k).slice(8,-1);return S==="Object"&&k.constructor&&(S=k.constructor.name),S==="Map"||S==="Set"?Array.from(S):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?d(k,M):void 0}}(g))){var f=0,v=function(){};return{s:v,n:function(){return f>=g.length?{done:!0}:{done:!1,value:g[f++]}},e:function(k){throw k},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,w,_=!0,b=!1;return{s:function(){y=g[Symbol.iterator]()},n:function(){var k=y.next();return _=k.done,k},e:function(k){b=!0,w=k},f:function(){try{_||y.return==null||y.return()}finally{if(b)throw w}}}}function d(g,f){(f==null||f>g.length)&&(f=g.length);for(var v=0,y=new Array(f);v<f;v++)y[v]=g[v];return y}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var h=function(){function g(f){var v=this,y=f.config,w=f.eventsDispatcher;if((0,i.default)(this,g),this.nodes={},this.listeners=new u.default,this.readOnlyMutableListeners={on:function(_,b,k){var M=arguments.length>3&&arguments[3]!==void 0&&arguments[3];v.mutableListenerIds.push(v.listeners.on(_,b,k,M))},clearAll:function(){var _,b=p(v.mutableListenerIds);try{for(b.s();!(_=b.n()).done;){var k=_.value;v.listeners.offById(k)}}catch(M){b.e(M)}finally{b.f()}v.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof g?this.constructor:void 0)===g)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=y,this.eventsDispatcher=w}return(0,s.default)(g,[{key:"removeAllNodes",value:function(){for(var f in this.nodes){var v=this.nodes[f];v instanceof HTMLElement&&v.remove()}}},{key:"state",set:function(f){this.Editor=f}},{key:"isRtl",get:function(){return this.config.i18n.direction==="rtl"}}]),g}();n.default=h,h.displayName="Module",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(367),e(22),e(15)],(r=typeof(t=function(n,i,s,u,c){"use strict";var p,d=e(1);function h(S,I){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"log",T=arguments.length>3?arguments[3]:void 0,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"color: inherit";if("console"in window&&window.console[m]){var O=["info","log","warn","error"].includes(m),x=[];switch(h.logLevel){case p.ERROR:if(m!=="error")return;break;case p.WARN:if(!["error","warn"].includes(m))return;break;case p.INFO:if(!O||S)return}T&&x.push(T);var C="Editor.js ".concat("2.20.0"),B=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;S&&(O?(x.unshift(B,E),I="%c".concat(C,"%c ").concat(I)):I="( ".concat(C," )").concat(I));try{if(O)if(T){var R;(R=console)[m].apply(R,["".concat(I," %o")].concat(x))}else{var N;(N=console)[m].apply(N,[I].concat(x))}else console[m](I)}catch(D){}}}Object.defineProperty(n,"__esModule",{value:!0}),n.setLogLevel=function(S){h.logLevel=S},n.typeOf=v,n.isFunction=y,n.isObject=w,n.isString=function(S){return v(S)==="string"},n.isBoolean=function(S){return v(S)==="boolean"},n.isNumber=function(S){return v(S)==="number"},n.isUndefined=_,n.isClass=function(S){return y(S)&&/^\s*class\s+/.test(S.toString())},n.isEmpty=function(S){return!S||Object.keys(S).length===0&&S.constructor===Object},n.isPromise=function(S){return Promise.resolve(S)===S},n.isPrintableKey=function(S){return S>47&&S<58||S===32||S===13||S===229||S>64&&S<91||S>95&&S<112||S>185&&S<193||S>218&&S<223},n.sequence=function(S){return b.apply(this,arguments)},n.array=function(S){return Array.prototype.slice.call(S)},n.delay=function(S,I){return function(){var m=this,T=arguments;window.setTimeout(function(){return S.apply(m,T)},I)}},n.getFileExtension=function(S){return S.name.split(".").pop()},n.isValidMimeType=function(S){return/^[-\w]+\/([-+\w]+|\*)$/.test(S)},n.debounce=function(S,I,m){var T,E=arguments,O=this;return function(){var x=O,C=E,B=m&&!T;window.clearTimeout(T),T=window.setTimeout(function(){T=null,m||S.apply(x,C)},I),B&&S.apply(x,C)}},n.copyTextToClipboard=function(S){var I=c.default.make("div","codex-editor-clipboard",{innerHTML:S});document.body.appendChild(I);var m=window.getSelection(),T=document.createRange();T.selectNode(I),window.getSelection().removeAllRanges(),m.addRange(T),document.execCommand("copy"),document.body.removeChild(I)},n.getUserOS=k,n.capitalize=function(S){return S[0].toUpperCase()+S.slice(1)},n.deepMerge=function S(I){for(var m=arguments.length,T=new Array(m>1?m-1:0),E=1;E<m;E++)T[E-1]=arguments[E];if(!T.length)return I;var O=T.shift();if(w(I)&&w(O))for(var x in O)w(O[x])?(I[x]||Object.assign(I,(0,s.default)({},x,{})),S(I[x],O[x])):Object.assign(I,(0,s.default)({},x,O[x]));return S.apply(void 0,[I].concat(T))},n.beautifyShortcut=function(S){var I=k();return S=S.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),S=I.mac?S.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):S.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},n.getValidUrl=function(S){try{return new URL(S).href}catch(I){}return S.substring(0,2)==="//"?window.location.protocol+S:window.location.origin+S},n.openTab=function(S){window.open(S,"_blank")},n.generateId=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(S).concat(Math.floor(1e8*Math.random()).toString(16))},n.deprecationAssert=function(S,I,m){var T="\xAB".concat(I,"\xBB is deprecated and will be removed in the next major release. Please use the \xAB").concat(m,"\xBB instead.");S&&f(T,"warn")},n.isTouchSupported=n.logLabeled=n.log=n.mouseButtons=n.keyCodes=n.LogLevels=void 0,i=d(i),s=d(s),u=d(u),c=d(c),n.LogLevels=p,function(S){S.VERBOSE="VERBOSE",S.INFO="INFO",S.WARN="WARN",S.ERROR="ERROR"}(p||(n.LogLevels=p={})),n.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},n.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},h.logLevel=p.VERBOSE;var g=h.bind(window,!1);n.log=g;var f=h.bind(window,!0);function v(S){return Object.prototype.toString.call(S).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function y(S){return v(S)==="function"}function w(S){return v(S)==="object"}function _(S){return v(S)==="undefined"}function b(){return(b=(0,u.default)(i.default.mark(function S(I){var m,T,E,O,x=arguments;return i.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return O=function(){return(O=(0,u.default)(i.default.mark(function B(R,N,D){return i.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,R.function(R.data);case 3:return A.next=5,N(_(R.data)?{}:R.data);case 5:A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),D(_(R.data)?{}:R.data);case 10:case"end":return A.stop()}},B,null,[[0,7]])}))).apply(this,arguments)},E=function(B,R,N){return O.apply(this,arguments)},m=x.length>1&&x[1]!==void 0?x[1]:function(){},T=x.length>2&&x[2]!==void 0?x[2]:function(){},C.abrupt("return",I.reduce(function(){var B=(0,u.default)(i.default.mark(function R(N,D){return i.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,N;case 2:return A.abrupt("return",E(D,m,T));case 3:case"end":return A.stop()}},R)}));return function(R,N){return B.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return C.stop()}},S)}))).apply(this,arguments)}function k(){var S={win:!1,mac:!1,x11:!1,linux:!1},I=Object.keys(S).find(function(m){return navigator.appVersion.toLowerCase().indexOf(m)!==-1});return I&&(S[I]=!0),S}n.logLabeled=f;var M="ontouchstart"in document.documentElement;n.isTouchSupported=M})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(143);function o(){if(typeof WeakMap!="function")return null;var r=new WeakMap;return o=function(){return r},r}l.exports=function(r){if(r&&r.__esModule)return r;if(r===null||t(r)!=="object"&&typeof r!="function")return{default:r};var n=o();if(n&&n.has(r))return n.get(r);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var c=s?Object.getOwnPropertyDescriptor(r,u):null;c&&(c.get||c.set)?Object.defineProperty(i,u,c):i[u]=r[u]}return i.default=r,n&&n.set(r,i),i}},function(l,a){var e=l.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)},function(l,a){l.exports=function(e){try{return!!e()}catch(t){return!0}}},function(l,a,e){var t=e(13);l.exports=function(o){if(!t(o))throw TypeError(o+" is not an object!");return o}},function(l,a){l.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(l,a,e){var t=e(67)("wks"),o=e(44),r=e(10).Symbol,n=typeof r=="function";(l.exports=function(i){return t[i]||(t[i]=n&&r[i]||(n?r:o)("Symbol."+i))}).store=t},function(l,a,e){var t,o,r;o=[a,e(42),e(2),e(3),e(8)],(r=typeof(t=function(n,i,s,u,c){"use strict";var p=e(9),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=d(i),s=d(s),u=d(u),c=p(c);var h=function(){function g(){(0,s.default)(this,g)}return(0,u.default)(g,null,[{key:"isSingleTag",value:function(f){return f.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(f.tagName)}},{key:"isLineBreakTag",value:function(f){return f&&f.tagName&&["BR","WBR"].includes(f.tagName)}},{key:"make",value:function(f){var v,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=document.createElement(f);for(var b in Array.isArray(y)?(v=_.classList).add.apply(v,(0,i.default)(y)):y&&_.classList.add(y),w)Object.prototype.hasOwnProperty.call(w,b)&&(_[b]=w[b]);return _}},{key:"text",value:function(f){return document.createTextNode(f)}},{key:"svg",value:function(f){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:14,w=document.createElementNS("http://www.w3.org/2000/svg","svg");return w.classList.add("icon","icon--"+f),w.setAttribute("width",v+"px"),w.setAttribute("height",y+"px"),w.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(f,'"></use>'),w}},{key:"append",value:function(f,v){Array.isArray(v)?v.forEach(function(y){return f.appendChild(y)}):f.appendChild(v)}},{key:"prepend",value:function(f,v){Array.isArray(v)?(v=v.reverse()).forEach(function(y){return f.prepend(y)}):f.prepend(v)}},{key:"swap",value:function(f,v){var y=document.createElement("div"),w=f.parentNode;w.insertBefore(y,f),w.insertBefore(f,v),w.insertBefore(v,y),w.removeChild(y)}},{key:"find",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,v=arguments.length>1?arguments[1]:void 0;return f.querySelector(v)}},{key:"get",value:function(f){return document.getElementById(f)}},{key:"findAll",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,v=arguments.length>1?arguments[1]:void 0;return f.querySelectorAll(v)}},{key:"findAllInputs",value:function(f){return c.array(f.querySelectorAll(g.allInputsSelector)).reduce(function(v,y){return g.isNativeInput(y)||g.containsOnlyInlineElements(y)?[].concat((0,i.default)(v),[y]):[].concat((0,i.default)(v),(0,i.default)(g.getDeepestBlockElements(y)))},[])}},{key:"getDeepestNode",value:function(f){var v=arguments.length>1&&arguments[1]!==void 0&&arguments[1],y=v?"lastChild":"firstChild",w=v?"previousSibling":"nextSibling";if(f&&f.nodeType===Node.ELEMENT_NODE&&f[y]){var _=f[y];if(g.isSingleTag(_)&&!g.isNativeInput(_)&&!g.isLineBreakTag(_))if(_[w])_=_[w];else{if(!_.parentNode[w])return _.parentNode;_=_.parentNode[w]}return this.getDeepestNode(_,v)}return f}},{key:"isElement",value:function(f){return!c.isNumber(f)&&f&&f.nodeType&&f.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(f){return!c.isNumber(f)&&f&&f.nodeType&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(f){return f.contentEditable==="true"}},{key:"isNativeInput",value:function(f){return!(!f||!f.tagName)&&["INPUT","TEXTAREA"].includes(f.tagName)}},{key:"canSetCaret",value:function(f){var v=!0;if(g.isNativeInput(f))switch(f.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":v=!1}else v=g.isContentEditable(f);return v}},{key:"isNodeEmpty",value:function(f){return!(this.isSingleTag(f)&&!this.isLineBreakTag(f))&&(this.isElement(f)&&this.isNativeInput(f)?f.value:f.textContent.replace("\u200B","")).trim().length===0}},{key:"isLeaf",value:function(f){return!!f&&f.childNodes.length===0}},{key:"isEmpty",value:function(f){f.normalize();for(var v=[f];v.length>0;)if(f=v.shift()){if(this.isLeaf(f)&&!this.isNodeEmpty(f))return!1;f.childNodes&&v.push.apply(v,(0,i.default)(Array.from(f.childNodes)))}return!0}},{key:"isHTMLString",value:function(f){var v=g.make("div");return v.innerHTML=f,v.childElementCount>0}},{key:"getContentLength",value:function(f){return g.isNativeInput(f)?f.value.length:f.nodeType===Node.TEXT_NODE?f.length:f.textContent.length}},{key:"containsOnlyInlineElements",value:function(f){var v;return c.isString(f)?(v=document.createElement("div")).innerHTML=f:v=f,Array.from(v.children).every(function y(w){return!g.blockElements.includes(w.tagName.toLowerCase())&&Array.from(w.children).every(y)})}},{key:"getDeepestBlockElements",value:function(f){return g.containsOnlyInlineElements(f)?[f]:Array.from(f.children).reduce(function(v,y){return[].concat((0,i.default)(v),(0,i.default)(g.getDeepestBlockElements(y)))},[])}},{key:"getHolder",value:function(f){return c.isString(f)?document.getElementById(f):f}},{key:"isExtensionNode",value:function(f){return f&&["GRAMMARLY-EXTENSION"].includes(f.nodeName)}},{key:"isAnchor",value:function(f){return f.tagName.toLowerCase()==="a"}},{key:"allInputsSelector",get:function(){return"[contenteditable], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(f){return'input[type="'.concat(f,'"]')}).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),g}();n.default=h,h.displayName="Dom",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(33),o=Math.min;l.exports=function(r){return r>0?o(t(r),9007199254740991):0}},function(l,a){var e=l.exports={version:"2.6.11"};typeof __e=="number"&&(__e=e)},function(l,a,e){l.exports=!e(11)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(l,a,e){var t=e(12),o=e(109),r=e(40),n=Object.defineProperty;a.f=e(18)?Object.defineProperty:function(i,s,u){if(t(i),s=r(s,!0),t(u),o)try{return n(i,s,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(i[s]=u.value),i}},function(l,a,e){var t=e(38);l.exports=function(o){return Object(t(o))}},function(l,a,e){l.exports=e(140)},function(l,a){function e(t,o,r,n,i,s,u){try{var c=t[s](u),p=c.value}catch(d){return void r(d)}c.done?o(p):Promise.resolve(p).then(n,i)}l.exports=function(t){return function(){var o=this,r=arguments;return new Promise(function(n,i){var s=t.apply(o,r);function u(p){e(s,n,i,u,c,"next",p)}function c(p){e(s,n,i,u,c,"throw",p)}u(void 0)})}}},function(l,a,e){var t=e(10),o=e(27),r=e(26),n=e(44)("src"),i=e(188),s=(""+i).split("toString");e(17).inspectSource=function(u){return i.call(u)},(l.exports=function(u,c,p,d){var h=typeof p=="function";h&&(r(p,"name")||o(p,"name",c)),u[c]!==p&&(h&&(r(p,n)||o(p,n,u[c]?""+u[c]:s.join(String(c)))),u===t?u[c]=p:d?u[c]?u[c]=p:o(u,c,p):(delete u[c],o(u,c,p)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[n]||i.call(this)})},function(l,a,e){var t=e(0),o=e(11),r=e(38),n=/"/g,i=function(s,u,c,p){var d=String(r(s)),h="<"+u;return c!==""&&(h+=" "+c+'="'+String(p).replace(n,"&quot;")+'"'),h+">"+d+"</"+u+">"};l.exports=function(s,u){var c={};c[s]=u(i),t(t.P+t.F*o(function(){var p=""[s]('"');return p!==p.toLowerCase()||p.split('"').length>3}),"String",c)}},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(8),e(15)],(r=typeof(t=function(n,i,s,u,c){"use strict";var p=e(9),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=d(i),s=d(s),u=p(u),c=d(c);var h=function(){function g(){(0,i.default)(this,g),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,s.default)(g,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=g.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var f=window.getSelection();f.removeAllRanges(),f.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var f=window.getSelection(),v=document.createRange();v.selectNodeContents(f.focusNode),v.collapse(!1),f.removeAllRanges(),f.addRange(v)}},{key:"findParentTag",value:function(f,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,w=window.getSelection(),_=null;if(!w||!w.anchorNode||!w.focusNode)return null;var b=[w.anchorNode,w.focusNode];return b.forEach(function(k){for(var M=y;M>0&&k.parentNode&&(k.tagName!==f||(_=k,v&&k.classList&&!k.classList.contains(v)&&(_=null),!_));)k=k.parentNode,M--}),_}},{key:"expandToTag",value:function(f){var v=window.getSelection();v.removeAllRanges();var y=document.createRange();y.selectNodeContents(f),v.addRange(y)}}],[{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(f){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=document.createRange(),w=window.getSelection();return c.default.isNativeInput(f)?c.default.canSetCaret(f)?(f.focus(),f.selectionStart=f.selectionEnd=v,f.getBoundingClientRect()):void 0:(y.setStart(f,v),y.setEnd(f,v),w.removeAllRanges(),w.addRange(y),y.getBoundingClientRect())}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var f=window.getSelection();return f?f.anchorNode:null}},{key:"anchorElement",get:function(){var f=window.getSelection();if(!f)return null;var v=f.anchorNode;return v?c.default.isElement(v)?v:v.parentElement:null}},{key:"anchorOffset",get:function(){var f=window.getSelection();return f?f.anchorOffset:null}},{key:"isCollapsed",get:function(){var f=window.getSelection();return f?f.isCollapsed:null}},{key:"isAtEditor",get:function(){var f=g.get(),v=f.anchorNode||f.focusNode;v&&v.nodeType===Node.TEXT_NODE&&(v=v.parentNode);var y=null;return v&&(y=v.closest(".".concat(g.CSS.editorZone))),y&&y.nodeType===Node.ELEMENT_NODE}},{key:"isSelectionExists",get:function(){return!!g.get().anchorNode}},{key:"range",get:function(){var f=window.getSelection();return f&&f.rangeCount?f.getRangeAt(0):null}},{key:"rect",get:function(){var f,v=document.selection,y={x:0,y:0,width:0,height:0};if(v&&v.type!=="Control")return f=(v=v).createRange(),y.x=f.boundingLeft,y.y=f.boundingTop,y.width=f.boundingWidth,y.height=f.boundingHeight,y;if(!window.getSelection)return u.log("Method window.getSelection is not supported","warn"),y;if((v=window.getSelection()).rangeCount===null||isNaN(v.rangeCount))return u.log("Method SelectionUtils.rangeCount is not supported","warn"),y;if(v.rangeCount===0)return y;if((f=v.getRangeAt(0).cloneRange()).getBoundingClientRect&&(y=f.getBoundingClientRect()),y.x===0&&y.y===0){var w=document.createElement("span");if(w.getBoundingClientRect){w.appendChild(document.createTextNode("\u200B")),f.insertNode(w),y=w.getBoundingClientRect();var _=w.parentNode;_.removeChild(w),_.normalize()}}return y}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),g}();n.default=h,h.displayName="SelectionUtils",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a){var e={}.hasOwnProperty;l.exports=function(t,o){return e.call(t,o)}},function(l,a,e){var t=e(19),o=e(43);l.exports=e(18)?function(r,n,i){return t.f(r,n,o(1,i))}:function(r,n,i){return r[n]=i,r}},function(l,a,e){var t=e(62),o=e(38);l.exports=function(r){return t(o(r))}},function(l,a,e){var t=e(357),o=e(358),r=e(141),n=e(359);l.exports=function(i,s){return t(i)||o(i,s)||r(i,s)||n()}},function(l,a,e){"use strict";var t=e(11);l.exports=function(o,r){return!!o&&t(function(){r?o.call(null,function(){},1):o.call(null)})}},function(l,a,e){var t=e(32);l.exports=function(o,r,n){if(t(o),r===void 0)return o;switch(n){case 1:return function(i){return o.call(r,i)};case 2:return function(i,s){return o.call(r,i,s)};case 3:return function(i,s,u){return o.call(r,i,s,u)}}return function(){return o.apply(r,arguments)}}},function(l,a){l.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(l,a){var e=Math.ceil,t=Math.floor;l.exports=function(o){return isNaN(o=+o)?0:(o>0?t:e)(o)}},function(l,a,e){var t=e(63),o=e(43),r=e(28),n=e(40),i=e(26),s=e(109),u=Object.getOwnPropertyDescriptor;a.f=e(18)?u:function(c,p){if(c=r(c),p=n(p,!0),s)try{return u(c,p)}catch(d){}if(i(c,p))return o(!t.f.call(c,p),c[p])}},function(l,a,e){var t=e(0),o=e(17),r=e(11);l.exports=function(n,i){var s=(o.Object||{})[n]||Object[n],u={};u[n]=i(s),t(t.S+t.F*r(function(){s(1)}),"Object",u)}},function(l,a,e){var t=e(31),o=e(62),r=e(20),n=e(16),i=e(125);l.exports=function(s,u){var c=s==1,p=s==2,d=s==3,h=s==4,g=s==6,f=s==5||g,v=u||i;return function(y,w,_){for(var b,k,M=r(y),S=o(M),I=t(w,_,3),m=n(S.length),T=0,E=c?v(y,m):p?v(y,0):void 0;m>T;T++)if((f||T in S)&&(k=I(b=S[T],T,M),s)){if(c)E[T]=k;else if(k)switch(s){case 3:return!0;case 5:return b;case 6:return T;case 2:E.push(b)}else if(h)return!1}return g?-1:d||h?h:E}}},function(l,a){var e={}.toString;l.exports=function(t){return e.call(t).slice(8,-1)}},function(l,a){l.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(l,a,e){"use strict";if(e(18)){var t=e(45),o=e(10),r=e(11),n=e(0),i=e(78),s=e(106),u=e(31),c=e(57),p=e(43),d=e(27),h=e(58),g=e(33),f=e(16),v=e(136),y=e(47),w=e(40),_=e(26),b=e(64),k=e(13),M=e(20),S=e(98),I=e(48),m=e(50),T=e(49).f,E=e(100),O=e(44),x=e(14),C=e(36),B=e(68),R=e(65),N=e(102),D=e(55),A=e(71),P=e(56),j=e(101),F=e(127),L=e(19),U=e(34),z=L.f,H=U.f,X=o.RangeError,K=o.TypeError,ee=o.Uint8Array,J=Array.prototype,Q=s.ArrayBuffer,ue=s.DataView,W=C(0),G=C(2),ie=C(3),te=C(4),re=C(5),fe=C(6),ve=B(!0),le=B(!1),be=N.values,ge=N.keys,pe=N.entries,Y=J.lastIndexOf,Z=J.reduce,ae=J.reduceRight,ye=J.join,ke=J.sort,Ee=J.slice,Te=J.toString,Ke=J.toLocaleString,Ge=x("iterator"),Le=x("toStringTag"),ot=O("typed_constructor"),De=O("def_constructor"),rt=i.CONSTR,Ae=i.TYPED,Et=i.VIEW,Ct=C(1,function(V,q){return Fe(R(V,V[De]),q)}),it=r(function(){return new ee(new Uint16Array([1]).buffer)[0]===1}),Bt=!!ee&&!!ee.prototype.set&&r(function(){new ee(1).set({})}),je=function(V,q){var ne=g(V);if(ne<0||ne%q)throw X("Wrong offset!");return ne},ce=function(V){if(k(V)&&Ae in V)return V;throw K(V+" is not a typed array!")},Fe=function(V,q){if(!k(V)||!(ot in V))throw K("It is not a typed array constructor!");return new V(q)},at=function(V,q){return qe(R(V,V[De]),q)},qe=function(V,q){for(var ne=0,he=q.length,se=Fe(V,he);he>ne;)se[ne]=q[ne++];return se},Ue=function(V,q,ne){z(V,q,{get:function(){return this._d[ne]}})},Ze=function(V){var q,ne,he,se,Ie,He,oe=M(V),_e=arguments.length,Re=_e>1?arguments[1]:void 0,$e=Re!==void 0,Pe=E(oe);if(Pe!=null&&!S(Pe)){for(He=Pe.call(oe),he=[],q=0;!(Ie=He.next()).done;q++)he.push(Ie.value);oe=he}for($e&&_e>2&&(Re=u(Re,arguments[2],2)),q=0,ne=f(oe.length),se=Fe(this,ne);ne>q;q++)se[q]=$e?Re(oe[q],q):oe[q];return se},Ot=function(){for(var V=0,q=arguments.length,ne=Fe(this,q);q>V;)ne[V]=arguments[V++];return ne},It=!!ee&&r(function(){Ke.call(new ee(1))}),st=function(){return Ke.apply(It?Ee.call(ce(this)):ce(this),arguments)},lt={copyWithin:function(V,q){return F.call(ce(this),V,q,arguments.length>2?arguments[2]:void 0)},every:function(V){return te(ce(this),V,arguments.length>1?arguments[1]:void 0)},fill:function(V){return j.apply(ce(this),arguments)},filter:function(V){return at(this,G(ce(this),V,arguments.length>1?arguments[1]:void 0))},find:function(V){return re(ce(this),V,arguments.length>1?arguments[1]:void 0)},findIndex:function(V){return fe(ce(this),V,arguments.length>1?arguments[1]:void 0)},forEach:function(V){W(ce(this),V,arguments.length>1?arguments[1]:void 0)},indexOf:function(V){return le(ce(this),V,arguments.length>1?arguments[1]:void 0)},includes:function(V){return ve(ce(this),V,arguments.length>1?arguments[1]:void 0)},join:function(V){return ye.apply(ce(this),arguments)},lastIndexOf:function(V){return Y.apply(ce(this),arguments)},map:function(V){return Ct(ce(this),V,arguments.length>1?arguments[1]:void 0)},reduce:function(V){return Z.apply(ce(this),arguments)},reduceRight:function(V){return ae.apply(ce(this),arguments)},reverse:function(){for(var V,q=ce(this).length,ne=Math.floor(q/2),he=0;he<ne;)V=this[he],this[he++]=this[--q],this[q]=V;return this},some:function(V){return ie(ce(this),V,arguments.length>1?arguments[1]:void 0)},sort:function(V){return ke.call(ce(this),V)},subarray:function(V,q){var ne=ce(this),he=ne.length,se=y(V,he);return new(R(ne,ne[De]))(ne.buffer,ne.byteOffset+se*ne.BYTES_PER_ELEMENT,f((q===void 0?he:y(q,he))-se))}},ct=function(V,q){return at(this,Ee.call(ce(this),V,q))},ut=function(V){ce(this);var q=je(arguments[1],1),ne=this.length,he=M(V),se=f(he.length),Ie=0;if(se+q>ne)throw X("Wrong length!");for(;Ie<se;)this[q+Ie]=he[Ie++]},ze={entries:function(){return pe.call(ce(this))},keys:function(){return ge.call(ce(this))},values:function(){return be.call(ce(this))}},ft=function(V,q){return k(V)&&V[Ae]&&typeof q!="symbol"&&q in V&&String(+q)==String(q)},dt=function(V,q){return ft(V,q=w(q,!0))?p(2,V[q]):H(V,q)},pt=function(V,q,ne){return!(ft(V,q=w(q,!0))&&k(ne)&&_(ne,"value"))||_(ne,"get")||_(ne,"set")||ne.configurable||_(ne,"writable")&&!ne.writable||_(ne,"enumerable")&&!ne.enumerable?z(V,q,ne):(V[q]=ne.value,V)};rt||(U.f=dt,L.f=pt),n(n.S+n.F*!rt,"Object",{getOwnPropertyDescriptor:dt,defineProperty:pt}),r(function(){Te.call({})})&&(Te=Ke=function(){return ye.call(this)});var Ce=h({},lt);h(Ce,ze),d(Ce,Ge,ze.values),h(Ce,{slice:ct,set:ut,constructor:function(){},toString:Te,toLocaleString:st}),Ue(Ce,"buffer","b"),Ue(Ce,"byteOffset","o"),Ue(Ce,"byteLength","l"),Ue(Ce,"length","e"),z(Ce,Le,{get:function(){return this[Ae]}}),l.exports=function(V,q,ne,he){var se=V+((he=!!he)?"Clamped":"")+"Array",Ie="get"+V,He="set"+V,oe=o[se],_e=oe||{},Re=oe&&m(oe),$e=!oe||!i.ABV,Pe={},me=oe&&oe.prototype,Mt=function(xe,de){z(xe,de,{get:function(){return function(Be,Oe){var we=Be._d;return we.v[Ie](Oe*q+we.o,it)}(this,de)},set:function(Be){return function(Oe,we,Se){var Me=Oe._d;he&&(Se=(Se=Math.round(Se))<0?0:Se>255?255:255&Se),Me.v[He](we*q+Me.o,Se,it)}(this,de,Be)},enumerable:!0})};$e?(oe=ne(function(xe,de,Be,Oe){c(xe,oe,se,"_d");var we,Se,Me,gt,vt=0,Ye=0;if(k(de)){if(!(de instanceof Q||(gt=b(de))=="ArrayBuffer"||gt=="SharedArrayBuffer"))return Ae in de?qe(oe,de):Ze.call(oe,de);we=de,Ye=je(Be,q);var Qe=de.byteLength;if(Oe===void 0){if(Qe%q||(Se=Qe-Ye)<0)throw X("Wrong length!")}else if((Se=f(Oe)*q)+Ye>Qe)throw X("Wrong length!");Me=Se/q}else Me=v(de),we=new Q(Se=Me*q);for(d(xe,"_d",{b:we,o:Ye,l:Se,e:Me,v:new ue(we)});vt<Me;)Mt(xe,vt++)}),me=oe.prototype=I(Ce),d(me,"constructor",oe)):r(function(){oe(1)})&&r(function(){new oe(-1)})&&A(function(xe){new oe,new oe(null),new oe(1.5),new oe(xe)},!0)||(oe=ne(function(xe,de,Be,Oe){var we;return c(xe,oe,se),k(de)?de instanceof Q||(we=b(de))=="ArrayBuffer"||we=="SharedArrayBuffer"?Oe!==void 0?new _e(de,je(Be,q),Oe):Be!==void 0?new _e(de,je(Be,q)):new _e(de):Ae in de?qe(oe,de):Ze.call(oe,de):new _e(v(de))}),W(Re!==Function.prototype?T(_e).concat(T(Re)):T(_e),function(xe){xe in oe||d(oe,xe,_e[xe])}),oe.prototype=me,t||(me.constructor=oe));var We=me[Ge],Je=!!We&&(We.name=="values"||We.name==null),ht=ze.values;d(oe,ot,!0),d(me,Ae,se),d(me,Et,!0),d(me,De,oe),(he?new oe(1)[Le]==se:Le in me)||z(me,Le,{get:function(){return se}}),Pe[se]=oe,n(n.G+n.W+n.F*(oe!=_e),Pe),n(n.S,se,{BYTES_PER_ELEMENT:q}),n(n.S+n.F*r(function(){_e.of.call(oe,1)}),se,{from:Ze,of:Ot}),"BYTES_PER_ELEMENT"in me||d(me,"BYTES_PER_ELEMENT",q),n(n.P,se,lt),P(se),n(n.P+n.F*Bt,se,{set:ut}),n(n.P+n.F*!Je,se,ze),t||me.toString==Te||(me.toString=Te),n(n.P+n.F*r(function(){new oe(1).slice()}),se,{slice:ct}),n(n.P+n.F*(r(function(){return[1,2].toLocaleString()!=new oe([1,2]).toLocaleString()})||!r(function(){me.toLocaleString.call([1,2])})),se,{toLocaleString:st}),D[se]=Je?We:ht,t||Je||d(me,Ge,ht)}}else l.exports=function(){}},function(l,a,e){var t=e(13);l.exports=function(o,r){if(!t(o))return o;var n,i;if(r&&typeof(n=o.toString)=="function"&&!t(i=n.call(o))||typeof(n=o.valueOf)=="function"&&!t(i=n.call(o))||!r&&typeof(n=o.toString)=="function"&&!t(i=n.call(o)))return i;throw TypeError("Can't convert object to primitive value")}},function(l,a,e){var t=e(44)("meta"),o=e(13),r=e(26),n=e(19).f,i=0,s=Object.isExtensible||function(){return!0},u=!e(11)(function(){return s(Object.preventExtensions({}))}),c=function(d){n(d,t,{value:{i:"O"+ ++i,w:{}}})},p=l.exports={KEY:t,NEED:!1,fastKey:function(d,h){if(!o(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!r(d,t)){if(!s(d))return"F";if(!h)return"E";c(d)}return d[t].i},getWeak:function(d,h){if(!r(d,t)){if(!s(d))return!0;if(!h)return!1;c(d)}return d[t].w},onFreeze:function(d){return u&&p.NEED&&s(d)&&!r(d,t)&&c(d),d}}},function(l,a,e){var t=e(364),o=e(365),r=e(141),n=e(366);l.exports=function(i){return t(i)||o(i)||r(i)||n()}},function(l,a){l.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(l,a){var e=0,t=Math.random();l.exports=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++e+t).toString(36))}},function(l,a){l.exports=!1},function(l,a,e){var t=e(111),o=e(85);l.exports=Object.keys||function(r){return t(r,o)}},function(l,a,e){var t=e(33),o=Math.max,r=Math.min;l.exports=function(n,i){return(n=t(n))<0?o(n+i,0):r(n,i)}},function(l,a,e){var t=e(12),o=e(112),r=e(85),n=e(84)("IE_PROTO"),i=function(){},s=function(){var u,c=e(82)("iframe"),p=r.length;for(c.style.display="none",e(86).appendChild(c),c.src="javascript:",(u=c.contentWindow.document).open(),u.write("<script>document.F=Object<\/script>"),u.close(),s=u.F;p--;)delete s.prototype[r[p]];return s()};l.exports=Object.create||function(u,c){var p;return u!==null?(i.prototype=t(u),p=new i,i.prototype=null,p[n]=u):p=s(),c===void 0?p:o(p,c)}},function(l,a,e){var t=e(111),o=e(85).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(r){return t(r,o)}},function(l,a,e){var t=e(26),o=e(20),r=e(84)("IE_PROTO"),n=Object.prototype;l.exports=Object.getPrototypeOf||function(i){return i=o(i),t(i,r)?i[r]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?n:null}},function(l,a,e){var t=e(14)("unscopables"),o=Array.prototype;o[t]==null&&e(27)(o,t,{}),l.exports=function(r){o[t][r]=!0}},function(l,a,e){var t=e(13);l.exports=function(o,r){if(!t(o)||o._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return o}},function(l,a,e){var t=e(19).f,o=e(26),r=e(14)("toStringTag");l.exports=function(n,i,s){n&&!o(n=s?n:n.prototype,r)&&t(n,r,{configurable:!0,value:i})}},function(l,a,e){var t=e(0),o=e(38),r=e(11),n=e(88),i="["+n+"]",s=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),c=function(d,h,g){var f={},v=r(function(){return!!n[d]()||"\u200B\x85"[d]()!="\u200B\x85"}),y=f[d]=v?h(p):n[d];g&&(f[g]=y),t(t.P+t.F*v,"String",f)},p=c.trim=function(d,h){return d=String(o(d)),1&h&&(d=d.replace(s,"")),2&h&&(d=d.replace(u,"")),d};l.exports=c},function(l,a){l.exports={}},function(l,a,e){"use strict";var t=e(10),o=e(19),r=e(18),n=e(14)("species");l.exports=function(i){var s=t[i];r&&s&&!s[n]&&o.f(s,n,{configurable:!0,get:function(){return this}})}},function(l,a){l.exports=function(e,t,o,r){if(!(e instanceof t)||r!==void 0&&r in e)throw TypeError(o+": incorrect invocation!");return e}},function(l,a,e){var t=e(23);l.exports=function(o,r,n){for(var i in r)t(o,i,r[i],n);return o}},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(144)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(){(0,i.default)(this,d)}return(0,s.default)(d,null,[{key:"ui",value:function(h,g){return d._t(h,g)}},{key:"t",value:function(h,g){return d._t(h,g)}},{key:"setDictionary",value:function(h){d.currentDictionary=h}},{key:"_t",value:function(h,g){var f=d.getNamespace(h);return f&&f[g]?f[g]:g}},{key:"getNamespace",value:function(h){return h.split(".").reduce(function(g,f){return g&&Object.keys(g).length?g[f]:{}},d.currentDictionary)}}]),d}();n.default=p,p.displayName="I18n",p.currentDictionary=u.default,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(375),e(8)],(r=typeof(t=function(n,i,s,u,c){"use strict";var p=e(9),d=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=d(i),s=d(s),u=d(u),c=p(c);var h=function(){function g(f){var v=this;(0,i.default)(this,g),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.onKeyDown=function(y){if(v.isEventReadyForHandling(y))switch(g.usedKeys.includes(y.keyCode)&&y.preventDefault(),y.keyCode){case c.keyCodes.TAB:v.handleTabPress(y);break;case c.keyCodes.LEFT:case c.keyCodes.UP:v.flipLeft();break;case c.keyCodes.RIGHT:case c.keyCodes.DOWN:v.flipRight();break;case c.keyCodes.ENTER:v.handleEnterPress(y)}},this.allowArrows=!c.isBoolean(f.allowArrows)||f.allowArrows,this.iterator=new u.default(f.items,f.focusedItemClass),this.activateCallback=f.activateCallback}return(0,s.default)(g,[{key:"activate",value:function(f){this.activated=!0,f&&this.iterator.setItems(f),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(f){var v=[c.keyCodes.TAB,c.keyCodes.ENTER],y=this.iterator.currentItem==document.activeElement;return this.allowArrows&&!y&&v.push(c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.UP,c.keyCodes.DOWN),this.activated&&v.indexOf(f.keyCode)!==-1}},{key:"handleTabPress",value:function(f){switch(f.shiftKey?u.default.directions.LEFT:u.default.directions.RIGHT){case u.default.directions.RIGHT:this.flipRight();break;case u.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(f){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),c.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),f.preventDefault(),f.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[c.keyCodes.TAB,c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.ENTER,c.keyCodes.UP,c.keyCodes.DOWN]}}]),g}();n.default=h,h.displayName="Flipper",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(42),e(21),e(22),e(2),e(3),e(15),e(8),e(148),e(25)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v){"use strict";var y,w=e(9),_=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockToolAPI=void 0,i=_(i),s=_(s),u=_(u),c=_(c),p=_(p),d=_(d),h=_(h),g=w(g),f=_(f),v=_(v),n.BlockToolAPI=y,function(k){k.APPEND_CALLBACK="appendCallback",k.RENDERED="rendered",k.MOVED="moved",k.UPDATED="updated",k.REMOVED="removed",k.ON_PASTE="onPaste"}(y||(n.BlockToolAPI=y={}));var b=function(){function k(m){var T=this,E=m.data,O=m.tool,x=m.api,C=m.readOnly,B=m.tunes,R=m.tunesData;(0,p.default)(this,k),this.cachedInputs=[],this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.modificationDebounceTimer=450,this.didMutated=g.debounce(function(){T.cachedInputs=[],T.updateCurrentInput(),T.call(y.UPDATED)},this.modificationDebounceTimer),this.handleFocus=function(){T.cachedInputs=[],T.updateCurrentInput()},this.name=O.name,this.settings=O.settings,this.config=O.settings.config||{},this.api=x,this.blockAPI=new f.default(this),this.mutationObserver=new MutationObserver(this.didMutated),this.tool=O,this.toolInstance=O.create(E,this.blockAPI,C),this.tunes=B,this.composeTunes(R),this.holder=this.compose()}var M,S,I;return(0,d.default)(k,[{key:"call",value:function(m,T){if(this.toolInstance[m]&&this.toolInstance[m]instanceof Function){m===y.APPEND_CALLBACK&&g.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[m].call(this.toolInstance,T)}catch(E){g.log("Error during '".concat(m,"' call: ").concat(E.message),"error")}}}},{key:"mergeWith",value:(I=(0,c.default)(u.default.mark(function m(T){return u.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.toolInstance.merge(T);case 2:case"end":return E.stop()}},m,this)})),function(m){return I.apply(this,arguments)})},{key:"save",value:(S=(0,c.default)(u.default.mark(function m(){var T,E,O,x,C=this;return u.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this.toolInstance.save(this.pluginsContent);case 2:return T=B.sent,E=this.unavailableTunesData,[].concat((0,s.default)(this.tunesInstances.entries()),(0,s.default)(this.defaultTunesInstances.entries())).forEach(function(R){var N=(0,i.default)(R,2),D=N[0],A=N[1];if(g.isFunction(A.save))try{E[D]=A.save()}catch(P){g.log("Tune ".concat(A.constructor.name," save method throws an Error %o"),"warn",P)}}),O=window.performance.now(),B.abrupt("return",Promise.resolve(T).then(function(R){return x=window.performance.now(),{tool:C.name,data:R,tunes:E,time:x-O}}).catch(function(R){g.log("Saving proccess for ".concat(C.name," tool failed due to the ").concat(R),"log","red")}));case 7:case"end":return B.stop()}},m,this)})),function(){return S.apply(this,arguments)})},{key:"validate",value:(M=(0,c.default)(u.default.mark(function m(T){var E;return u.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(E=!0,!(this.toolInstance.validate instanceof Function)){O.next=5;break}return O.next=4,this.toolInstance.validate(T);case 4:E=O.sent;case 5:return O.abrupt("return",E);case 6:case"end":return O.stop()}},m,this)})),function(m){return M.apply(this,arguments)})},{key:"renderTunes",value:function(){var m=document.createDocumentFragment(),T=document.createDocumentFragment();return this.tunesInstances.forEach(function(E){h.default.append(m,E.render())}),this.defaultTunesInstances.forEach(function(E){h.default.append(T,E.render())}),[m,T]}},{key:"updateCurrentInput",value:function(){this.currentInput=h.default.isNativeInput(document.activeElement)||!v.default.anchorNode?document.activeElement:v.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"destroy",value:function(){g.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(g.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var m=h.default.make("div",k.CSS.wrapper),T=h.default.make("div",k.CSS.content),E=this.toolInstance.render();T.appendChild(E);var O=T;return[].concat((0,s.default)(this.tunesInstances.values()),(0,s.default)(this.defaultTunesInstances.values())).forEach(function(x){if(g.isFunction(x.wrap))try{O=x.wrap(O)}catch(C){g.log("Tune ".concat(x.constructor.name," wrap method throws an Error %o"),"warn",C)}}),m.appendChild(O),m}},{key:"composeTunes",value:function(m){var T=this;Array.from(this.tunes.values()).forEach(function(E){(E.isInternal?T.defaultTunesInstances:T.tunesInstances).set(E.name,E.create(m[E.name],T.blockAPI))}),Object.entries(m).forEach(function(E){var O=(0,i.default)(E,2),x=O[0],C=O[1];T.tunesInstances.has(x)||(T.unavailableTunesData[x]=C)})}},{key:"addInputEvents",value:function(){var m=this;this.inputs.forEach(function(T){T.addEventListener("focus",m.handleFocus)})}},{key:"removeInputEvents",value:function(){var m=this;this.inputs.forEach(function(T){T.removeEventListener("focus",m.handleFocus)})}},{key:"inputs",get:function(){if(this.cachedInputs.length!==0)return this.cachedInputs;var m=h.default.findAllInputs(this.holder);return this.inputIndex>m.length-1&&(this.inputIndex=m.length-1),this.cachedInputs=m,m}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(m){var T=this.inputs.findIndex(function(E){return E===m||E.contains(m)});T!==-1&&(this.inputIndex=T)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var m=this.inputs;return m[m.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then(function(m){return m&&!g.isEmpty(m.data)?m.data:{}})}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return g.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){var m=h.default.isEmpty(this.pluginsContent),T=!this.hasMedia;return m&&T}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(m){this.holder.classList.toggle(k.CSS.focused,m)},get:function(){return this.holder.classList.contains(k.CSS.focused)}},{key:"selected",set:function(m){m?this.holder.classList.add(k.CSS.selected):this.holder.classList.remove(k.CSS.selected)},get:function(){return this.holder.classList.contains(k.CSS.selected)}},{key:"stretched",set:function(m){this.holder.classList.toggle(k.CSS.wrapperStretched,m)},get:function(){return this.holder.classList.contains(k.CSS.wrapperStretched)}},{key:"dropTarget",set:function(m){this.holder.classList.toggle(k.CSS.dropTarget,m)}},{key:"pluginsContent",get:function(){var m=this.holder.querySelector(".".concat(k.CSS.content));if(m&&m.childNodes.length)for(var T=m.childNodes.length-1;T>=0;T--){var E=m.childNodes[T];if(!h.default.isExtensionNode(E))return E}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),k}();n.default=b,b.displayName="Block"})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(37);l.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return t(o)=="String"?o.split(""):Object(o)}},function(l,a){a.f={}.propertyIsEnumerable},function(l,a,e){var t=e(37),o=e(14)("toStringTag"),r=t(function(){return arguments}())=="Arguments";l.exports=function(n){var i,s,u;return n===void 0?"Undefined":n===null?"Null":typeof(s=function(c,p){try{return c[p]}catch(d){}}(i=Object(n),o))=="string"?s:r?t(i):(u=t(i))=="Object"&&typeof i.callee=="function"?"Arguments":u}},function(l,a,e){var t=e(12),o=e(32),r=e(14)("species");l.exports=function(n,i){var s,u=t(n).constructor;return u===void 0||(s=t(u)[r])==null?i:o(s)}},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(8)],(r=typeof(t=function(n,i,s,u){"use strict";var c,p,d,h,g,f,v=e(9),y=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.InternalTuneSettings=n.InternalInlineToolSettings=n.InternalBlockToolSettings=n.CommonInternalSettings=n.UserSettings=n.ToolType=void 0,i=y(i),s=y(s),u=v(u),n.ToolType=c,function(_){_[_.Block=0]="Block",_[_.Inline=1]="Inline",_[_.Tune=2]="Tune"}(c||(n.ToolType=c={})),n.UserSettings=p,function(_){_.Shortcut="shortcut",_.Toolbox="toolbox",_.EnabledInlineTools="inlineToolbar",_.EnabledBlockTunes="tunes",_.Config="config"}(p||(n.UserSettings=p={})),n.CommonInternalSettings=d,function(_){_.Shortcut="shortcut",_.SanitizeConfig="sanitize"}(d||(n.CommonInternalSettings=d={})),n.InternalBlockToolSettings=h,function(_){_.IsEnabledLineBreaks="enableLineBreaks",_.Toolbox="toolbox",_.ConversionConfig="conversionConfig",_.IsReadOnlySupported="isReadOnlySupported",_.PasteConfig="pasteConfig"}(h||(n.InternalBlockToolSettings=h={})),n.InternalInlineToolSettings=g,function(_){_.IsInline="isInline",_.Title="title"}(g||(n.InternalInlineToolSettings=g={})),n.InternalTuneSettings=f,function(_){_.IsTune="isTune"}(f||(n.InternalTuneSettings=f={}));var w=function(){function _(b){var k=b.name,M=b.constructable,S=b.config,I=b.api,m=b.isDefault,T=b.isInternal,E=T!==void 0&&T,O=b.defaultPlaceholder;(0,i.default)(this,_),this.api=I,this.name=k,this.constructable=M,this.config=S,this.isDefault=m,this.isInternal=E,this.defaultPlaceholder=O}return(0,s.default)(_,[{key:"reset",value:function(){if(u.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(u.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===c.Inline}},{key:"isBlock",value:function(){return this.type===c.Block}},{key:"isTune",value:function(){return this.type===c.Tune}},{key:"settings",get:function(){var b=this.config[p.Config]||{};return this.isDefault&&!("placeholder"in b)&&this.defaultPlaceholder&&(b.placeholder=this.defaultPlaceholder),b}},{key:"shortcut",get:function(){var b=this.constructable[d.Shortcut];return this.config[p.Shortcut]||b}},{key:"sanitizeConfig",get:function(){return this.constructable[d.SanitizeConfig]}}]),_}();n.default=w,w.displayName="BaseTool"})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(17),o=e(10),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(l.exports=function(n,i){return r[n]||(r[n]=i!==void 0?i:{})})("versions",[]).push({version:t.version,mode:e(45)?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},function(l,a,e){var t=e(28),o=e(16),r=e(47);l.exports=function(n){return function(i,s,u){var c,p=t(i),d=o(p.length),h=r(u,d);if(n&&s!=s){for(;d>h;)if((c=p[h++])!=c)return!0}else for(;d>h;h++)if((n||h in p)&&p[h]===s)return n||h||0;return!n&&-1}}},function(l,a){a.f=Object.getOwnPropertySymbols},function(l,a,e){var t=e(37);l.exports=Array.isArray||function(o){return t(o)=="Array"}},function(l,a,e){var t=e(14)("iterator"),o=!1;try{var r=[7][t]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(n){}l.exports=function(n,i){if(!i&&!o)return!1;var s=!1;try{var u=[7],c=u[t]();c.next=function(){return{done:s=!0}},u[t]=function(){return c},n(u)}catch(p){}return s}},function(l,a,e){"use strict";var t=e(12);l.exports=function(){var o=t(this),r="";return o.global&&(r+="g"),o.ignoreCase&&(r+="i"),o.multiline&&(r+="m"),o.unicode&&(r+="u"),o.sticky&&(r+="y"),r}},function(l,a,e){"use strict";var t=e(64),o=RegExp.prototype.exec;l.exports=function(r,n){var i=r.exec;if(typeof i=="function"){var s=i.call(r,n);if(typeof s!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if(t(r)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(r,n)}},function(l,a,e){"use strict";e(129);var t=e(23),o=e(27),r=e(11),n=e(38),i=e(14),s=e(103),u=i("species"),c=!r(function(){var d=/./;return d.exec=function(){var h=[];return h.groups={a:"7"},h},"".replace(d,"$<a>")!=="7"}),p=function(){var d=/(?:)/,h=d.exec;d.exec=function(){return h.apply(this,arguments)};var g="ab".split(d);return g.length===2&&g[0]==="a"&&g[1]==="b"}();l.exports=function(d,h,g){var f=i(d),v=!r(function(){var M={};return M[f]=function(){return 7},""[d](M)!=7}),y=v?!r(function(){var M=!1,S=/a/;return S.exec=function(){return M=!0,null},d==="split"&&(S.constructor={},S.constructor[u]=function(){return S}),S[f](""),!M}):void 0;if(!v||!y||d==="replace"&&!c||d==="split"&&!p){var w=/./[f],_=g(n,f,""[d],function(M,S,I,m,T){return S.exec===s?v&&!T?{done:!0,value:w.call(S,I,m)}:{done:!0,value:M.call(I,S,m)}:{done:!1}}),b=_[0],k=_[1];t(String.prototype,d,b),o(RegExp.prototype,f,h==2?function(M,S){return k.call(M,this,S)}:function(M){return k.call(M,this)})}}},function(l,a,e){var t=e(31),o=e(124),r=e(98),n=e(12),i=e(16),s=e(100),u={},c={};(a=l.exports=function(p,d,h,g,f){var v,y,w,_,b=f?function(){return p}:s(p),k=t(h,g,d?2:1),M=0;if(typeof b!="function")throw TypeError(p+" is not iterable!");if(r(b)){for(v=i(p.length);v>M;M++)if((_=d?k(n(y=p[M])[0],y[1]):k(p[M]))===u||_===c)return _}else for(w=b.call(p);!(y=w.next()).done;)if((_=o(w,k,y.value,d))===u||_===c)return _}).BREAK=u,a.RETURN=c},function(l,a,e){var t=e(10).navigator;l.exports=t&&t.userAgent||""},function(l,a,e){"use strict";var t=e(10),o=e(0),r=e(23),n=e(58),i=e(41),s=e(75),u=e(57),c=e(13),p=e(11),d=e(71),h=e(53),g=e(89);l.exports=function(f,v,y,w,_,b){var k=t[f],M=k,S=_?"set":"add",I=M&&M.prototype,m={},T=function(R){var N=I[R];r(I,R,R=="delete"||R=="has"?function(D){return!(b&&!c(D))&&N.call(this,D===0?0:D)}:R=="get"?function(D){return b&&!c(D)?void 0:N.call(this,D===0?0:D)}:R=="add"?function(D){return N.call(this,D===0?0:D),this}:function(D,A){return N.call(this,D===0?0:D,A),this})};if(typeof M=="function"&&(b||I.forEach&&!p(function(){new M().entries().next()}))){var E=new M,O=E[S](b?{}:-0,1)!=E,x=p(function(){E.has(1)}),C=d(function(R){new M(R)}),B=!b&&p(function(){for(var R=new M,N=5;N--;)R[S](N,N);return!R.has(-0)});C||((M=v(function(R,N){u(R,M,f);var D=g(new k,R,M);return N!=null&&s(N,_,D[S],D),D})).prototype=I,I.constructor=M),(x||B)&&(T("delete"),T("has"),_&&T("get")),(B||O)&&T(S),b&&I.clear&&delete I.clear}else M=w.getConstructor(v,f,_,S),n(M.prototype,y),i.NEED=!0;return h(M,f),m[f]=M,o(o.G+o.W+o.F*(M!=k),m),b||w.setStrong(M,f,_),M}},function(l,a,e){for(var t,o=e(10),r=e(27),n=e(44),i=n("typed_array"),s=n("view"),u=!(!o.ArrayBuffer||!o.DataView),c=u,p=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(t=o[d[p++]])?(r(t.prototype,i,!0),r(t.prototype,s,!0)):c=!1;l.exports={ABV:u,CONSTR:c,TYPED:i,VIEW:s}},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"getMethodsForTool",value:function(b){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(b)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods}}}]),_}((d=h(d)).default);n.default=f,f.displayName="API",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8),e(59),e(81)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v){"use strict";var y=e(9),w=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=w(i),s=w(s),u=w(u),c=w(c),p=w(p),d=w(d),h=w(h),g=y(g),f=w(f);var b=function(k){(0,u.default)(I,k);var M,S=(M=I,function(){var m,T=(0,p.default)(M);if(_()){var E=(0,p.default)(this).constructor;m=Reflect.construct(T,arguments,E)}else m=T.apply(this,arguments);return(0,c.default)(this,m)});function I(){return(0,i.default)(this,I),S.apply(this,arguments)}return(0,s.default)(I,[{key:"toggleReadOnly",value:function(m){m?(this.destroy(),this.Editor.Toolbox.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"move",value:function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];m&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var T=this.Editor.BlockManager.currentBlock.holder;if(T){var E=this.Editor.UI.isMobile,O=T.offsetHeight,x=T.offsetTop;if(E)x+=O;else{var C=Math.floor(O/2);this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(C,"px - 50%), 0)"),this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(C,"px - 50%), 0)")}this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(x),"px, 0)")}}},{key:"open",value:function(){var m=this,T=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],E=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];g.delay(function(){m.move(E),m.nodes.wrapper.classList.add(m.CSS.toolbarOpened),T?m.blockActions.show():m.blockActions.hide()},50)()}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.Editor.Toolbox.close(),this.Editor.BlockSettings.close()}},{key:"make",value:function(){var m=this;this.nodes.wrapper=h.default.make("div",this.CSS.toolbar),["content","actions"].forEach(function(O){m.nodes[O]=h.default.make("div",m.CSS[O])}),h.default.append(this.nodes.wrapper,this.nodes.content),h.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=h.default.make("div",this.CSS.plusButton),h.default.append(this.nodes.plusButton,h.default.svg("plus",14,14)),h.default.append(this.nodes.content,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",function(){m.plusButtonClicked()},!1);var T=h.default.make("div");T.appendChild(document.createTextNode(f.default.ui(v.I18nInternalNS.ui.toolbar.toolbox,"Add"))),T.appendChild(h.default.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21E5 Tab"})),this.Editor.Tooltip.onHover(this.nodes.plusButton,T),this.nodes.blockActionsButtons=h.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=h.default.make("span",this.CSS.settingsToggler);var E=h.default.svg("dots",8,8);h.default.append(this.nodes.settingsToggler,E),h.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),h.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.Editor.Tooltip.onHover(this.nodes.settingsToggler,f.default.ui(v.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{placement:"top"}),h.default.append(this.nodes.content,this.Editor.Toolbox.nodes.toolbox),h.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),h.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"plusButtonClicked",value:function(){this.Editor.Toolbox.toggle()}},{key:"enableModuleBindings",value:function(){var m=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"click",function(){m.settingsTogglerClicked()})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open()}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.Editor.Toolbox.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var m=this;return{hide:function(){return m.nodes.plusButton.classList.add(m.CSS.plusButtonHidden)},show:function(){m.Editor.Toolbox.isEmpty||m.nodes.plusButton.classList.remove(m.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var m=this;return{hide:function(){m.nodes.actions.classList.remove(m.CSS.actionsOpened)},show:function(){m.nodes.actions.classList.add(m.CSS.actionsOpened)}}}}]),I}(d.default);n.default=b,b.displayName="Toolbar",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(144),e(8)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.I18nInternalNS=void 0,i=c(i);var p=function d(h,g){var f={};return Object.entries(h).forEach(function(v){var y=(0,i.default)(v,2),w=y[0],_=y[1];if((0,u.isObject)(_)){var b=g?"".concat(g,".").concat(w):w,k=Object.values(_).every(function(M){return(0,u.isString)(M)});f[w]=k?b:d(_,b)}else f[w]=_}),f}((s=c(s)).default);n.I18nInternalNS=p})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(13),o=e(10).document,r=t(o)&&t(o.createElement);l.exports=function(n){return r?o.createElement(n):{}}},function(l,a,e){a.f=e(14)},function(l,a,e){var t=e(67)("keys"),o=e(44);l.exports=function(r){return t[r]||(t[r]=o(r))}},function(l,a){l.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(l,a,e){var t=e(10).document;l.exports=t&&t.documentElement},function(l,a,e){var t=e(13),o=e(12),r=function(n,i){if(o(n),!t(i)&&i!==null)throw TypeError(i+": can't set as prototype!")};l.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,i,s){try{(s=e(31)(Function.call,e(34).f(Object.prototype,"__proto__").set,2))(n,[]),i=!(n instanceof Array)}catch(u){i=!0}return function(u,c){return r(u,c),i?u.__proto__=c:s(u,c),u}}({},!1):void 0),check:r}},function(l,a){l.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(l,a,e){var t=e(13),o=e(87).set;l.exports=function(r,n,i){var s,u=n.constructor;return u!==i&&typeof u=="function"&&(s=u.prototype)!==i.prototype&&t(s)&&o&&o(r,s),r}},function(l,a,e){"use strict";var t=e(33),o=e(38);l.exports=function(r){var n=String(o(this)),i="",s=t(r);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(n+=n))1&s&&(i+=n);return i}},function(l,a){l.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}},function(l,a){var e=Math.expm1;l.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!=-2e-17?function(t){return(t=+t)==0?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},function(l,a,e){var t=e(33),o=e(38);l.exports=function(r){return function(n,i){var s,u,c=String(o(n)),p=t(i),d=c.length;return p<0||p>=d?r?"":void 0:(s=c.charCodeAt(p))<55296||s>56319||p+1===d||(u=c.charCodeAt(p+1))<56320||u>57343?r?c.charAt(p):s:r?c.slice(p,p+2):u-56320+(s-55296<<10)+65536}}},function(l,a,e){"use strict";var t=e(45),o=e(0),r=e(23),n=e(27),i=e(55),s=e(123),u=e(53),c=e(50),p=e(14)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};l.exports=function(g,f,v,y,w,_,b){s(v,f,y);var k,M,S,I=function(N){if(!d&&N in O)return O[N];switch(N){case"keys":case"values":return function(){return new v(this,N)}}return function(){return new v(this,N)}},m=f+" Iterator",T=w=="values",E=!1,O=g.prototype,x=O[p]||O["@@iterator"]||w&&O[w],C=x||I(w),B=w?T?I("entries"):C:void 0,R=f=="Array"&&O.entries||x;if(R&&(S=c(R.call(new g)))!==Object.prototype&&S.next&&(u(S,m,!0),t||typeof S[p]=="function"||n(S,p,h)),T&&x&&x.name!=="values"&&(E=!0,C=function(){return x.call(this)}),t&&!b||!d&&!E&&O[p]||n(O,p,C),i[f]=C,i[m]=h,w)if(k={values:T?C:I("values"),keys:_?C:I("keys"),entries:B},b)for(M in k)M in O||r(O,M,k[M]);else o(o.P+o.F*(d||E),f,k);return k}},function(l,a,e){var t=e(96),o=e(38);l.exports=function(r,n,i){if(t(n))throw TypeError("String#"+i+" doesn't accept regex!");return String(o(r))}},function(l,a,e){var t=e(13),o=e(37),r=e(14)("match");l.exports=function(n){var i;return t(n)&&((i=n[r])!==void 0?!!i:o(n)=="RegExp")}},function(l,a,e){var t=e(14)("match");l.exports=function(o){var r=/./;try{"/./"[o](r)}catch(n){try{return r[t]=!1,!"/./"[o](r)}catch(i){}}return!0}},function(l,a,e){var t=e(55),o=e(14)("iterator"),r=Array.prototype;l.exports=function(n){return n!==void 0&&(t.Array===n||r[o]===n)}},function(l,a,e){"use strict";var t=e(19),o=e(43);l.exports=function(r,n,i){n in r?t.f(r,n,o(0,i)):r[n]=i}},function(l,a,e){var t=e(64),o=e(14)("iterator"),r=e(55);l.exports=e(17).getIteratorMethod=function(n){if(n!=null)return n[o]||n["@@iterator"]||r[t(n)]}},function(l,a,e){"use strict";var t=e(20),o=e(47),r=e(16);l.exports=function(n){for(var i=t(this),s=r(i.length),u=arguments.length,c=o(u>1?arguments[1]:void 0,s),p=u>2?arguments[2]:void 0,d=p===void 0?s:o(p,s);d>c;)i[c++]=n;return i}},function(l,a,e){"use strict";var t=e(51),o=e(128),r=e(55),n=e(28);l.exports=e(94)(Array,"Array",function(i,s){this._t=n(i),this._i=0,this._k=s},function(){var i=this._t,s=this._k,u=this._i++;return!i||u>=i.length?(this._t=void 0,o(1)):o(0,s=="keys"?u:s=="values"?i[u]:[u,i[u]])},"values"),r.Arguments=r.Array,t("keys"),t("values"),t("entries")},function(l,a,e){"use strict";var t,o,r=e(72),n=RegExp.prototype.exec,i=String.prototype.replace,s=n,u=(t=/a/,o=/b*/g,n.call(t,"a"),n.call(o,"a"),t.lastIndex!==0||o.lastIndex!==0),c=/()??/.exec("")[1]!==void 0;(u||c)&&(s=function(p){var d,h,g,f,v=this;return c&&(h=new RegExp("^"+v.source+"$(?!\\s)",r.call(v))),u&&(d=v.lastIndex),g=n.call(v,p),u&&g&&(v.lastIndex=v.global?g.index+g[0].length:d),c&&g&&g.length>1&&i.call(g[0],h,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(g[f]=void 0)}),g}),l.exports=s},function(l,a,e){"use strict";var t=e(93)(!0);l.exports=function(o,r,n){return r+(n?t(o,r).length:1)}},function(l,a,e){var t,o,r,n=e(31),i=e(117),s=e(86),u=e(82),c=e(10),p=c.process,d=c.setImmediate,h=c.clearImmediate,g=c.MessageChannel,f=c.Dispatch,v=0,y={},w=function(){var b=+this;if(y.hasOwnProperty(b)){var k=y[b];delete y[b],k()}},_=function(b){w.call(b.data)};d&&h||(d=function(b){for(var k=[],M=1;arguments.length>M;)k.push(arguments[M++]);return y[++v]=function(){i(typeof b=="function"?b:Function(b),k)},t(v),v},h=function(b){delete y[b]},e(37)(p)=="process"?t=function(b){p.nextTick(n(w,b,1))}:f&&f.now?t=function(b){f.now(n(w,b,1))}:g?(r=(o=new g).port2,o.port1.onmessage=_,t=n(r.postMessage,r,1)):c.addEventListener&&typeof postMessage=="function"&&!c.importScripts?(t=function(b){c.postMessage(b+"","*")},c.addEventListener("message",_,!1)):t="onreadystatechange"in u("script")?function(b){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),w.call(b)}}:function(b){setTimeout(n(w,b,1),0)}),l.exports={set:d,clear:h}},function(l,a,e){"use strict";var t=e(10),o=e(18),r=e(45),n=e(78),i=e(27),s=e(58),u=e(11),c=e(57),p=e(33),d=e(16),h=e(136),g=e(49).f,f=e(19).f,v=e(101),y=e(53),w=t.ArrayBuffer,_=t.DataView,b=t.Math,k=t.RangeError,M=t.Infinity,S=w,I=b.abs,m=b.pow,T=b.floor,E=b.log,O=b.LN2,x=o?"_b":"buffer",C=o?"_l":"byteLength",B=o?"_o":"byteOffset";function R(W,G,ie){var te,re,fe,ve=new Array(ie),le=8*ie-G-1,be=(1<<le)-1,ge=be>>1,pe=G===23?m(2,-24)-m(2,-77):0,Y=0,Z=W<0||W===0&&1/W<0?1:0;for((W=I(W))!=W||W===M?(re=W!=W?1:0,te=be):(te=T(E(W)/O),W*(fe=m(2,-te))<1&&(te--,fe*=2),(W+=te+ge>=1?pe/fe:pe*m(2,1-ge))*fe>=2&&(te++,fe/=2),te+ge>=be?(re=0,te=be):te+ge>=1?(re=(W*fe-1)*m(2,G),te+=ge):(re=W*m(2,ge-1)*m(2,G),te=0));G>=8;ve[Y++]=255&re,re/=256,G-=8);for(te=te<<G|re,le+=G;le>0;ve[Y++]=255&te,te/=256,le-=8);return ve[--Y]|=128*Z,ve}function N(W,G,ie){var te,re=8*ie-G-1,fe=(1<<re)-1,ve=fe>>1,le=re-7,be=ie-1,ge=W[be--],pe=127&ge;for(ge>>=7;le>0;pe=256*pe+W[be],be--,le-=8);for(te=pe&(1<<-le)-1,pe>>=-le,le+=G;le>0;te=256*te+W[be],be--,le-=8);if(pe===0)pe=1-ve;else{if(pe===fe)return te?NaN:ge?-M:M;te+=m(2,G),pe-=ve}return(ge?-1:1)*te*m(2,pe-G)}function D(W){return W[3]<<24|W[2]<<16|W[1]<<8|W[0]}function A(W){return[255&W]}function P(W){return[255&W,W>>8&255]}function j(W){return[255&W,W>>8&255,W>>16&255,W>>24&255]}function F(W){return R(W,52,8)}function L(W){return R(W,23,4)}function U(W,G,ie){f(W.prototype,G,{get:function(){return this[ie]}})}function z(W,G,ie,te){var re=h(+ie);if(re+G>W[C])throw k("Wrong index!");var fe=W[x]._b,ve=re+W[B],le=fe.slice(ve,ve+G);return te?le:le.reverse()}function H(W,G,ie,te,re,fe){var ve=h(+ie);if(ve+G>W[C])throw k("Wrong index!");for(var le=W[x]._b,be=ve+W[B],ge=te(+re),pe=0;pe<G;pe++)le[be+pe]=ge[fe?pe:G-pe-1]}if(n.ABV){if(!u(function(){w(1)})||!u(function(){new w(-1)})||u(function(){return new w,new w(1.5),new w(NaN),w.name!="ArrayBuffer"})){for(var X,K=(w=function(W){return c(this,w),new S(h(W))}).prototype=S.prototype,ee=g(S),J=0;ee.length>J;)(X=ee[J++])in w||i(w,X,S[X]);r||(K.constructor=w)}var Q=new _(new w(2)),ue=_.prototype.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||s(_.prototype,{setInt8:function(W,G){ue.call(this,W,G<<24>>24)},setUint8:function(W,G){ue.call(this,W,G<<24>>24)}},!0)}else w=function(W){c(this,w,"ArrayBuffer");var G=h(W);this._b=v.call(new Array(G),0),this[C]=G},_=function(W,G,ie){c(this,_,"DataView"),c(W,w,"DataView");var te=W[C],re=p(G);if(re<0||re>te)throw k("Wrong offset!");if(re+(ie=ie===void 0?te-re:d(ie))>te)throw k("Wrong length!");this[x]=W,this[B]=re,this[C]=ie},o&&(U(w,"byteLength","_l"),U(_,"buffer","_b"),U(_,"byteLength","_l"),U(_,"byteOffset","_o")),s(_.prototype,{getInt8:function(W){return z(this,1,W)[0]<<24>>24},getUint8:function(W){return z(this,1,W)[0]},getInt16:function(W){var G=z(this,2,W,arguments[1]);return(G[1]<<8|G[0])<<16>>16},getUint16:function(W){var G=z(this,2,W,arguments[1]);return G[1]<<8|G[0]},getInt32:function(W){return D(z(this,4,W,arguments[1]))},getUint32:function(W){return D(z(this,4,W,arguments[1]))>>>0},getFloat32:function(W){return N(z(this,4,W,arguments[1]),23,4)},getFloat64:function(W){return N(z(this,8,W,arguments[1]),52,8)},setInt8:function(W,G){H(this,1,W,A,G)},setUint8:function(W,G){H(this,1,W,A,G)},setInt16:function(W,G){H(this,2,W,P,G,arguments[2])},setUint16:function(W,G){H(this,2,W,P,G,arguments[2])},setInt32:function(W,G){H(this,4,W,j,G,arguments[2])},setUint32:function(W,G){H(this,4,W,j,G,arguments[2])},setFloat32:function(W,G){H(this,4,W,L,G,arguments[2])},setFloat64:function(W,G){H(this,8,W,F,G,arguments[2])}});y(w,"ArrayBuffer"),y(_,"DataView"),i(_.prototype,n.VIEW,!0),a.ArrayBuffer=w,a.DataView=_},function(l,a){function e(t,o){return l.exports=e=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},e(t,o)}l.exports=e},function(l,a,e){var t,o,r;o=[a,e(42),e(2),e(3),e(377)],(r=typeof(t=function(n,i,s,u,c){"use strict";var p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=p(i),s=p(s),u=p(u),c=p(c);var d=function(){function g(){(0,s.default)(this,g),this.registeredShortcuts=new Map}return(0,u.default)(g,[{key:"add",value:function(f){if(this.findShortcut(f.on,f.name))throw Error("Shortcut ".concat(f.name," is already registered for ").concat(f.on,". Please remove it before add a new handler."));var v=new c.default({name:f.name,on:f.on,callback:f.handler}),y=this.registeredShortcuts.get(f.on)||[];this.registeredShortcuts.set(f.on,[].concat((0,i.default)(y),[v]))}},{key:"remove",value:function(f,v){var y=this.findShortcut(f,v);if(y){y.remove();var w=this.registeredShortcuts.get(f);this.registeredShortcuts.set(f,w.filter(function(_){return _!==y}))}}},{key:"findShortcut",value:function(f,v){return(this.registeredShortcuts.get(f)||[]).find(function(y){return y.name===v})}}]),g}();d.displayName="Shortcuts";var h=new d;n.default=h,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){l.exports=!e(18)&&!e(11)(function(){return Object.defineProperty(e(82)("div"),"a",{get:function(){return 7}}).a!=7})},function(l,a,e){var t=e(10),o=e(17),r=e(45),n=e(83),i=e(19).f;l.exports=function(s){var u=o.Symbol||(o.Symbol=r?{}:t.Symbol||{});s.charAt(0)=="_"||s in u||i(u,s,{value:n.f(s)})}},function(l,a,e){var t=e(26),o=e(28),r=e(68)(!1),n=e(84)("IE_PROTO");l.exports=function(i,s){var u,c=o(i),p=0,d=[];for(u in c)u!=n&&t(c,u)&&d.push(u);for(;s.length>p;)t(c,u=s[p++])&&(~r(d,u)||d.push(u));return d}},function(l,a,e){var t=e(19),o=e(12),r=e(46);l.exports=e(18)?Object.defineProperties:function(n,i){o(n);for(var s,u=r(i),c=u.length,p=0;c>p;)t.f(n,s=u[p++],i[s]);return n}},function(l,a,e){var t=e(28),o=e(49).f,r={}.toString,n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(i){return n&&r.call(i)=="[object Window]"?function(s){try{return o(s)}catch(u){return n.slice()}}(i):o(t(i))}},function(l,a,e){"use strict";var t=e(18),o=e(46),r=e(69),n=e(63),i=e(20),s=e(62),u=Object.assign;l.exports=!u||e(11)(function(){var c={},p={},d=Symbol(),h="abcdefghijklmnopqrst";return c[d]=7,h.split("").forEach(function(g){p[g]=g}),u({},c)[d]!=7||Object.keys(u({},p)).join("")!=h})?function(c,p){for(var d=i(c),h=arguments.length,g=1,f=r.f,v=n.f;h>g;)for(var y,w=s(arguments[g++]),_=f?o(w).concat(f(w)):o(w),b=_.length,k=0;b>k;)y=_[k++],t&&!v.call(w,y)||(d[y]=w[y]);return d}:u},function(l,a){l.exports=Object.is||function(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}},function(l,a,e){"use strict";var t=e(32),o=e(13),r=e(117),n=[].slice,i={},s=function(u,c,p){if(!(c in i)){for(var d=[],h=0;h<c;h++)d[h]="a["+h+"]";i[c]=Function("F,a","return new F("+d.join(",")+")")}return i[c](u,p)};l.exports=Function.bind||function(u){var c=t(this),p=n.call(arguments,1),d=function(){var h=p.concat(n.call(arguments));return this instanceof d?s(c,h.length,h):r(c,h,u)};return o(c.prototype)&&(d.prototype=c.prototype),d}},function(l,a){l.exports=function(e,t,o){var r=o===void 0;switch(t.length){case 0:return r?e():e.call(o);case 1:return r?e(t[0]):e.call(o,t[0]);case 2:return r?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},function(l,a,e){var t=e(10).parseInt,o=e(54).trim,r=e(88),n=/^[-+]?0[xX]/;l.exports=t(r+"08")!==8||t(r+"0x16")!==22?function(i,s){var u=o(String(i),3);return t(u,s>>>0||(n.test(u)?16:10))}:t},function(l,a,e){var t=e(10).parseFloat,o=e(54).trim;l.exports=1/t(e(88)+"-0")!=-1/0?function(r){var n=o(String(r),3),i=t(n);return i===0&&n.charAt(0)=="-"?-0:i}:t},function(l,a,e){var t=e(37);l.exports=function(o,r){if(typeof o!="number"&&t(o)!="Number")throw TypeError(r);return+o}},function(l,a,e){var t=e(13),o=Math.floor;l.exports=function(r){return!t(r)&&isFinite(r)&&o(r)===r}},function(l,a){l.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(l,a,e){"use strict";var t=e(48),o=e(43),r=e(53),n={};e(27)(n,e(14)("iterator"),function(){return this}),l.exports=function(i,s,u){i.prototype=t(n,{next:o(1,u)}),r(i,s+" Iterator")}},function(l,a,e){var t=e(12);l.exports=function(o,r,n,i){try{return i?r(t(n)[0],n[1]):r(n)}catch(u){var s=o.return;throw s!==void 0&&t(s.call(o)),u}}},function(l,a,e){var t=e(278);l.exports=function(o,r){return new(t(o))(r)}},function(l,a,e){var t=e(32),o=e(20),r=e(62),n=e(16);l.exports=function(i,s,u,c,p){t(s);var d=o(i),h=r(d),g=n(d.length),f=p?g-1:0,v=p?-1:1;if(u<2)for(;;){if(f in h){c=h[f],f+=v;break}if(f+=v,p?f<0:g<=f)throw TypeError("Reduce of empty array with no initial value")}for(;p?f>=0:g>f;f+=v)f in h&&(c=s(c,h[f],f,d));return c}},function(l,a,e){"use strict";var t=e(20),o=e(47),r=e(16);l.exports=[].copyWithin||function(n,i){var s=t(this),u=r(s.length),c=o(n,u),p=o(i,u),d=arguments.length>2?arguments[2]:void 0,h=Math.min((d===void 0?u:o(d,u))-p,u-c),g=1;for(p<c&&c<p+h&&(g=-1,p+=h-1,c+=h-1);h-- >0;)p in s?s[c]=s[p]:delete s[c],c+=g,p+=g;return s}},function(l,a){l.exports=function(e,t){return{value:t,done:!!e}}},function(l,a,e){"use strict";var t=e(103);e(0)({target:"RegExp",proto:!0,forced:t!==/./.exec},{exec:t})},function(l,a,e){e(18)&&/./g.flags!="g"&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(72)})},function(l,a,e){"use strict";var t,o,r,n,i=e(45),s=e(10),u=e(31),c=e(64),p=e(0),d=e(13),h=e(32),g=e(57),f=e(75),v=e(65),y=e(105).set,w=e(298)(),_=e(132),b=e(299),k=e(76),M=e(133),S=s.TypeError,I=s.process,m=I&&I.versions,T=m&&m.v8||"",E=s.Promise,O=c(I)=="process",x=function(){},C=o=_.f,B=!!function(){try{var L=E.resolve(1),U=(L.constructor={})[e(14)("species")]=function(z){z(x,x)};return(O||typeof PromiseRejectionEvent=="function")&&L.then(x)instanceof U&&T.indexOf("6.6")!==0&&k.indexOf("Chrome/66")===-1}catch(z){}}(),R=function(L){var U;return!(!d(L)||typeof(U=L.then)!="function")&&U},N=function(L,U){if(!L._n){L._n=!0;var z=L._c;w(function(){for(var H=L._v,X=L._s==1,K=0,ee=function(J){var Q,ue,W,G=X?J.ok:J.fail,ie=J.resolve,te=J.reject,re=J.domain;try{G?(X||(L._h==2&&P(L),L._h=1),G===!0?Q=H:(re&&re.enter(),Q=G(H),re&&(re.exit(),W=!0)),Q===J.promise?te(S("Promise-chain cycle")):(ue=R(Q))?ue.call(Q,ie,te):ie(Q)):te(H)}catch(fe){re&&!W&&re.exit(),te(fe)}};z.length>K;)ee(z[K++]);L._c=[],L._n=!1,U&&!L._h&&D(L)})}},D=function(L){y.call(s,function(){var U,z,H,X=L._v,K=A(L);if(K&&(U=b(function(){O?I.emit("unhandledRejection",X,L):(z=s.onunhandledrejection)?z({promise:L,reason:X}):(H=s.console)&&H.error&&H.error("Unhandled promise rejection",X)}),L._h=O||A(L)?2:1),L._a=void 0,K&&U.e)throw U.v})},A=function(L){return L._h!==1&&(L._a||L._c).length===0},P=function(L){y.call(s,function(){var U;O?I.emit("rejectionHandled",L):(U=s.onrejectionhandled)&&U({promise:L,reason:L._v})})},j=function(L){var U=this;U._d||(U._d=!0,(U=U._w||U)._v=L,U._s=2,U._a||(U._a=U._c.slice()),N(U,!0))},F=function(L){var U,z=this;if(!z._d){z._d=!0,z=z._w||z;try{if(z===L)throw S("Promise can't be resolved itself");(U=R(L))?w(function(){var H={_w:z,_d:!1};try{U.call(L,u(F,H,1),u(j,H,1))}catch(X){j.call(H,X)}}):(z._v=L,z._s=1,N(z,!1))}catch(H){j.call({_w:z,_d:!1},H)}}};B||(E=function(L){g(this,E,"Promise","_h"),h(L),t.call(this);try{L(u(F,this,1),u(j,this,1))}catch(U){j.call(this,U)}},(t=function(L){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(E.prototype,{then:function(L,U){var z=C(v(this,E));return z.ok=typeof L!="function"||L,z.fail=typeof U=="function"&&U,z.domain=O?I.domain:void 0,this._c.push(z),this._a&&this._a.push(z),this._s&&N(this,!1),z.promise},catch:function(L){return this.then(void 0,L)}}),r=function(){var L=new t;this.promise=L,this.resolve=u(F,L,1),this.reject=u(j,L,1)},_.f=C=function(L){return L===E||L===n?new r(L):o(L)}),p(p.G+p.W+p.F*!B,{Promise:E}),e(53)(E,"Promise"),e(56)("Promise"),n=e(17).Promise,p(p.S+p.F*!B,"Promise",{reject:function(L){var U=C(this);return(0,U.reject)(L),U.promise}}),p(p.S+p.F*(i||!B),"Promise",{resolve:function(L){return M(i&&this===n?E:this,L)}}),p(p.S+p.F*!(B&&e(71)(function(L){E.all(L).catch(x)})),"Promise",{all:function(L){var U=this,z=C(U),H=z.resolve,X=z.reject,K=b(function(){var ee=[],J=0,Q=1;f(L,!1,function(ue){var W=J++,G=!1;ee.push(void 0),Q++,U.resolve(ue).then(function(ie){G||(G=!0,ee[W]=ie,--Q||H(ee))},X)}),--Q||H(ee)});return K.e&&X(K.v),z.promise},race:function(L){var U=this,z=C(U),H=z.reject,X=b(function(){f(L,!1,function(K){U.resolve(K).then(z.resolve,H)})});return X.e&&H(X.v),z.promise}})},function(l,a,e){"use strict";var t=e(32);function o(r){var n,i;this.promise=new r(function(s,u){if(n!==void 0||i!==void 0)throw TypeError("Bad Promise constructor");n=s,i=u}),this.resolve=t(n),this.reject=t(i)}l.exports.f=function(r){return new o(r)}},function(l,a,e){var t=e(12),o=e(13),r=e(132);l.exports=function(n,i){if(t(n),o(i)&&i.constructor===n)return i;var s=r.f(n);return(0,s.resolve)(i),s.promise}},function(l,a,e){"use strict";var t=e(19).f,o=e(48),r=e(58),n=e(31),i=e(57),s=e(75),u=e(94),c=e(128),p=e(56),d=e(18),h=e(41).fastKey,g=e(52),f=d?"_s":"size",v=function(y,w){var _,b=h(w);if(b!=="F")return y._i[b];for(_=y._f;_;_=_.n)if(_.k==w)return _};l.exports={getConstructor:function(y,w,_,b){var k=y(function(M,S){i(M,k,w,"_i"),M._t=w,M._i=o(null),M._f=void 0,M._l=void 0,M[f]=0,S!=null&&s(S,_,M[b],M)});return r(k.prototype,{clear:function(){for(var M=g(this,w),S=M._i,I=M._f;I;I=I.n)I.r=!0,I.p&&(I.p=I.p.n=void 0),delete S[I.i];M._f=M._l=void 0,M[f]=0},delete:function(M){var S=g(this,w),I=v(S,M);if(I){var m=I.n,T=I.p;delete S._i[I.i],I.r=!0,T&&(T.n=m),m&&(m.p=T),S._f==I&&(S._f=m),S._l==I&&(S._l=T),S[f]--}return!!I},forEach:function(M){g(this,w);for(var S,I=n(M,arguments.length>1?arguments[1]:void 0,3);S=S?S.n:this._f;)for(I(S.v,S.k,this);S&&S.r;)S=S.p},has:function(M){return!!v(g(this,w),M)}}),d&&t(k.prototype,"size",{get:function(){return g(this,w)[f]}}),k},def:function(y,w,_){var b,k,M=v(y,w);return M?M.v=_:(y._l=M={i:k=h(w,!0),k:w,v:_,p:b=y._l,n:void 0,r:!1},y._f||(y._f=M),b&&(b.n=M),y[f]++,k!=="F"&&(y._i[k]=M)),y},getEntry:v,setStrong:function(y,w,_){u(y,w,function(b,k){this._t=g(b,w),this._k=k,this._l=void 0},function(){for(var b=this._k,k=this._l;k&&k.r;)k=k.p;return this._t&&(this._l=k=k?k.n:this._t._f)?c(0,b=="keys"?k.k:b=="values"?k.v:[k.k,k.v]):(this._t=void 0,c(1))},_?"entries":"values",!_,!0),p(w)}}},function(l,a,e){"use strict";var t=e(58),o=e(41).getWeak,r=e(12),n=e(13),i=e(57),s=e(75),u=e(36),c=e(26),p=e(52),d=u(5),h=u(6),g=0,f=function(w){return w._l||(w._l=new v)},v=function(){this.a=[]},y=function(w,_){return d(w.a,function(b){return b[0]===_})};v.prototype={get:function(w){var _=y(this,w);if(_)return _[1]},has:function(w){return!!y(this,w)},set:function(w,_){var b=y(this,w);b?b[1]=_:this.a.push([w,_])},delete:function(w){var _=h(this.a,function(b){return b[0]===w});return~_&&this.a.splice(_,1),!!~_}},l.exports={getConstructor:function(w,_,b,k){var M=w(function(S,I){i(S,M,_,"_i"),S._t=_,S._i=g++,S._l=void 0,I!=null&&s(I,b,S[k],S)});return t(M.prototype,{delete:function(S){if(!n(S))return!1;var I=o(S);return I===!0?f(p(this,_)).delete(S):I&&c(I,this._i)&&delete I[this._i]},has:function(S){if(!n(S))return!1;var I=o(S);return I===!0?f(p(this,_)).has(S):I&&c(I,this._i)}}),M},def:function(w,_,b){var k=o(r(_),!0);return k===!0?f(w).set(_,b):k[w._i]=b,w},ufstore:f}},function(l,a,e){var t=e(33),o=e(16);l.exports=function(r){if(r===void 0)return 0;var n=t(r),i=o(n);if(n!==i)throw RangeError("Wrong length!");return i}},function(l,a,e){var t=e(49),o=e(69),r=e(12),n=e(10).Reflect;l.exports=n&&n.ownKeys||function(i){var s=t.f(r(i)),u=o.f;return u?s.concat(u(i)):s}},function(l,a,e){var t=e(16),o=e(90),r=e(38);l.exports=function(n,i,s,u){var c=String(r(n)),p=c.length,d=s===void 0?" ":String(s),h=t(i);if(h<=p||d=="")return c;var g=h-p,f=o.call(d,Math.ceil(g/d.length));return f.length>g&&(f=f.slice(0,g)),u?f+c:c+f}},function(l,a,e){var t=e(18),o=e(46),r=e(28),n=e(63).f;l.exports=function(i){return function(s){for(var u,c=r(s),p=o(c),d=p.length,h=0,g=[];d>h;)u=p[h++],t&&!n.call(c,u)||g.push(i?[u,c[u]]:c[u]);return g}}},function(l,a,e){var t=function(o){"use strict";var r=Object.prototype,n=r.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function p(x,C,B,R){var N=C&&C.prototype instanceof g?C:g,D=Object.create(N.prototype),A=new T(R||[]);return D._invoke=function(P,j,F){var L="suspendedStart";return function(U,z){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(U==="throw")throw z;return O()}for(F.method=U,F.arg=z;;){var H=F.delegate;if(H){var X=S(H,F);if(X){if(X===h)continue;return X}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(L==="suspendedStart")throw L="completed",F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);L="executing";var K=d(P,j,F);if(K.type==="normal"){if(L=F.done?"completed":"suspendedYield",K.arg===h)continue;return{value:K.arg,done:F.done}}K.type==="throw"&&(L="completed",F.method="throw",F.arg=K.arg)}}}(x,B,A),D}function d(x,C,B){try{return{type:"normal",arg:x.call(C,B)}}catch(R){return{type:"throw",arg:R}}}o.wrap=p;var h={};function g(){}function f(){}function v(){}var y={};y[s]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(E([])));_&&_!==r&&n.call(_,s)&&(y=_);var b=v.prototype=g.prototype=Object.create(y);function k(x){["next","throw","return"].forEach(function(C){x[C]=function(B){return this._invoke(C,B)}})}function M(x,C){var B;this._invoke=function(R,N){function D(){return new C(function(A,P){(function j(F,L,U,z){var H=d(x[F],x,L);if(H.type!=="throw"){var X=H.arg,K=X.value;return K&&typeof K=="object"&&n.call(K,"__await")?C.resolve(K.__await).then(function(ee){j("next",ee,U,z)},function(ee){j("throw",ee,U,z)}):C.resolve(K).then(function(ee){X.value=ee,U(X)},function(ee){return j("throw",ee,U,z)})}z(H.arg)})(R,N,A,P)})}return B=B?B.then(D,D):D()}}function S(x,C){var B=x.iterator[C.method];if(B===void 0){if(C.delegate=null,C.method==="throw"){if(x.iterator.return&&(C.method="return",C.arg=void 0,S(x,C),C.method==="throw"))return h;C.method="throw",C.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var R=d(B,x.iterator,C.arg);if(R.type==="throw")return C.method="throw",C.arg=R.arg,C.delegate=null,h;var N=R.arg;return N?N.done?(C[x.resultName]=N.value,C.next=x.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,h):N:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,h)}function I(x){var C={tryLoc:x[0]};1 in x&&(C.catchLoc=x[1]),2 in x&&(C.finallyLoc=x[2],C.afterLoc=x[3]),this.tryEntries.push(C)}function m(x){var C=x.completion||{};C.type="normal",delete C.arg,x.completion=C}function T(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(I,this),this.reset(!0)}function E(x){if(x){var C=x[s];if(C)return C.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var B=-1,R=function N(){for(;++B<x.length;)if(n.call(x,B))return N.value=x[B],N.done=!1,N;return N.value=void 0,N.done=!0,N};return R.next=R}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=b.constructor=v,v.constructor=f,v[c]=f.displayName="GeneratorFunction",o.isGeneratorFunction=function(x){var C=typeof x=="function"&&x.constructor;return!!C&&(C===f||(C.displayName||C.name)==="GeneratorFunction")},o.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,v):(x.__proto__=v,c in x||(x[c]="GeneratorFunction")),x.prototype=Object.create(b),x},o.awrap=function(x){return{__await:x}},k(M.prototype),M.prototype[u]=function(){return this},o.AsyncIterator=M,o.async=function(x,C,B,R,N){N===void 0&&(N=Promise);var D=new M(p(x,C,B,R),N);return o.isGeneratorFunction(C)?D:D.next().then(function(A){return A.done?A.value:D.next()})},k(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},o.keys=function(x){var C=[];for(var B in x)C.push(B);return C.reverse(),function R(){for(;C.length;){var N=C.pop();if(N in x)return R.value=N,R.done=!1,R}return R.done=!0,R}},o.values=E,T.prototype={constructor:T,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(m),!x)for(var C in this)C.charAt(0)==="t"&&n.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var C=this;function B(j,F){return D.type="throw",D.arg=x,C.next=j,F&&(C.method="next",C.arg=void 0),!!F}for(var R=this.tryEntries.length-1;R>=0;--R){var N=this.tryEntries[R],D=N.completion;if(N.tryLoc==="root")return B("end");if(N.tryLoc<=this.prev){var A=n.call(N,"catchLoc"),P=n.call(N,"finallyLoc");if(A&&P){if(this.prev<N.catchLoc)return B(N.catchLoc,!0);if(this.prev<N.finallyLoc)return B(N.finallyLoc)}else if(A){if(this.prev<N.catchLoc)return B(N.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return B(N.finallyLoc)}}}},abrupt:function(x,C){for(var B=this.tryEntries.length-1;B>=0;--B){var R=this.tryEntries[B];if(R.tryLoc<=this.prev&&n.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var N=R;break}}N&&(x==="break"||x==="continue")&&N.tryLoc<=C&&C<=N.finallyLoc&&(N=null);var D=N?N.completion:{};return D.type=x,D.arg=C,N?(this.method="next",this.next=N.finallyLoc,h):this.complete(D)},complete:function(x,C){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&C&&(this.next=C),h},finish:function(x){for(var C=this.tryEntries.length-1;C>=0;--C){var B=this.tryEntries[C];if(B.finallyLoc===x)return this.complete(B.completion,B.afterLoc),m(B),h}},catch:function(x){for(var C=this.tryEntries.length-1;C>=0;--C){var B=this.tryEntries[C];if(B.tryLoc===x){var R=B.completion;if(R.type==="throw"){var N=R.arg;m(B)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(x,C,B){return this.delegate={iterator:E(x),resultName:C,nextLoc:B},this.method==="next"&&(this.arg=void 0),h}},o}(l.exports);try{regeneratorRuntime=t}catch(o){Function("r","regeneratorRuntime = r")(t)}},function(l,a,e){var t=e(142);l.exports=function(o,r){if(o){if(typeof o=="string")return t(o,r);var n=Object.prototype.toString.call(o).slice(8,-1);return n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(o,r):void 0}}},function(l,a){l.exports=function(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}},function(l,a){function e(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l.exports=e=function(o){return typeof o}:l.exports=e=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(t)}l.exports=e},function(l){l.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(l,a,e){var t,o,r;o=[a,e(2),e(5),e(6),e(4),e(146)],(r=typeof(t=function(n,i,s,u,c,p){"use strict";var d=e(1);function h(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(f){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.CriticalError=void 0,i=d(i),s=d(s),u=d(u),c=d(c);var g=function(f){(0,s.default)(w,f);var v,y=(v=w,function(){var _,b=(0,c.default)(v);if(h()){var k=(0,c.default)(this).constructor;_=Reflect.construct(b,arguments,k)}else _=b.apply(this,arguments);return(0,u.default)(this,_)});function w(){return(0,i.default)(this,w),y.apply(this,arguments)}return w}((0,(p=d(p)).default)(Error));n.CriticalError=g,g.displayName="CriticalError"})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(4),o=e(107),r=e(369),n=e(370);function i(s){var u=typeof Map=="function"?new Map:void 0;return l.exports=i=function(c){if(c===null||!r(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(u!==void 0){if(u.has(c))return u.get(c);u.set(c,p)}function p(){return n(c,arguments,t(this).constructor)}return p.prototype=Object.create(c.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),o(p,c)},i(s)}l.exports=i},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(8),e(148),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g){"use strict";var f=e(9),v=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(_){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=v(i),s=v(s),u=v(u),c=v(c),p=v(p),d=f(d),h=v(h);var w=function(_){(0,u.default)(M,_);var b,k=(b=M,function(){var S,I=(0,p.default)(b);if(y()){var m=(0,p.default)(this).constructor;S=Reflect.construct(I,arguments,m)}else S=I.apply(this,arguments);return(0,c.default)(this,S)});function M(){var S;return(0,i.default)(this,M),(S=k.apply(this,arguments)).insert=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.config.defaultBlock,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=(arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3?arguments[3]:void 0),E=arguments.length>4?arguments[4]:void 0;S.Editor.BlockManager.insert({tool:I,data:m,index:T,needToFocus:E})},S}return(0,s.default)(M,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(S){var I=this.Editor.BlockManager.getBlockByIndex(S);if(I!==void 0)return new h.default(I);d.logLabeled("There is no block at index `"+S+"`","warn")}},{key:"swap",value:function(S,I){d.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(S,I),this.Editor.Toolbar.move(!1)}},{key:"move",value:function(S,I){this.Editor.BlockManager.move(S,I),this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(S){try{this.Editor.BlockManager.removeBlock(S)}catch(I){return void d.logLabeled(I,"warn")}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(S){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(S.blocks)}},{key:"renderFromHTML",value:function(S){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(S,!0)}},{key:"stretchBlock",value:function(S){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];d.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var m=this.Editor.BlockManager.getBlockByIndex(S);m&&(m.stretched=I)}},{key:"insertNewBlock",value:function(){d.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var S=this;return{clear:function(){return S.clear()},render:function(I){return S.render(I)},renderFromHTML:function(I){return S.renderFromHTML(I)},delete:function(I){return S.delete(I)},swap:function(I,m){return S.swap(I,m)},move:function(I,m){return S.move(I,m)},getBlockByIndex:function(I){return S.getBlockByIndex(I)},getCurrentBlockIndex:function(){return S.getCurrentBlockIndex()},getBlocksCount:function(){return S.getBlocksCount()},stretchBlock:function(I){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return S.stretchBlock(I,m)},insertNewBlock:function(){return S.insertNewBlock()},insert:this.insert}}}]),M}((g=v(g)).default);n.default=w,w.displayName="BlocksAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a],(r=typeof(t=function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(s){var u={get name(){return s.name},get config(){return s.config},get holder(){return s.holder},get isEmpty(){return s.isEmpty},get selected(){return s.selected},set stretched(c){s.stretched=c},get stretched(){return s.stretched},call:function(c,p){return s.call(c,p)},save:function(){return s.save()},validate:function(c){return s.validate(c)}};Object.setPrototypeOf(this,u)};n.default=i,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){var b;return(0,i.default)(this,_),(b=w.apply(this,arguments)).setToFirstBlock=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.Editor.Caret.positions.DEFAULT,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!b.Editor.BlockManager.firstBlock&&(b.Editor.Caret.setToBlock(b.Editor.BlockManager.firstBlock,k,M),!0)},b.setToLastBlock=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.Editor.Caret.positions.DEFAULT,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!b.Editor.BlockManager.lastBlock&&(b.Editor.Caret.setToBlock(b.Editor.BlockManager.lastBlock,k,M),!0)},b.setToPreviousBlock=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.Editor.Caret.positions.DEFAULT,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!b.Editor.BlockManager.previousBlock&&(b.Editor.Caret.setToBlock(b.Editor.BlockManager.previousBlock,k,M),!0)},b.setToNextBlock=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.Editor.Caret.positions.DEFAULT,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!b.Editor.BlockManager.nextBlock&&(b.Editor.Caret.setToBlock(b.Editor.BlockManager.nextBlock,k,M),!0)},b.setToBlock=function(k){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b.Editor.Caret.positions.DEFAULT,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return!!b.Editor.BlockManager.blocks[k]&&(b.Editor.Caret.setToBlock(b.Editor.BlockManager.blocks[k],M,S),!0)},b.focus=function(){var k=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return k?b.setToLastBlock(b.Editor.Caret.positions.END):b.setToFirstBlock(b.Editor.Caret.positions.START)},b}return(0,s.default)(_,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),_}((d=h(d)).default);n.default=f,f.displayName="CaretAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"on",value:function(b,k){this.eventsDispatcher.on(b,k)}},{key:"emit",value:function(b,k){this.eventsDispatcher.emit(b,k)}},{key:"off",value:function(b,k){this.eventsDispatcher.off(b,k)}},{key:"methods",get:function(){var b=this;return{emit:function(k,M){return b.emit(k,M)},off:function(k,M){return b.off(k,M)},on:function(k,M){return b.on(k,M)}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="EventsAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(59),e(8),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g){"use strict";var f=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=f(i),s=f(s),u=f(u),c=f(c),p=f(p),d=f(d);var y=function(w){(0,u.default)(k,w);var _,b=(_=k,function(){var M,S=(0,p.default)(_);if(v()){var I=(0,p.default)(this).constructor;M=Reflect.construct(S,arguments,I)}else M=S.apply(this,arguments);return(0,c.default)(this,M)});function k(){return(0,i.default)(this,k),b.apply(this,arguments)}return(0,s.default)(k,[{key:"getMethodsForTool",value:function(M){return Object.assign(this.methods,{t:function(S){return d.default.t(k.getNamespace(M),S)}})}},{key:"methods",get:function(){return{t:function(){(0,h.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(M){return M.isTune?"blockTunes.".concat(M.name):"tools.".concat(M.name)}}]),k}((g=f(g)).default);n.default=y,y.displayName="I18nAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var b=this;return{close:function(){return b.close()},open:function(){return b.open()}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="InlineToolbarAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"on",value:function(b,k,M,S){this.listeners.on(b,k,M,S)}},{key:"off",value:function(b,k,M,S){this.listeners.off(b,k,M,S)}},{key:"methods",get:function(){var b=this;return{on:function(k,M,S,I){return b.on(k,M,S,I)},off:function(k,M,S,I){return b.off(k,M,S,I)}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="ListenersAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"show",value:function(b){return this.Editor.Notifier.show(b)}},{key:"methods",get:function(){var b=this;return{show:function(k){return b.show(k)}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="NotifierAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"toggle",value:function(b){return this.Editor.ReadOnly.toggle(b)}},{key:"methods",get:function(){var b=this;return{toggle:function(k){return b.toggle(k)}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="ReadOnlyAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"clean",value:function(b,k){return this.Editor.Sanitizer.clean(b,k)}},{key:"methods",get:function(){var b=this;return{clean:function(k,M){return b.clean(k,M)}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="SanitizerAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(8),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(9),f=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=f(i),s=f(s),u=f(u),c=f(c),p=f(p),d=g(d);var y=function(w){(0,u.default)(k,w);var _,b=(_=k,function(){var M,S=(0,p.default)(_);if(v()){var I=(0,p.default)(this).constructor;M=Reflect.construct(S,arguments,I)}else M=S.apply(this,arguments);return(0,c.default)(this,M)});function k(){return(0,i.default)(this,k),b.apply(this,arguments)}return(0,s.default)(k,[{key:"save",value:function(){var M="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(d.logLabeled(M,"warn"),Promise.reject(new Error(M))):this.Editor.Saver.save()}},{key:"methods",get:function(){var M=this;return{save:function(){return M.save()}}}}]),k}((h=f(h)).default);n.default=y,y.displayName="SaverAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(25),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=g(i),s=g(s),u=g(u),c=g(c),p=g(p),d=g(d);var v=function(y){(0,u.default)(b,y);var w,_=(w=b,function(){var k,M=(0,p.default)(w);if(f()){var S=(0,p.default)(this).constructor;k=Reflect.construct(M,arguments,S)}else k=M.apply(this,arguments);return(0,c.default)(this,k)});function b(){return(0,i.default)(this,b),_.apply(this,arguments)}return(0,s.default)(b,[{key:"findParentTag",value:function(k,M){return new d.default().findParentTag(k,M)}},{key:"expandToTag",value:function(k){new d.default().expandToTag(k)}},{key:"methods",get:function(){var k=this;return{findParentTag:function(M,S){return k.findParentTag(M,S)},expandToTag:function(M){return k.expandToTag(M)}}}}]),b}((h=g(h)).default);n.default=v,v.displayName="SelectionAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),_}((d=h(d)).default);n.default=f,f.displayName="StylesAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(9),f=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=f(i),s=f(s),u=f(u),c=f(c),p=f(p),d=f(d),h=g(h);var y=function(w){(0,u.default)(k,w);var _,b=(_=k,function(){var M,S=(0,p.default)(_);if(v()){var I=(0,p.default)(this).constructor;M=Reflect.construct(S,arguments,I)}else M=S.apply(this,arguments);return(0,c.default)(this,M)});function k(){return(0,i.default)(this,k),b.apply(this,arguments)}return(0,s.default)(k,[{key:"open",value:function(){this.Editor.Toolbar.open()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(M){if(this.Editor.BlockManager.currentBlockIndex!==-1){var S=M!=null?M:!this.Editor.BlockSettings.opened;M!==this.Editor.BlockSettings.opened&&(S?(this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close())}else h.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var M=this;return{close:function(){return M.close()},open:function(){return M.open()},toggleBlockSettings:function(S){return M.toggleBlockSettings(S)}}}}]),k}(d.default);n.default=y,y.displayName="ToolbarAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(v){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=h(p);var f=function(v){(0,u.default)(_,v);var y,w=(y=_,function(){var b,k=(0,p.default)(y);if(g()){var M=(0,p.default)(this).constructor;b=Reflect.construct(k,arguments,M)}else b=k.apply(this,arguments);return(0,c.default)(this,b)});function _(){return(0,i.default)(this,_),w.apply(this,arguments)}return(0,s.default)(_,[{key:"show",value:function(b,k,M){this.Editor.Tooltip.show(b,k,M)}},{key:"hide",value:function(){this.Editor.Tooltip.hide()}},{key:"onHover",value:function(b,k,M){this.Editor.Tooltip.onHover(b,k,M)}},{key:"methods",get:function(){var b=this;return{show:function(k,M,S){return b.show(k,M,S)},hide:function(){return b.hide()},onHover:function(k,M,S){return b.onHover(k,M,S)}}}}]),_}((d=h(d)).default);n.default=f,f.displayName="TooltipAPI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(25),e(60)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y){"use strict";var w=e(9),_=e(1);function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(M){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=_(i),s=_(s),u=_(u),c=_(c),p=_(p),d=_(d),h=_(h),g=_(g),f=w(f),v=_(v),y=_(y);var k=function(M){(0,p.default)(T,M);var S,I,m=(S=T,function(){var E,O=(0,h.default)(S);if(b()){var x=(0,h.default)(this).constructor;E=Reflect.construct(O,arguments,x)}else E=O.apply(this,arguments);return(0,d.default)(this,E)});function T(){return(0,u.default)(this,T),m.apply(this,arguments)}return(0,c.default)(T,[{key:"keydown",value:function(E){switch(this.beforeKeydownProcessing(E),E.keyCode){case f.keyCodes.BACKSPACE:this.backspace(E);break;case f.keyCodes.ENTER:this.enter(E);break;case f.keyCodes.DOWN:case f.keyCodes.RIGHT:this.arrowRightAndDown(E);break;case f.keyCodes.UP:case f.keyCodes.LEFT:this.arrowLeftAndUp(E);break;case f.keyCodes.TAB:this.tabPressed(E)}}},{key:"beforeKeydownProcessing",value:function(E){this.needToolbarClosing(E)&&f.isPrintableKey(E.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(E)))}},{key:"keyup",value:function(E){E.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(E){this.Editor.BlockSelection.clearSelection(E);var O=this.Editor,x=O.BlockManager,C=O.InlineToolbar,B=O.ConversionToolbar,R=x.currentBlock;if(R){var N=R.tool.isDefault&&R.isEmpty,D=!R.isEmpty&&B.opened,A=!R.isEmpty&&!v.default.isCollapsed&&C.opened;N?this.activateToolbox():D||A||this.activateBlockSettings()}}},{key:"dragOver",value:function(E){this.Editor.BlockManager.getBlockByChildNode(E.target).dropTarget=!0}},{key:"dragLeave",value:function(E){this.Editor.BlockManager.getBlockByChildNode(E.target).dropTarget=!1}},{key:"handleCommandC",value:function(E){var O=this.Editor.BlockSelection;if(O.anyBlockSelected)return O.copySelectedBlocks(E)}},{key:"handleCommandX",value:(I=(0,s.default)(i.default.mark(function E(O){var x,C,B,R,N;return i.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(x=this.Editor,C=x.BlockSelection,B=x.BlockManager,R=x.Caret,C.anyBlockSelected){D.next=3;break}return D.abrupt("return");case 3:return D.next=5,C.copySelectedBlocks(O);case 5:N=B.removeSelectedBlocks(),R.setToBlock(B.insertDefaultBlockAtIndex(N,!0),R.positions.START),C.clearSelection(O);case 8:case"end":return D.stop()}},E,this)})),function(E){return I.apply(this,arguments)})},{key:"enter",value:function(E){var O=this.Editor,x=O.BlockManager,C=O.UI;if(!x.currentBlock.tool.isLineBreaksEnabled&&!(C.someToolbarOpened&&C.someFlipperButtonFocused||E.shiftKey)){var B=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):B=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(B),B.tool.isDefault&&B.isEmpty&&(this.Editor.Toolbar.open(!1),this.Editor.Toolbar.plusButton.show()),E.preventDefault()}}},{key:"backspace",value:function(E){var O=this.Editor,x=O.BlockManager,C=O.BlockSelection,B=O.Caret,R=x.currentBlock,N=R.tool;if(R.selected||R.isEmpty&&R.currentInput===R.firstInput){E.preventDefault();var D=x.currentBlockIndex;return x.previousBlock&&x.previousBlock.inputs.length===0?x.removeBlock(D-1):x.removeBlock(),B.setToBlock(x.currentBlock,D?B.positions.END:B.positions.START),this.Editor.Toolbar.close(),void C.clearSelection(E)}if(!N.isLineBreaksEnabled||B.isAtStart){var A=x.currentBlockIndex===0;B.isAtStart&&v.default.isCollapsed&&R.currentInput===R.firstInput&&!A&&(E.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var E=this.Editor,O=E.BlockManager,x=E.Caret,C=E.Toolbar,B=O.previousBlock,R=O.currentBlock;if(R.name!==B.name||!B.mergeable)return B.inputs.length===0||B.isEmpty?(O.removeBlock(O.currentBlockIndex-1),x.setToBlock(O.currentBlock),void C.close()):void(x.navigatePrevious()&&C.close());x.createShadow(B.pluginsContent),O.mergeBlocks(B,R).then(function(){x.restoreCaret(B.pluginsContent),B.pluginsContent.normalize(),C.close()})}},{key:"arrowRightAndDown",value:function(E){var O=this,x=y.default.usedKeys.includes(E.keyCode)&&(!E.shiftKey||E.keyCode===f.keyCodes.TAB);if(!this.Editor.UI.someToolbarOpened||!x){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var C=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;E.shiftKey&&E.keyCode===f.keyCodes.DOWN&&C?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((E.keyCode===f.keyCodes.DOWN||E.keyCode===f.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?E.preventDefault():f.delay(function(){O.Editor.BlockManager.currentBlock&&O.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(E))}}},{key:"arrowLeftAndUp",value:function(E){var O=this;if(this.Editor.UI.someToolbarOpened){if(y.default.usedKeys.includes(E.keyCode)&&(!E.shiftKey||E.keyCode===f.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var x=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;E.shiftKey&&E.keyCode===f.keyCodes.UP&&x?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((E.keyCode===f.keyCodes.UP||E.keyCode===f.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?E.preventDefault():f.delay(function(){O.Editor.BlockManager.currentBlock&&O.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(E))}},{key:"needToolbarClosing",value:function(E){var O=E.keyCode===f.keyCodes.ENTER&&this.Editor.Toolbox.opened,x=E.keyCode===f.keyCodes.ENTER&&this.Editor.BlockSettings.opened,C=E.keyCode===f.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,B=E.keyCode===f.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,R=E.keyCode===f.keyCodes.TAB;return!(E.shiftKey||R||O||x||C||B)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!1,!1),this.Editor.Toolbar.plusButton.show()),this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),T}(g.default);n.default=k,k.displayName="BlockEvents",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(61),e(7),e(15),e(8),e(376)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w){"use strict";var _=e(9),b=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(S){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=b(i),s=b(s),u=b(u),c=b(c),p=b(p),d=b(d),h=b(h),g=_(g),f=b(f),v=b(v),y=_(y),w=b(w);var M=function(S){(0,p.default)(O,S);var I,m,T,E=(I=O,function(){var x,C=(0,h.default)(I);if(k()){var B=(0,h.default)(this).constructor;x=Reflect.construct(C,arguments,B)}else x=C.apply(this,arguments);return(0,d.default)(this,x)});function O(){var x;return(0,u.default)(this,O),(x=E.apply(this,arguments))._currentBlockIndex=-1,x._blocks=null,x}return(0,c.default)(O,[{key:"prepare",value:function(){var x=this,C=new w.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(C,{set:w.default.set,get:w.default.get}),this.listeners.on(document,"copy",function(B){return x.Editor.BlockEvents.handleCommandC(B)})}},{key:"toggleReadOnly",value:function(x){x?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(x){var C=x.tool,B=x.data,R=B===void 0?{}:B,N=x.tunes,D=N===void 0?{}:N,A=this.Editor.ReadOnly.isEnabled,P=this.Editor.Tools.blockTools.get(C),j=this.Editor.Tools.getTunesForTool(P),F=new g.default({data:R,tool:P,api:this.Editor.API,readOnly:A,tunes:j,tunesData:D});return A||this.bindBlockEvents(F),F}},{key:"insert",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=x.tool,B=C===void 0?this.config.defaultBlock:C,R=x.data,N=R===void 0?{}:R,D=x.index,A=x.needToFocus,P=A===void 0||A,j=x.replace,F=j!==void 0&&j,L=x.tunes,U=L===void 0?{}:L,z=D;z===void 0&&(z=this.currentBlockIndex+(F?0:1));var H=this.composeBlock({tool:B,data:N,tunes:U});return this._blocks.insert(z,H,F),P?this.currentBlockIndex=z:z<=this.currentBlockIndex&&this.currentBlockIndex++,H}},{key:"replace",value:function(x){var C=x.tool,B=C===void 0?this.config.defaultBlock:C,R=x.data,N=R===void 0?{}:R;return this.insert({tool:B,data:N,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(x,C){var B=arguments.length>2&&arguments[2]!==void 0&&arguments[2],R=this.insert({tool:x,replace:B});try{R.call(g.BlockToolAPI.ON_PASTE,C)}catch(N){y.log("".concat(x,": onPaste callback call is failed"),"error",N)}return R}},{key:"insertDefaultBlockAtIndex",value:function(x){var C=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[x]=B,C?this.currentBlockIndex=x:x<=this.currentBlockIndex&&this.currentBlockIndex++,B}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(T=(0,s.default)(i.default.mark(function x(C,B){var R,N;return i.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(R=this._blocks.indexOf(B),!B.isEmpty){D.next=3;break}return D.abrupt("return");case 3:return D.next=5,B.data;case 5:if(N=D.sent,y.isEmpty(N)){D.next=9;break}return D.next=9,C.mergeWith(N);case 9:this.removeBlock(R),this.currentBlockIndex=this._blocks.indexOf(C);case 11:case"end":return D.stop()}},x,this)})),function(x,C){return T.apply(this,arguments)})},{key:"removeBlock",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(x))throw new Error("Can't find a Block to remove");this._blocks.remove(x),this.currentBlockIndex>=x&&this.currentBlockIndex--,this.blocks.length?x===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var x,C=this.blocks.length-1;C>=0;C--)this.blocks[C].selected&&(this.removeBlock(C),x=C);return x}},{key:"removeAllBlocks",value:function(){for(var x=this.blocks.length-1;x>=0;x--)this._blocks.remove(x);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var x=this.Editor.Caret.extractFragmentFromCaretPosition(),C=v.default.make("div");C.appendChild(x);var B={text:v.default.isEmpty(C)?"":C.innerHTML};return this.insert({data:B})}},{key:"getBlockByIndex",value:function(x){return this._blocks[x]}},{key:"getBlock",value:function(x){v.default.isElement(x)||(x=x.parentNode);var C=this._blocks.nodes,B=x.closest(".".concat(g.default.CSS.wrapper)),R=C.indexOf(B);if(R>=0)return this._blocks[R]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach(function(x){x.focused=!1})}},{key:"setCurrentBlockByChildNode",value:function(x){v.default.isElement(x)||(x=x.parentNode);var C=x.closest(".".concat(g.default.CSS.wrapper));if(C){var B=C.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(B!=null&&B.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(C),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(x){v.default.isElement(x)||(x=x.parentNode);var C=x.closest(".".concat(g.default.CSS.wrapper));return this.blocks.find(function(B){return B.holder===C})}},{key:"swap",value:function(x,C){this._blocks.swap(x,C),this.currentBlockIndex=C}},{key:"move",value:function(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.currentBlockIndex;isNaN(x)||isNaN(C)?y.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(x)&&this.validateIndex(C)?(this._blocks.move(x,C),this.currentBlockIndex=x):y.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var x=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._blocks.removeAll(),this.dropPointer(),x&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(m=(0,s.default)(i.default.mark(function x(){return i.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Promise.all(this.blocks.map(function(B){return B.destroy()}));case 2:case"end":return C.stop()}},x,this)})),function(){return m.apply(this,arguments)})},{key:"bindBlockEvents",value:function(x){var C=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(x.holder,"keydown",function(B){C.keydown(B)}),this.readOnlyMutableListeners.on(x.holder,"keyup",function(B){C.keyup(B)}),this.readOnlyMutableListeners.on(x.holder,"dragover",function(B){C.dragOver(B)}),this.readOnlyMutableListeners.on(x.holder,"dragleave",function(B){C.dragLeave(B)})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var x=this;this.readOnlyMutableListeners.on(document,"cut",function(C){return x.Editor.BlockEvents.handleCommandX(C)}),this.blocks.forEach(function(C){x.bindBlockEvents(C)})}},{key:"validateIndex",value:function(x){return!(x<0||x>=this._blocks.length)}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(x){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[x]&&this._blocks[x].willSelect(),this._currentBlockIndex=x}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find(function(x){return!!x.inputs.length})}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(function(x){return!!x.inputs.length})}},{key:"previousBlock",get:function(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every(function(x){return x.isEmpty})}}]),O}(f.default);n.default=M,M.displayName="BlockManager",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(15),e(108),e(25)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w){"use strict";var _=e(9),b=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(S){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=b(i),s=b(s),u=b(u),c=b(c),p=b(p),d=b(d),h=b(h),g=b(g),f=_(f),v=b(v),y=b(y),w=b(w);var M=function(S){(0,p.default)(E,S);var I,m,T=(I=E,function(){var O,x=(0,h.default)(I);if(k()){var C=(0,h.default)(this).constructor;O=Reflect.construct(x,arguments,C)}else O=x.apply(this,arguments);return(0,d.default)(this,O)});function E(){var O;return(0,u.default)(this,E),(O=T.apply(this,arguments)).anyBlockSelectedCache=null,O.needToSelectAll=!1,O.nativeInputSelected=!1,O.readyToBlockSelection=!1,O}return(0,c.default)(E,[{key:"prepare",value:function(){var O=this;this.selection=new w.default,y.default.add({name:"CMD+A",handler:function(x){var C=O.Editor,B=C.BlockManager;if(C.ReadOnly.isEnabled)return x.preventDefault(),void O.selectAllBlocks();B.currentBlock&&O.handleCommandA(x)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(O){w.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(O){var x=this.Editor.BlockManager;(isNaN(O)?x.currentBlock:x.getBlockByIndex(O)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(O){var x=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C=this.Editor,B=C.BlockManager,R=C.Caret,N=C.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var D=O&&O instanceof KeyboardEvent,A=D&&f.isPrintableKey(O.keyCode);if(this.anyBlockSelected&&D&&A&&!w.default.isSelectionExists){var P=B.removeSelectedBlocks();B.insertDefaultBlockAtIndex(P,!0),R.setToBlock(B.currentBlock),f.delay(function(){var j=O.key;R.insertContentAtCaretPosition(j.length>1?"":j)},20)()}this.Editor.CrossBlockSelection.clear(O),this.anyBlockSelected&&!N.isRectActivated()?(x&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:(m=(0,s.default)(i.default.mark(function O(x){var C,B,R,N,D=this;return i.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return x.preventDefault(),C=v.default.make("div"),this.selectedBlocks.forEach(function(P){var j=D.Editor.Sanitizer.clean(P.holder.innerHTML,D.sanitizerConfig),F=v.default.make("p");F.innerHTML=j,C.appendChild(F)}),A.next=5,Promise.all(this.selectedBlocks.map(function(P){return P.save()}));case 5:B=A.sent,R=Array.from(C.childNodes).map(function(P){return P.textContent}).join(`

`),N=C.innerHTML,x.clipboardData.setData("text/plain",R),x.clipboardData.setData("text/html",N),x.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(B));case 11:case"end":return A.stop()}},O,this)})),function(O){return m.apply(this,arguments)})},{key:"selectBlockByIndex",value:function(O){var x,C=this.Editor.BlockManager;C.clearFocused(),x=isNaN(O)?C.currentBlock:C.getBlockByIndex(O),this.selection.save(),w.default.get().removeAllRanges(),x.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){y.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(O){if(this.Editor.RectangleSelection.clearSelection(),!v.default.isNativeInput(O.target)||this.readyToBlockSelection){var x=this.Editor.BlockManager.getBlock(O.target).inputs;x.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:x.length!==1||this.needToSelectAll?this.needToSelectAll?(O.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(O.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),w.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every(function(O){return O.selected===!0})},set:function(O){this.Editor.BlockManager.blocks.forEach(function(x){x.selected=O}),this.clearCache()}},{key:"anyBlockSelected",get:function(){var O=this.Editor.BlockManager;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=O.blocks.some(function(x){return x.selected===!0})),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter(function(O){return O.selected})}}]),E}(g.default);n.default=M,M.displayName="BlockSelection",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(25),e(7),e(15),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(9),y=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),s=y(s),u=y(u),c=y(c),p=y(p),d=y(d),h=y(h),g=y(g),f=v(f);var _=function(b){(0,u.default)(S,b);var k,M=(k=S,function(){var I,m=(0,p.default)(k);if(w()){var T=(0,p.default)(this).constructor;I=Reflect.construct(m,arguments,T)}else I=m.apply(this,arguments);return(0,c.default)(this,I)});function S(){return(0,i.default)(this,S),M.apply(this,arguments)}return(0,s.default)(S,[{key:"setToBlock",value:function(I){var m,T=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=this.Editor.BlockManager;switch(E){case this.positions.START:m=I.firstInput;break;case this.positions.END:m=I.lastInput;break;default:m=I.currentInput}if(m){var C=g.default.getDeepestNode(m,E===this.positions.END),B=g.default.getContentLength(C);switch(!0){case E===this.positions.START:O=0;break;case E===this.positions.END:case O>B:O=B}f.delay(function(){T.set(C,O)},20)(),x.setCurrentBlockByChildNode(I.holder),x.currentBlock.currentInput=m}}},{key:"setToInput",value:function(I){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=this.Editor.BlockManager.currentBlock,O=g.default.getDeepestNode(I);switch(m){case this.positions.START:this.set(O,0);break;case this.positions.END:this.set(O,g.default.getContentLength(O));break;default:T&&this.set(O,T)}E.currentInput=I}},{key:"set",value:function(I){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=d.default.setCursor(I,m),E=T.top,O=T.bottom,x=window,C=x.innerHeight;E<0&&window.scrollBy(0,E),O>C&&window.scrollBy(0,O-C)}},{key:"setToTheLastBlock",value:function(){var I=this.Editor.BlockManager.lastBlock;if(I)if(I.tool.isDefault&&I.isEmpty)this.setToBlock(I);else{var m=this.Editor.BlockManager.insertAtEnd();this.setToBlock(m)}}},{key:"extractFragmentFromCaretPosition",value:function(){var I=d.default.get();if(I.rangeCount){var m=I.getRangeAt(0),T=this.Editor.BlockManager.currentBlock.currentInput;if(m.deleteContents(),T){if(g.default.isNativeInput(T)){var E=T,O=document.createDocumentFragment(),x=E.value.substring(0,E.selectionStart),C=E.value.substring(E.selectionStart);return O.textContent=C,E.value=x,O}var B=m.cloneRange();return B.selectNodeContents(T),B.setStart(m.endContainer,m.endOffset),B.extractContents()}}}},{key:"navigateNext",value:function(){var I=this.Editor,m=I.BlockManager,T=(I.Tools,m.currentBlock),E=m.nextContentfulBlock,O=T.nextInput,x=this.isAtEnd,C=E;if(!C&&!O){if(T.tool.isDefault||!x)return!1;C=m.insertAtEnd()}return!!x&&(O?this.setToInput(O,this.positions.START):this.setToBlock(C,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var I=this.Editor.BlockManager,m=I.currentBlock,T=I.previousContentfulBlock;if(!m)return!1;var E=m.previousInput;return!(!T&&!E||!this.isAtStart||(E?this.setToInput(E,this.positions.END):this.setToBlock(T,this.positions.END),0))}},{key:"createShadow",value:function(I){var m=document.createElement("span");m.classList.add(S.CSS.shadowCaret),I.insertAdjacentElement("beforeend",m)}},{key:"restoreCaret",value:function(I){var m=I.querySelector(".".concat(S.CSS.shadowCaret));m&&(new d.default().expandToTag(m),setTimeout(function(){var T=document.createRange();T.selectNode(m),T.extractContents()},50))}},{key:"insertContentAtCaretPosition",value:function(I){var m=document.createDocumentFragment(),T=document.createElement("div"),E=d.default.get(),O=d.default.range;T.innerHTML=I,Array.from(T.childNodes).forEach(function(B){return m.appendChild(B)}),m.childNodes.length===0&&m.appendChild(new Text(""));var x=m.lastChild;O.deleteContents(),O.insertNode(m);var C=document.createRange();C.setStart(x,x.textContent.length),E.removeAllRanges(),E.addRange(C)}},{key:"getHigherLevelSiblings",value:function(I,m){for(var T=I,E=[];T.parentNode&&T.parentNode.contentEditable!=="true";)T=T.parentNode;for(var O=m==="left"?"previousSibling":"nextSibling";T[O];)T=T[O],E.push(T);return E}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var I=d.default.get(),m=g.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),T=I.focusNode;if(g.default.isNativeInput(m))return m.selectionEnd===0;if(!I.anchorNode)return!1;var E=T.textContent.search(/\S/);E===-1&&(E=0);var O=I.focusOffset;return T.nodeType!==Node.TEXT_NODE&&T.childNodes.length&&(T.childNodes[O]?(T=T.childNodes[O],O=0):O=(T=T.childNodes[O-1]).textContent.length),!(!g.default.isLineBreakTag(m)&&!g.default.isEmpty(m)||!this.getHigherLevelSiblings(T,"left").every(function(x){var C=g.default.isLineBreakTag(x),B=x.children.length===1&&g.default.isLineBreakTag(x.children[0]),R=C||B;return g.default.isEmpty(x)&&!R})||O!==E)||m===null||T===m&&O<=E}},{key:"isAtEnd",get:function(){var I=d.default.get(),m=I.focusNode,T=g.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(g.default.isNativeInput(T))return T.selectionEnd===T.value.length;if(!I.focusNode)return!1;var E=I.focusOffset;if(m.nodeType!==Node.TEXT_NODE&&m.childNodes.length&&(m.childNodes[E-1]?E=(m=m.childNodes[E-1]).textContent.length:(m=m.childNodes[0],E=0)),g.default.isLineBreakTag(T)||g.default.isEmpty(T)){var O=this.getHigherLevelSiblings(m,"right");if(O.every(function(C,B){return B===O.length-1&&g.default.isLineBreakTag(C)||g.default.isEmpty(C)&&!g.default.isLineBreakTag(C)})&&E===m.textContent.length)return!0}var x=T.textContent.replace(/\s+$/,"");return m===T&&E>=x.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),S}(h.default);n.default=_,_.displayName="Caret",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(25),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v){"use strict";var y=e(9),w=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=w(i),s=w(s),u=w(u),c=w(c),p=w(p),d=w(d),h=w(h),g=w(g),f=w(f),v=y(v);var b=function(k){(0,p.default)(m,k);var M,S,I=(M=m,function(){var T,E=(0,h.default)(M);if(_()){var O=(0,h.default)(this).constructor;T=Reflect.construct(E,arguments,O)}else T=E.apply(this,arguments);return(0,d.default)(this,T)});function m(){var T;return(0,u.default)(this,m),(T=I.apply(this,arguments)).onMouseUp=function(){T.listeners.off(document,"mouseover",T.onMouseOver),T.listeners.off(document,"mouseup",T.onMouseUp)},T.onMouseOver=function(E){var O=T.Editor,x=O.BlockManager,C=O.BlockSelection,B=x.getBlockByChildNode(E.relatedTarget)||T.lastSelectedBlock,R=x.getBlockByChildNode(E.target);if(B&&R&&R!==B){if(B===T.firstSelectedBlock)return f.default.get().removeAllRanges(),B.selected=!0,R.selected=!0,void C.clearCache();if(R===T.firstSelectedBlock)return B.selected=!1,R.selected=!1,void C.clearCache();T.Editor.InlineToolbar.close(),T.toggleBlocksSelectedState(B,R),T.lastSelectedBlock=R}},T}return(0,c.default)(m,[{key:"prepare",value:(S=(0,s.default)(i.default.mark(function T(){var E=this;return i.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:this.listeners.on(document,"mousedown",function(x){E.enableCrossBlockSelection(x)});case 1:case"end":return O.stop()}},T,this)})),function(){return S.apply(this,arguments)})},{key:"watchSelection",value:function(T){if(T.button===v.mouseButtons.LEFT){var E=this.Editor.BlockManager;this.firstSelectedBlock=E.getBlock(T.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}}},{key:"toggleBlockSelectedState",value:function(){var T=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],E=this.Editor,O=E.BlockManager,x=E.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=O.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,x.clearCache(),f.default.get().removeAllRanges());var C=O.blocks.indexOf(this.lastSelectedBlock)+(T?1:-1),B=O.blocks[C];B&&(this.lastSelectedBlock.selected!==B.selected?(B.selected=!0,x.clearCache()):(this.lastSelectedBlock.selected=!1,x.clearCache()),this.lastSelectedBlock=B,this.Editor.InlineToolbar.close(),B.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(T){var E=this.Editor,O=E.BlockManager,x=E.BlockSelection,C=E.Caret,B=O.blocks.indexOf(this.firstSelectedBlock),R=O.blocks.indexOf(this.lastSelectedBlock);if(x.anyBlockSelected&&B>-1&&R>-1)if(T&&T instanceof KeyboardEvent)switch(T.keyCode){case v.keyCodes.DOWN:case v.keyCodes.RIGHT:C.setToBlock(O.blocks[Math.max(B,R)],C.positions.END);break;case v.keyCodes.UP:case v.keyCodes.LEFT:C.setToBlock(O.blocks[Math.min(B,R)],C.positions.START);break;default:C.setToBlock(O.blocks[Math.max(B,R)],C.positions.END)}else C.setToBlock(O.blocks[Math.max(B,R)],C.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(T){var E=this.Editor.UI;f.default.isCollapsed||this.Editor.BlockSelection.clearSelection(T),E.nodes.redactor.contains(T.target)?this.watchSelection(T):this.Editor.BlockSelection.clearSelection(T)}},{key:"toggleBlocksSelectedState",value:function(T,E){for(var O=this.Editor,x=O.BlockManager,C=O.BlockSelection,B=x.blocks.indexOf(T),R=x.blocks.indexOf(E),N=T.selected!==E.selected,D=Math.min(B,R);D<=Math.max(B,R);D++){var A=x.blocks[D];A!==this.firstSelectedBlock&&A!==(N?T:E)&&(x.blocks[D].selected=!x.blocks[D].selected,C.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),m}(g.default);n.default=b,b.displayName="CrossBlockSelection",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(25),e(7)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(_){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=v(i),s=v(s),u=v(u),c=v(c),p=v(p),d=v(d),h=v(h),g=v(g);var w=function(_){(0,p.default)(S,_);var b,k,M=(b=S,function(){var I,m=(0,h.default)(b);if(y()){var T=(0,h.default)(this).constructor;I=Reflect.construct(m,arguments,T)}else I=m.apply(this,arguments);return(0,d.default)(this,I)});function S(){var I;return(0,u.default)(this,S),(I=M.apply(this,arguments)).isStartedAtEditor=!1,I}return(0,c.default)(S,[{key:"toggleReadOnly",value:function(I){I?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var I=this,m=this.Editor.UI;this.readOnlyMutableListeners.on(m.nodes.holder,"drop",function(){var T=(0,s.default)(i.default.mark(function E(O){return i.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,I.processDrop(O);case 2:case"end":return x.stop()}},E)}));return function(E){return T.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(m.nodes.holder,"dragstart",function(){I.processDragStart()}),this.readOnlyMutableListeners.on(m.nodes.holder,"dragover",function(T){I.processDragOver(T)},!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(k=(0,s.default)(i.default.mark(function I(m){var T,E,O,x,C,B;return i.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return T=this.Editor,E=T.BlockManager,O=T.Caret,x=T.Paste,m.preventDefault(),E.blocks.forEach(function(N){N.dropTarget=!1}),g.default.isAtEditor&&!g.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(C=E.setCurrentBlockByChildNode(m.target))?this.Editor.Caret.setToBlock(C,O.positions.END):(B=E.setCurrentBlockByChildNode(E.lastBlock.holder),this.Editor.Caret.setToBlock(B,O.positions.END)),R.next=9,x.processDataTransfer(m.dataTransfer,!0);case 9:case"end":return R.stop()}},I,this)})),function(I){return k.apply(this,arguments)})},{key:"processDragStart",value:function(){g.default.isAtEditor&&!g.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(I){I.preventDefault()}}]),S}((f=v(f)).default);n.default=w,w.displayName="DragNDrop",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(61)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g){"use strict";var f=e(9),v=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(_){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=v(i),s=v(s),u=v(u),c=v(c),p=v(p),d=v(d),h=f(h),g=v(g);var w=function(_){(0,u.default)(M,_);var b,k=(b=M,function(){var S,I=(0,p.default)(b);if(y()){var m=(0,p.default)(this).constructor;S=Reflect.construct(I,arguments,m)}else S=I.apply(this,arguments);return(0,c.default)(this,S)});function M(){var S;return(0,i.default)(this,M),(S=k.apply(this,arguments)).disabled=!1,S.mutationDebouncer=h.debounce(function(){S.updateNativeInputs(),h.isFunction(S.config.onChange)&&S.config.onChange(S.Editor.API.methods)},M.DebounceTimer),S.nativeInputs=[],S}return(0,s.default)(M,[{key:"destroy",value:function(){var S=this;this.mutationDebouncer=null,this.observer&&this.observer.disconnect(),this.observer=null,this.nativeInputs.forEach(function(I){return S.listeners.off(I,"input",S.mutationDebouncer)}),this.mutationDebouncer=null}},{key:"toggleReadOnly",value:function(S){S?this.disableModule():this.enableModule()}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setObserver",value:function(){var S=this,I=this.Editor.UI;this.observer=new MutationObserver(function(m,T){S.mutationHandler(m,T)}),this.observer.observe(I.nodes.redactor,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(S,I){if(!this.disabled){var m=!1;S.forEach(function(T){switch(T.type){case"childList":case"characterData":m=!0;break;case"attributes":T.target.classList.contains(g.default.CSS.wrapper)||(m=!0)}}),m&&this.mutationDebouncer()}}},{key:"updateNativeInputs",value:function(){var S=this;this.nativeInputs&&this.nativeInputs.forEach(function(I){S.listeners.off(I,"input")}),this.nativeInputs=Array.from(this.Editor.UI.nodes.redactor.querySelectorAll("textarea, input, select")),this.nativeInputs.forEach(function(I){return S.listeners.on(I,"input",S.mutationDebouncer)})}},{key:"enableModule",value:function(){var S=this;window.setTimeout(function(){S.setObserver(),S.updateNativeInputs(),S.enable()},1e3)}},{key:"disableModule",value:function(){this.disable()}}]),M}(d.default);n.default=w,w.displayName="ModificationsObserver",w.DebounceTimer=450,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(378)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=g(i),s=g(s),u=g(u),c=g(c),p=g(p),d=g(d),h=g(h);var v=function(y){(0,u.default)(b,y);var w,_=(w=b,function(){var k,M=(0,p.default)(w);if(f()){var S=(0,p.default)(this).constructor;k=Reflect.construct(M,arguments,S)}else k=M.apply(this,arguments);return(0,c.default)(this,k)});function b(){return(0,i.default)(this,b),_.apply(this,arguments)}return(0,s.default)(b,[{key:"show",value:function(k){h.default.show(k)}}]),b}(d.default);n.default=v,v.displayName="Notifier",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(42),e(29),e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w){"use strict";var _=e(9),b=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(S){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=b(i),s=b(s),u=b(u),c=b(c),p=b(p),d=b(d),h=b(h),g=b(g),f=b(f),v=b(v),y=b(y),w=_(w);var M=function(S){(0,h.default)(D,S);var I,m,T,E,O,x,C,B,R,N=(I=D,function(){var A,P=(0,f.default)(I);if(k()){var j=(0,f.default)(this).constructor;A=Reflect.construct(P,arguments,j)}else A=P.apply(this,arguments);return(0,g.default)(this,A)});function D(){var A;return(0,p.default)(this,D),(A=N.apply(this,arguments)).MIME_TYPE="application/x-editor-js",A.toolsTags={},A.tagsByTool={},A.toolsPatterns=[],A.toolsFiles={},A.exceptionList=[],A.processTool=function(P){try{var j=P.create({},{},!1);if(P.pasteConfig===!1)return void A.exceptionList.push(P.name);if(!w.isFunction(j.onPaste))return;A.getTagsConfig(P),A.getFilesConfig(P),A.getPatternsConfig(P)}catch(F){w.log("Paste handling for \xAB".concat(P.name,"\xBB Tool hasn't been set up because of the error"),"warn",F)}},A.handlePasteEvent=function(){var P=(0,c.default)(u.default.mark(function j(F){var L,U,z;return u.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(L=A.Editor,U=L.BlockManager,z=L.Toolbar,U.currentBlock&&(!A.isNativeBehaviour(F.target)||F.clipboardData.types.includes("Files"))){H.next=3;break}return H.abrupt("return");case 3:if(!U.currentBlock||!A.exceptionList.includes(U.currentBlock.name)){H.next=5;break}return H.abrupt("return");case 5:F.preventDefault(),A.processDataTransfer(F.clipboardData),U.clearFocused(),z.close();case 9:case"end":return H.stop()}},j)}));return function(j){return P.apply(this,arguments)}}(),A}return(0,d.default)(D,[{key:"prepare",value:(R=(0,c.default)(u.default.mark(function A(){return u.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:this.processTools();case 1:case"end":return P.stop()}},A,this)})),function(){return R.apply(this,arguments)})},{key:"toggleReadOnly",value:function(A){A?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(B=(0,c.default)(u.default.mark(function A(P){var j,F,L,U,z,H,X,K,ee,J=arguments;return u.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(j=J.length>1&&J[1]!==void 0&&J[1],F=this.Editor.Sanitizer,!((L=P.types).includes?L.includes("Files"):L.contains("Files"))){Q.next=8;break}return Q.next=7,this.processFiles(P.files);case 7:return Q.abrupt("return");case 8:if(U=P.getData(this.MIME_TYPE),z=P.getData("text/plain"),H=P.getData("text/html"),!U){Q.next=19;break}return Q.prev=12,this.insertEditorJSData(JSON.parse(U)),Q.abrupt("return");case 17:Q.prev=17,Q.t0=Q.catch(12);case 19:if(j&&z.trim()&&H.trim()&&(H="<p>"+(H.trim()?H:z)+"</p>"),X=Object.keys(this.toolsTags).reduce(function(ue,W){return ue[W.toLowerCase()]=!0,ue},{}),K=Object.assign({},X,F.getAllInlineToolsConfig(),{br:{}}),(ee=F.clean(H,K)).trim()&&ee.trim()!==z&&y.default.isHTMLString(ee)){Q.next=28;break}return Q.next=26,this.processText(z);case 26:Q.next=30;break;case 28:return Q.next=30,this.processText(ee,!0);case 30:case"end":return Q.stop()}},A,this,[[12,17]])})),function(A){return B.apply(this,arguments)})},{key:"processText",value:(C=(0,c.default)(u.default.mark(function A(P){var j,F,L,U,z,H,X,K=this,ee=arguments;return u.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(j=ee.length>1&&ee[1]!==void 0&&ee[1],F=this.Editor,L=F.Caret,U=F.BlockManager,(z=j?this.processHTML(P):this.processPlain(P)).length){J.next=5;break}return J.abrupt("return");case 5:if(z.length!==1){J.next=8;break}return z[0].isBlock?this.processSingleBlock(z.pop()):this.processInlinePaste(z.pop()),J.abrupt("return");case 8:H=U.currentBlock&&U.currentBlock.tool.isDefault,X=H&&U.currentBlock.isEmpty,z.map(function(){var Q=(0,c.default)(u.default.mark(function ue(W,G){return u.default.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.abrupt("return",K.insertBlock(W,G===0&&X));case 1:case"end":return ie.stop()}},ue)}));return function(ue,W){return Q.apply(this,arguments)}}()),U.currentBlock&&L.setToBlock(U.currentBlock,L.positions.END);case 12:case"end":return J.stop()}},A,this)})),function(A){return C.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var A=this.Editor.Tools.blockTools;Array.from(A.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(A){var P=this,j=A.pasteConfig.tags||[];j.forEach(function(F){Object.prototype.hasOwnProperty.call(P.toolsTags,F)?w.log("Paste handler for \xAB".concat(A.name,"\xBB Tool on \xAB").concat(F,"\xBB tag is skipped ")+"because it is already used by \xAB".concat(P.toolsTags[F].tool.name,"\xBB Tool."),"warn"):P.toolsTags[F.toUpperCase()]={tool:A}}),this.tagsByTool[A.name]=j.map(function(F){return F.toUpperCase()})}},{key:"getFilesConfig",value:function(A){var P=A.pasteConfig.files,j=P===void 0?{}:P,F=j.extensions,L=j.mimeTypes;(F||L)&&(F&&!Array.isArray(F)&&(w.log("\xABextensions\xBB property of the onDrop config for \xAB".concat(A.name,"\xBB Tool should be an array")),F=[]),L&&!Array.isArray(L)&&(w.log("\xABmimeTypes\xBB property of the onDrop config for \xAB".concat(A.name,"\xBB Tool should be an array")),L=[]),L&&(L=L.filter(function(U){return!!w.isValidMimeType(U)||(w.log("MIME type value \xAB".concat(U,"\xBB for the \xAB").concat(A.name,"\xBB Tool is not a valid MIME type"),"warn"),!1)})),this.toolsFiles[A.name]={extensions:F||[],mimeTypes:L||[]})}},{key:"getPatternsConfig",value:function(A){var P=this;A.pasteConfig.patterns&&!w.isEmpty(A.pasteConfig.patterns)&&Object.entries(A.pasteConfig.patterns).forEach(function(j){var F=(0,s.default)(j,2),L=F[0],U=F[1];U instanceof RegExp||w.log("Pattern ".concat(U," for \xAB").concat(A.name,"\xBB Tool is skipped because it should be a Regexp instance."),"warn"),P.toolsPatterns.push({key:L,pattern:U,tool:A})})}},{key:"isNativeBehaviour",value:function(A){return y.default.isNativeInput(A)}},{key:"processFiles",value:(x=(0,c.default)(u.default.mark(function A(P){var j,F,L,U,z=this;return u.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return j=this.Editor.BlockManager,H.next=3,Promise.all(Array.from(P).map(function(X){return z.processFile(X)}));case 3:F=(F=H.sent).filter(function(X){return!!X}),L=j.currentBlock.tool.isDefault,U=L&&j.currentBlock.isEmpty,F.forEach(function(X,K){j.paste(X.type,X.event,K===0&&U)});case 8:case"end":return H.stop()}},A,this)})),function(A){return x.apply(this,arguments)})},{key:"processFile",value:(O=(0,c.default)(u.default.mark(function A(P){var j,F,L,U,z;return u.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(j=w.getFileExtension(P),F=Object.entries(this.toolsFiles).find(function(X){var K=(0,s.default)(X,2),ee=(K[0],K[1]),J=ee.mimeTypes,Q=ee.extensions,ue=P.type.split("/"),W=(0,s.default)(ue,2),G=W[0],ie=W[1],te=Q.find(function(fe){return fe.toLowerCase()===j.toLowerCase()}),re=J.find(function(fe){var ve=fe.split("/"),le=(0,s.default)(ve,2),be=le[0],ge=le[1];return be===G&&(ge===ie||ge==="*")});return!!te||!!re})){H.next=4;break}return H.abrupt("return");case 4:return L=(0,s.default)(F,1),U=L[0],z=this.composePasteEvent("file",{file:P}),H.abrupt("return",{event:z,type:U});case 7:case"end":return H.stop()}},A,this)})),function(A){return O.apply(this,arguments)})},{key:"processHTML",value:function(A){var P=this,j=this.Editor,F=j.Tools,L=j.Sanitizer,U=y.default.make("DIV");return U.innerHTML=A,this.getNodes(U).map(function(z){var H,X=F.defaultTool,K=!1;switch(z.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(H=y.default.make("div")).appendChild(z);break;case Node.ELEMENT_NODE:H=z,K=!0,P.toolsTags[H.tagName]&&(X=P.toolsTags[H.tagName].tool)}var ee=X.pasteConfig.tags.reduce(function(ue,W){return ue[W.toLowerCase()]={},ue},{}),J=Object.assign({},ee,L.getInlineToolsConfig(X));H.innerHTML=L.clean(H.innerHTML,J);var Q=P.composePasteEvent("tag",{data:H});return{content:H,isBlock:K,tool:X.name,event:Q}}).filter(function(z){return!y.default.isNodeEmpty(z.content)||y.default.isSingleTag(z.content)})}},{key:"processPlain",value:function(A){var P=this,j=this.config.defaultBlock;if(!A)return[];var F=j;return A.split(/\r?\n/).filter(function(L){return L.trim()}).map(function(L){var U=y.default.make("div");U.textContent=L;var z=P.composePasteEvent("tag",{data:U});return{content:U,tool:F,isBlock:!1,event:z}})}},{key:"processSingleBlock",value:(E=(0,c.default)(u.default.mark(function A(P){var j,F,L,U;return u.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(j=this.Editor,F=j.Caret,L=j.BlockManager,(U=L.currentBlock)&&P.tool===U.name&&y.default.containsOnlyInlineElements(P.content.innerHTML)){z.next=5;break}return this.insertBlock(P,(U==null?void 0:U.tool.isDefault)&&U.isEmpty),z.abrupt("return");case 5:F.insertContentAtCaretPosition(P.content.innerHTML);case 6:case"end":return z.stop()}},A,this)})),function(A){return E.apply(this,arguments)})},{key:"processInlinePaste",value:(T=(0,c.default)(u.default.mark(function A(P){var j,F,L,U,z,H,X,K,ee;return u.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(j=this.Editor,F=j.BlockManager,L=j.Caret,U=j.Sanitizer,z=P.content,!(F.currentBlock&&F.currentBlock.tool.isDefault&&z.textContent.length<D.PATTERN_PROCESSING_MAX_LENGTH)){J.next=12;break}return J.next=6,this.processPattern(z.textContent);case 6:if(!(H=J.sent)){J.next=12;break}return X=F.currentBlock&&F.currentBlock.tool.isDefault&&F.currentBlock.isEmpty,K=F.paste(H.tool,H.event,X),L.setToBlock(K,L.positions.END),J.abrupt("return");case 12:F.currentBlock&&F.currentBlock.currentInput?(ee=U.getInlineToolsConfig(F.currentBlock.tool),document.execCommand("insertHTML",!1,U.clean(z.innerHTML,ee))):this.insertBlock(P);case 13:case"end":return J.stop()}},A,this)})),function(A){return T.apply(this,arguments)})},{key:"processPattern",value:(m=(0,c.default)(u.default.mark(function A(P){var j,F;return u.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(j=this.toolsPatterns.find(function(U){var z=U.pattern.exec(P);return!!z&&P===z.shift()})){L.next=3;break}return L.abrupt("return");case 3:return F=this.composePasteEvent("pattern",{key:j.key,data:P}),L.abrupt("return",{event:F,tool:j.tool.name});case 5:case"end":return L.stop()}},A,this)})),function(A){return m.apply(this,arguments)})},{key:"insertBlock",value:function(A){var P,j=arguments.length>1&&arguments[1]!==void 0&&arguments[1],F=this.Editor,L=F.BlockManager,U=F.Caret,z=L.currentBlock;if(j&&z&&z.isEmpty)return P=L.paste(A.tool,A.event,!0),void U.setToBlock(P,U.positions.END);P=L.paste(A.tool,A.event),U.setToBlock(P,U.positions.END)}},{key:"insertEditorJSData",value:function(A){var P=this.Editor,j=P.BlockManager,F=P.Caret;P.Sanitizer.sanitizeBlocks(A).forEach(function(L,U){var z=L.tool,H=L.data,X=!1;U===0&&(X=j.currentBlock&&j.currentBlock.tool.isDefault&&j.currentBlock.isEmpty);var K=j.insert({tool:z,data:H,replace:X});F.setToBlock(K,F.positions.END)})}},{key:"processElementNode",value:function(A,P,j){var F=Object.keys(this.toolsTags),L=A,U=(this.toolsTags[L.tagName]||{}).tool,z=this.tagsByTool[U==null?void 0:U.name]||[],H=F.includes(L.tagName),X=y.default.blockElements.includes(L.tagName.toLowerCase()),K=Array.from(L.children).some(function(J){var Q=J.tagName;return F.includes(Q)&&!z.includes(Q)}),ee=Array.from(L.children).some(function(J){var Q=J.tagName;return y.default.blockElements.includes(Q.toLowerCase())});return X||H||K?H&&!K||X&&!ee&&!K?[].concat((0,i.default)(P),[j,L]):void 0:(j.appendChild(L),[].concat((0,i.default)(P),[j]))}},{key:"getNodes",value:function(A){var P,j=this;return Array.from(A.childNodes).reduce(function F(L,U){if(y.default.isEmpty(U)&&!y.default.isSingleTag(U))return L;var z=L[L.length-1],H=new DocumentFragment;switch(z&&y.default.isFragment(z)&&(H=L.pop()),U.nodeType){case Node.ELEMENT_NODE:if(P=j.processElementNode(U,L,H))return P;break;case Node.TEXT_NODE:return H.appendChild(U),[].concat((0,i.default)(L),[H]);default:return[].concat((0,i.default)(L),[H])}return[].concat((0,i.default)(L),(0,i.default)(Array.from(U.childNodes).reduce(F,[])))},[])}},{key:"composePasteEvent",value:function(A,P){return new CustomEvent(A,{detail:P})}}]),D}(v.default);n.default=M,M.displayName="Paste",M.PATTERN_PROCESSING_MAX_LENGTH=450,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(29),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(145)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v){"use strict";var y=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),s=y(s),u=y(u),c=y(c),p=y(p),d=y(d),h=y(h),g=y(g);var _=function(b){(0,d.default)(m,b);var k,M,S,I=(k=m,function(){var T,E=(0,g.default)(k);if(w()){var O=(0,g.default)(this).constructor;T=Reflect.construct(E,arguments,O)}else T=E.apply(this,arguments);return(0,h.default)(this,T)});function m(){var T;return(0,c.default)(this,m),(T=I.apply(this,arguments)).toolsDontSupportReadOnly=[],T.readOnlyEnabled=!1,T}return(0,p.default)(m,[{key:"prepare",value:(S=(0,u.default)(i.default.mark(function T(){var E,O,x;return i.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:E=this.Editor.Tools,O=E.blockTools,x=[],Array.from(O.entries()).forEach(function(B){var R=(0,s.default)(B,2),N=R[0];R[1].isReadOnlySupported||x.push(N)}),this.toolsDontSupportReadOnly=x,this.config.readOnly&&x.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return C.stop()}},T,this)})),function(){return S.apply(this,arguments)})},{key:"toggle",value:(M=(0,u.default)(i.default.mark(function T(){var E,O,x,C,B=arguments;return i.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:(E=B.length>0&&B[0]!==void 0?B[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),O=this.readOnlyEnabled,this.readOnlyEnabled=E,R.t0=i.default.keys(this.Editor);case 5:if((R.t1=R.t0()).done){R.next=12;break}if(x=R.t1.value,this.Editor[x].toggleReadOnly){R.next=9;break}return R.abrupt("continue",5);case 9:this.Editor[x].toggleReadOnly(E),R.next=5;break;case 12:if(O!==E){R.next=14;break}return R.abrupt("return",this.readOnlyEnabled);case 14:return R.next=16,this.Editor.Saver.save();case 16:return C=R.sent,R.next=19,this.Editor.BlockManager.clear();case 19:return R.next=21,this.Editor.Renderer.render(C.blocks);case 21:return R.abrupt("return",this.readOnlyEnabled);case 22:case"end":return R.stop()}},T,this)})),function(){return M.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new v.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),m}((f=y(f)).default);n.default=_,_.displayName="ReadOnly",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(25),e(61)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(1);function y(k){if(typeof Symbol=="undefined"||k[Symbol.iterator]==null){if(Array.isArray(k)||(k=function(O,x){if(O){if(typeof O=="string")return w(O,x);var C=Object.prototype.toString.call(O).slice(8,-1);return C==="Object"&&O.constructor&&(C=O.constructor.name),C==="Map"||C==="Set"?Array.from(C):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?w(O,x):void 0}}(k))){var M=0,S=function(){};return{s:S,n:function(){return M>=k.length?{done:!0}:{done:!1,value:k[M++]}},e:function(O){throw O},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,m,T=!0,E=!1;return{s:function(){I=k[Symbol.iterator]()},n:function(){var O=I.next();return T=O.done,O},e:function(O){E=!0,m=O},f:function(){try{T||I.return==null||I.return()}finally{if(E)throw m}}}}function w(k,M){(M==null||M>k.length)&&(M=k.length);for(var S=0,I=new Array(M);S<M;S++)I[S]=k[S];return I}function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=v(i),s=v(s),u=v(u),c=v(c),p=v(p),d=v(d),h=v(h),g=v(g),f=v(f);var b=function(k){(0,u.default)(I,k);var M,S=(M=I,function(){var m,T=(0,p.default)(M);if(_()){var E=(0,p.default)(this).constructor;m=Reflect.construct(T,arguments,E)}else m=T.apply(this,arguments);return(0,c.default)(this,m)});function I(){var m;return(0,i.default)(this,I),(m=S.apply(this,arguments)).isRectSelectionActivated=!1,m.SCROLL_SPEED=3,m.HEIGHT_OF_SCROLL_ZONE=40,m.BOTTOM_SCROLL_ZONE=1,m.TOP_SCROLL_ZONE=2,m.MAIN_MOUSE_BUTTON=0,m.mousedown=!1,m.isScrolling=!1,m.inScrollZone=null,m.startX=0,m.startY=0,m.mouseX=0,m.mouseY=0,m.stackOfSelected=[],m.listenerIds=[],m}return(0,s.default)(I,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(m,T){var E=document.elementFromPoint(m-window.pageXOffset,T-window.pageYOffset);E.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var O=[".".concat(f.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],x=E.closest("."+this.Editor.UI.CSS.editorWrapper),C=O.some(function(B){return!!E.closest(B)});x&&!C&&(this.mousedown=!0,this.startX=m,this.startY=T)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var m=this,T=this.genHTML().container;this.listeners.on(T,"mousedown",function(E){m.processMouseDown(E)},!1),this.listeners.on(document.body,"mousemove",function(E){m.processMouseMove(E)},!1),this.listeners.on(document.body,"mouseleave",function(){m.processMouseLeave()}),this.listeners.on(window,"scroll",function(E){m.processScroll(E)},!1),this.listeners.on(document.body,"mouseup",function(){m.processMouseUp()},!1)}},{key:"processMouseDown",value:function(m){m.button===this.MAIN_MOUSE_BUTTON&&this.startSelection(m.pageX,m.pageY)}},{key:"processMouseMove",value:function(m){this.changingRectangle(m),this.scrollByZones(m.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(m){this.changingRectangle(m)}},{key:"processMouseUp",value:function(){this.endSelection()}},{key:"scrollByZones",value:function(m){this.inScrollZone=null,m<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-m<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var m=this.Editor.UI,T=m.nodes.holder.querySelector("."+m.CSS.editorWrapper),E=h.default.make("div",I.CSS.overlay,{}),O=h.default.make("div",I.CSS.overlayContainer,{}),x=h.default.make("div",I.CSS.rect,{});return O.appendChild(x),E.appendChild(O),T.appendChild(E),this.overlayRectangle=x,{container:T,overlay:E}}},{key:"scrollVertical",value:function(m){var T=this;if(this.inScrollZone&&this.mousedown){var E=window.pageYOffset;window.scrollBy(0,m),this.mouseY+=window.pageYOffset-E,setTimeout(function(){T.scrollVertical(m)},0)}}},{key:"changingRectangle",value:function(m){if(this.mousedown){m.pageY!==void 0&&(this.mouseX=m.pageX,this.mouseY=m.pageY);var T=this.genInfoForMouseSelection(),E=T.rightPos,O=T.leftPos,x=T.index,C=this.startX>E&&this.mouseX>E,B=this.startX<O&&this.mouseX<O;this.rectCrossesBlocks=!(C||B),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),x!==void 0&&(this.trySelectNextBlock(x),this.inverseSelection(),g.default.get().removeAllRanges(),m.preventDefault())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var m=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!m){var T,E=y(this.stackOfSelected);try{for(E.s();!(T=E.n()).done;){var O=T.value;this.Editor.BlockSelection.selectBlockByIndex(O)}}catch(R){E.e(R)}finally{E.f()}}if(!this.rectCrossesBlocks&&m){var x,C=y(this.stackOfSelected);try{for(C.s();!(x=C.n()).done;){var B=x.value;this.Editor.BlockSelection.unSelectBlockByIndex(B)}}catch(R){C.e(R)}finally{C.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var m,T=document.body.offsetWidth/2,E=this.mouseY-window.pageYOffset,O=document.elementFromPoint(T,E),x=this.Editor.BlockManager.getBlockByChildNode(O);x!==void 0&&(m=this.Editor.BlockManager.blocks.findIndex(function(R){return R.holder===x.holder}));var C=this.Editor.BlockManager.lastBlock.holder.querySelector("."+f.default.CSS.content),B=Number.parseInt(window.getComputedStyle(C).width,10)/2;return{index:m,leftPos:T-B,rightPos:T+B}}},{key:"addBlockInSelection",value:function(m){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(m),this.stackOfSelected.push(m)}},{key:"trySelectNextBlock",value:function(m){var T=this,E=this.stackOfSelected[this.stackOfSelected.length-1]===m,O=this.stackOfSelected.length;if(!E){var x=this.stackOfSelected[O-1]-this.stackOfSelected[O-2]>0,C=0;O>1&&(C=x?1:-1);var B=m>this.stackOfSelected[O-1]&&C===1,R=m<this.stackOfSelected[O-1]&&C===-1,N=!(B||R||C===0);if(N||!(m>this.stackOfSelected[O-1]||this.stackOfSelected[O-1]===void 0)){if(!N&&m<this.stackOfSelected[O-1])for(var D=this.stackOfSelected[O-1]-1;D>=m;D--)this.addBlockInSelection(D);else if(N){var A,P=O-1;for(A=m>this.stackOfSelected[O-1]?function(){return m>T.stackOfSelected[P]}:function(){return m<T.stackOfSelected[P]};A();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[P]),this.stackOfSelected.pop(),P--}}else for(var j=this.stackOfSelected[O-1]+1||m;j<=m;j++)this.addBlockInSelection(j)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),I}(d.default);n.default=b,b.displayName="RectangleSelection",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(9),y=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),s=y(s),u=y(u),c=y(c),p=y(p),d=y(d),h=y(h),g=y(g),f=v(f);var _=function(b){(0,p.default)(m,b);var k,M,S,I=(k=m,function(){var T,E=(0,h.default)(k);if(w()){var O=(0,h.default)(this).constructor;T=Reflect.construct(E,arguments,O)}else T=E.apply(this,arguments);return(0,d.default)(this,T)});function m(){return(0,u.default)(this,m),I.apply(this,arguments)}return(0,c.default)(m,[{key:"render",value:(S=(0,s.default)(i.default.mark(function T(E){var O,x,C=this;return i.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return O=E.map(function(R){return{function:function(){return C.insertBlock(R)}}}),B.next=3,f.sequence(O);case 3:return x=B.sent,this.Editor.UI.checkEmptiness(),B.abrupt("return",x);case 6:case"end":return B.stop()}},T,this)})),function(T){return S.apply(this,arguments)})},{key:"insertBlock",value:(M=(0,s.default)(i.default.mark(function T(E){var O,x,C,B,R,N,D,A;return i.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(O=this.Editor,x=O.Tools,C=O.BlockManager,B=E.type,R=E.data,N=E.tunes,!x.available.has(B)){P.next=13;break}P.prev=3,C.insert({tool:B,data:R,tunes:N}),P.next=11;break;case 7:throw P.prev=7,P.t0=P.catch(3),f.log("Block \xAB".concat(B,"\xBB skipped because of plugins error"),"warn",R),Error(P.t0);case 11:P.next=18;break;case 13:D={savedData:{type:B,data:R},title:B},x.unavailable.has(B)&&(A=x.unavailable.get(B).toolbox,D.title=(A==null?void 0:A.title)||D.title),C.insert({tool:x.stubTool,data:D}).stretched=!0,f.log("Tool \xAB".concat(B,"\xBB is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return P.stop()}},T,this,[[3,7]])})),function(T){return M.apply(this,arguments)})}]),m}(g.default);n.default=_,_.displayName="Renderer",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(2),e(3),e(5),e(6),e(4),e(7),e(8),e(379)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(9),y=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),s=y(s),u=y(u),c=y(c),p=y(p),d=y(d),h=y(h),g=v(g),f=y(f);var _=function(b){(0,c.default)(S,b);var k,M=(k=S,function(){var I,m=(0,d.default)(k);if(w()){var T=(0,d.default)(this).constructor;I=Reflect.construct(m,arguments,T)}else I=m.apply(this,arguments);return(0,p.default)(this,I)});function S(){var I;return(0,s.default)(this,S),(I=M.apply(this,arguments)).configCache={},I.inlineToolsConfigCache=null,I}return(0,u.default)(S,[{key:"sanitizeBlocks",value:function(I){var m=this;return I.map(function(T){var E=m.composeToolConfig(T.tool);return g.isEmpty(E)||(T.data=m.deepSanitize(T.data,E)),T})}},{key:"deepSanitize",value:function(I,m){return Array.isArray(I)?this.cleanArray(I,m):g.isObject(I)?this.cleanObject(I,m):g.isString(I)?this.cleanOneItem(I,m):I}},{key:"clean",value:function(I){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T={tags:m},E=this.createHTMLJanitorInstance(T);return E.clean(I)}},{key:"composeToolConfig",value:function(I){if(this.configCache[I])return this.configCache[I];var m=this.Editor.Tools.available.get(I),T=this.getInlineToolsConfig(m);if(!m.sanitizeConfig||m.sanitizeConfig&&g.isEmpty(m.sanitizeConfig))return T;var E=m.sanitizeConfig,O={};for(var x in E)if(Object.prototype.hasOwnProperty.call(E,x)){var C=E[x];g.isObject(C)?O[x]=Object.assign({},T,C):O[x]=C}return this.configCache[I]=O,O}},{key:"getInlineToolsConfig",value:function(I){var m=this.Editor.Tools,T=I.enabledInlineTools||[],E={};return g.isBoolean(T)&&T?E=this.getAllInlineToolsConfig():T.map(function(O){E=Object.assign(E,m.inlineTools.get(O).sanitizeConfig)}),E.br=!0,E.wbr=!0,E}},{key:"getAllInlineToolsConfig",value:function(){var I=this.Editor.Tools;if(this.inlineToolsConfigCache)return this.inlineToolsConfigCache;var m={};return Object.entries(I.inlineTools).forEach(function(T){var E=(0,i.default)(T,2)[1];Object.assign(m,E.sanitizeConfig)}),this.inlineToolsConfigCache=m,this.inlineToolsConfigCache}},{key:"cleanArray",value:function(I,m){var T=this;return I.map(function(E){return T.deepSanitize(E,m)})}},{key:"cleanObject",value:function(I,m){var T={};for(var E in I)if(Object.prototype.hasOwnProperty.call(I,E)){var O=I[E],x=this.isRule(m[E])?m[E]:m;T[E]=this.deepSanitize(O,x)}return T}},{key:"cleanOneItem",value:function(I,m){return g.isObject(m)?this.clean(I,m):m===!1?this.clean(I,{}):I}},{key:"isRule",value:function(I){return g.isObject(I)||g.isBoolean(I)||g.isFunction(I)}},{key:"createHTMLJanitorInstance",value:function(I){return I?new f.default(I):null}}]),S}(h.default);n.default=_,_.displayName="Sanitizer",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(7),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(9),y=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),s=y(s),u=y(u),c=y(c),p=y(p),d=y(d),h=y(h),g=y(g),f=v(f);var _=function(b){(0,p.default)(m,b);var k,M,S,I=(k=m,function(){var T,E=(0,h.default)(k);if(w()){var O=(0,h.default)(this).constructor;T=Reflect.construct(E,arguments,O)}else T=E.apply(this,arguments);return(0,d.default)(this,T)});function m(){return(0,u.default)(this,m),I.apply(this,arguments)}return(0,c.default)(m,[{key:"save",value:(S=(0,s.default)(i.default.mark(function T(){var E,O,x,C,B,R,N,D,A=this;return i.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return E=this.Editor,O=E.BlockManager,x=E.Sanitizer,C=E.ModificationsObserver,B=O.blocks,R=[],C.disable(),P.prev=3,B.forEach(function(j){R.push(A.getSavedData(j))}),P.next=7,Promise.all(R);case 7:return N=P.sent,P.next=10,x.sanitizeBlocks(N);case 10:return D=P.sent,P.abrupt("return",this.makeOutput(D));case 12:return P.prev=12,C.enable(),P.finish(12);case 15:case"end":return P.stop()}},T,this,[[3,,12,15]])})),function(){return S.apply(this,arguments)})},{key:"getSavedData",value:(M=(0,s.default)(i.default.mark(function T(E){var O,x;return i.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,E.save();case 2:if(O=C.sent,C.t0=O,!C.t0){C.next=8;break}return C.next=7,E.validate(O.data);case 7:C.t0=C.sent;case 8:return x=C.t0,C.abrupt("return",Object.assign(Object.assign({},O),{isValid:x}));case 10:case"end":return C.stop()}},T)})),function(T){return M.apply(this,arguments)})},{key:"makeOutput",value:function(T){var E=this,O=0,x=[];return f.log("[Editor.js saving]:","groupCollapsed"),T.forEach(function(C){var B=C.tool,R=C.data,N=C.tunes,D=C.time,A=C.isValid;if(O+=D,f.log("".concat(B.charAt(0).toUpperCase()+B.slice(1)),"group"),!A)return f.log("Block \xAB".concat(B,"\xBB skipped because saved data is invalid")),void f.log(void 0,"groupEnd");if(f.log(R),f.log(void 0,"groupEnd"),B!==E.Editor.Tools.stubTool){var P={type:B,data:R};f.isEmpty(N)||(P.tunes=N),x.push(P)}else x.push(R)}),f.log("Total","log",O),f.log(void 0,"groupEnd"),{time:+new Date,blocks:x,version:"2.20.0"}}}]),m}(g.default);n.default=_,_.displayName="Saver",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(60),e(8),e(25)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y){"use strict";var w=e(9),_=e(1);function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(M){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=_(i),s=_(s),u=_(u),c=_(c),p=_(p),d=_(d),h=_(h),g=_(g),f=_(f),v=w(v),y=_(y);var k=function(M){(0,c.default)(m,M);var S,I=(S=m,function(){var T,E=(0,d.default)(S);if(b()){var O=(0,d.default)(this).constructor;T=Reflect.construct(E,arguments,O)}else T=E.apply(this,arguments);return(0,p.default)(this,T)});function m(){var T;return(0,s.default)(this,m),(T=I.apply(this,arguments)).buttons=[],T.flipper=null,T.selection=new y.default,T}return(0,u.default)(m,[{key:"make",value:function(){this.nodes.wrapper=g.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=g.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=g.default.make("div",this.CSS.defaultSettings),g.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),this.Editor.BlockManager.currentBlock.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(),this.addTunes(),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),y.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(){var T=this.Editor.BlockManager.currentBlock.renderSettings();T&&g.default.append(this.nodes.toolSettings,T)}},{key:"addTunes",value:function(){var T=this.Editor.BlockManager.currentBlock.renderTunes(),E=(0,i.default)(T,2),O=E[0],x=E[1];g.default.append(this.nodes.toolSettings,O),g.default.append(this.nodes.defaultSettings,x)}},{key:"enableFlipper",value:function(){var T=this;this.flipper=new f.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(E){E&&g.default.canSetCaret(E)?T.close():v.delay(function(){T.Editor.Caret.setToBlock(T.Editor.BlockManager.currentBlock)},50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var T=this,E=this.Editor.StylesAPI;if(this.buttons.length!==0)return this.buttons;var O=this.nodes.toolSettings.querySelectorAll(".".concat(E.classes.settingsButton,", ").concat(g.default.allInputsSelector)),x=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return O.forEach(function(C){T.buttons.push(C)}),x.forEach(function(C){T.buttons.push(C)}),this.buttons}}]),m}(h.default);n.default=k,k.displayName="BlockSettings",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(21),e(22),e(42),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8),e(60),e(59),e(81)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w,_,b,k){"use strict";var M=e(9),S=e(1);function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=S(i),s=S(s),u=S(u),c=S(c),p=S(p),d=S(d),h=S(h),g=S(g),f=S(f),v=S(v),y=S(y),w=M(w),_=S(_),b=S(b);var m=function(T){(0,h.default)(C,T);var E,O,x=(E=C,function(){var B,R=(0,f.default)(E);if(I()){var N=(0,f.default)(this).constructor;B=Reflect.construct(R,arguments,N)}else B=R.apply(this,arguments);return(0,g.default)(this,B)});function C(){var B;return(0,p.default)(this,C),(B=x.apply(this,arguments)).opened=!1,B.tools={},B.flipper=null,B.togglingCallback=null,B}return(0,d.default)(C,[{key:"make",value:function(){this.nodes.wrapper=y.default.make("div",[C.CSS.conversionToolbarWrapper].concat((0,c.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=y.default.make("div",C.CSS.conversionToolbarTools);var B=y.default.make("div",C.CSS.conversionToolbarLabel,{textContent:b.default.ui(k.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),y.default.append(this.nodes.wrapper,B),y.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(B){this.opened?this.close():this.open(),w.isFunction(B)&&(this.togglingCallback=B)}},{key:"open",value:function(){var B=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(C.CSS.conversionToolbarShowed),setTimeout(function(){B.flipper.activate(Object.values(B.tools).filter(function(R){return!R.classList.contains(C.CSS.conversionToolHidden)})),B.flipper.focusFirst(),w.isFunction(B.togglingCallback)&&B.togglingCallback(!0)},50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(C.CSS.conversionToolbarShowed),w.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var B=Object.keys(this.tools);return!(B.length===1&&B.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(O=(0,u.default)(s.default.mark(function B(R){var N,D,A,P,j,F,L,U,z,H,X=this;return s.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return N=this.Editor.BlockManager.currentBlock.tool,D=this.Editor.BlockManager.currentBlock.name,K.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(A=K.sent,P=A.data,D===R&&(R=this.config.defaultBlock),j=this.Editor.Tools.blockTools.get(R),F="",L=N.conversionConfig.export,!w.isFunction(L)){K.next=14;break}F=L(P),K.next=20;break;case 14:if(!w.isString(L)){K.next=18;break}F=P[L],K.next=20;break;case 18:return w.log("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),K.abrupt("return");case 20:if(U=this.Editor.Sanitizer.clean(F,j.sanitizeConfig),z={},H=j.conversionConfig.import,!w.isFunction(H)){K.next=27;break}z=H(U),K.next=33;break;case 27:if(!w.isString(H)){K.next=31;break}z[H]=U,K.next=33;break;case 31:return w.log("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),K.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:R,data:z}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),w.delay(function(){X.Editor.Caret.setToBlock(X.Editor.BlockManager.currentBlock)},10)();case 38:case"end":return K.stop()}},B,this)})),function(B){return O.apply(this,arguments)})},{key:"addTools",value:function(){var B=this,R=this.Editor.Tools.blockTools;Array.from(R.entries()).forEach(function(N){var D=(0,i.default)(N,2),A=D[0],P=D[1],j=P.toolbox,F=P.conversionConfig;!w.isEmpty(j)&&j.icon&&F&&F.import&&B.addTool(A,j.icon,j.title)})}},{key:"addTool",value:function(B,R,N){var D=this,A=y.default.make("div",[C.CSS.conversionTool]),P=y.default.make("div",[C.CSS.conversionToolIcon]);A.dataset.tool=B,P.innerHTML=R,y.default.append(A,P),y.default.append(A,y.default.text(b.default.t(k.I18nInternalNS.toolNames,N||w.capitalize(B)))),y.default.append(this.nodes.tools,A),this.tools[B]=A,this.listeners.on(A,"click",(0,u.default)(s.default.mark(function j(){return s.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,D.replaceWithBlock(B);case 2:case"end":return F.stop()}},j)})))}},{key:"filterTools",value:function(){var B=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach(function(R){var N=(0,i.default)(R,2),D=N[0],A=N[1];A.hidden=!1,A.classList.toggle(C.CSS.conversionToolHidden,D===B.name)})}},{key:"enableFlipper",value:function(){this.flipper=new _.default({focusedItemClass:C.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),C}(v.default);n.default=m,m.displayName="ConversionToolbar",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(42),e(29),e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(25),e(8),e(60),e(59),e(81),e(108),e(66)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w,_,b,k,M){"use strict";var S=e(9),I=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(E){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=I(i),s=I(s),u=I(u),c=I(c),p=I(p),d=I(d),h=I(h),g=I(g),f=I(f),v=I(v),y=S(y),w=I(w),_=I(_),k=I(k);var T=function(E){(0,p.default)(C,E);var O,x=(O=C,function(){var B,R=(0,h.default)(O);if(m()){var N=(0,h.default)(this).constructor;B=Reflect.construct(R,arguments,N)}else B=R.apply(this,arguments);return(0,d.default)(this,B)});function C(){var B;return(0,u.default)(this,C),(B=x.apply(this,arguments)).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},B.opened=!1,B.toolbarVerticalMargin=5,B.buttonsList=null,B.width=0,B.flipper=null,B}return(0,c.default)(C,[{key:"toggleReadOnly",value:function(B){B?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var B=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.allowedToShow()?(this.move(),this.open(),this.Editor.Toolbar.close()):B&&this.close()}},{key:"move",value:function(){var B=v.default.rect,R=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),N={x:B.x-R.left,y:B.y+B.height-R.top+this.toolbarVerticalMargin};B.width&&(N.x+=Math.floor(B.width/2));var D=N.x-this.width/2,A=N.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,D<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,A>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(N.x)+"px",this.nodes.wrapper.style.top=Math.floor(N.y)+"px"}},{key:"close",value:function(){var B=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(function(R){var N=(0,s.default)(R,2),D=N[0],A=N[1],P=B.getToolShortcut(D);P&&k.default.remove(B.Editor.UI.nodes.redactor,P),y.isFunction(A.clear)&&A.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var B=Array.from(this.buttonsList);B.unshift(this.nodes.conversionToggler),B=B.filter(function(R){return!R.hidden}),this.flipper.activate(B)}}},{key:"containsNode",value:function(B){return this.nodes.wrapper.contains(B)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"getInlineToolbarSettings",value:function(B){var R=B.enabledInlineTools;if(R!==!0&&!Array.isArray(R))return!1;if(Array.isArray(R))return R;var N=this.config.inlineToolbar;return Array.isArray(N)?N:N===!0&&Array.from(this.Editor.Tools.inlineTools.keys())}},{key:"make",value:function(){var B=this;this.nodes.wrapper=f.default.make("div",[this.CSS.inlineToolbar].concat((0,i.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=f.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=f.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=f.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",function(R){R.target.closest(".".concat(B.CSS.actionsWrapper))||R.preventDefault()}),f.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),f.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),f.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var B=v.default.get(),R=v.default.text;if(!B||!B.anchorNode||B.isCollapsed||R.length<1)return!1;var N=f.default.isElement(B.anchorNode)?B.anchorNode:B.anchorNode.parentElement;if(B&&["IMG","INPUT"].includes(N.tagName)||N.closest('[contenteditable="true"]')===null)return!1;var D=this.Editor.BlockManager.getBlock(B.anchorNode);return!!D&&this.getInlineToolbarSettings(D.tool)!==!1}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var B=this;this.nodes.conversionToggler=f.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=f.default.make("div",this.CSS.conversionTogglerContent);var R=f.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(R),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",function(){B.Editor.ConversionToolbar.toggle(function(N){!N&&B.opened?B.flipper.activate():B.opened&&B.flipper.deactivate()})}),this.Editor.Tooltip.onHover(this.nodes.conversionToggler,_.default.ui(b.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var B=this.Editor.BlockManager.currentBlock,R=B.name,N=B.tool.conversionConfig,D=N&&N.export;this.nodes.conversionToggler.hidden=!D,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!D);var A=B.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=A.icon||A.title||y.capitalize(R)}},{key:"prepareConversionToolbar",value:function(){var B=this.Editor.ConversionToolbar.make();f.default.append(this.nodes.wrapper,B)}},{key:"addToolsFiltered",value:function(){var B=this,R=v.default.get(),N=this.Editor.BlockManager.getBlock(R.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,this.getInlineToolbarSettings(N.tool).forEach(function(D){var A=B.Editor.Tools.inlineTools.get(D);B.addTool(A)}),this.recalculateWidth()}},{key:"addTool",value:function(B){var R=this,N=this.Editor.Tooltip,D=B.create(),A=D.render();if(A){if(A.dataset.tool=B.name,this.nodes.buttons.appendChild(A),this.toolsInstances.set(B.name,D),y.isFunction(D.renderActions)){var P=D.renderActions();this.nodes.actions.appendChild(P)}this.listeners.on(A,"click",function(U){R.toolClicked(D),U.preventDefault()});var j=this.getToolShortcut(B.name);if(j)try{this.enableShortcuts(D,j)}catch(U){}var F=f.default.make("div"),L=_.default.t(b.I18nInternalNS.toolNames,B.title||y.capitalize(B.name));F.appendChild(f.default.text(L)),j&&F.appendChild(f.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:y.beautifyShortcut(j)})),N.onHover(A,F,{placement:"top",hidingDelay:100}),D.checkState(v.default.get())}else y.log("Render method must return an instance of Node","warn",B.name)}},{key:"getToolShortcut",value:function(B){var R=this.Editor.Tools,N=R.inlineTools.get(B),D=R.internal.inlineTools;return Array.from(D.keys()).includes(B)?this.inlineTools[B][M.CommonInternalSettings.Shortcut]:N.shortcut}},{key:"enableShortcuts",value:function(B,R){var N=this;k.default.add({name:R,handler:function(D){var A=N.Editor.BlockManager.currentBlock;A&&A.tool.enabledInlineTools&&(D.preventDefault(),N.toolClicked(B))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(B){var R=v.default.range;B.surround(R),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach(function(B){B.checkState(v.default.get())})}},{key:"enableFlipper",value:function(){this.flipper=new w.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){var B={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(function(R){var N=(0,s.default)(R,2),D=N[0],A=N[1];B[D]=A.create()}),B}}]),C}(g.default);n.default=T,T.displayName="InlineToolbar",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(15),e(8),e(60),e(61),e(59),e(81),e(108)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w,_){"use strict";var b=e(9),k=e(1);function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(I){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=k(i),s=k(s),u=k(u),c=k(c),p=k(p),d=k(d),h=k(h),g=b(g),f=k(f),y=k(y),_=k(_);var S=function(I){(0,u.default)(E,I);var m,T=(m=E,function(){var O,x=(0,p.default)(m);if(M()){var C=(0,p.default)(this).constructor;O=Reflect.construct(x,arguments,C)}else O=x.apply(this,arguments);return(0,c.default)(this,O)});function E(){var O;return(0,i.default)(this,E),(O=T.apply(this,arguments)).nodes={toolbox:null,buttons:[]},O.opened=!1,O.displayedToolsCount=0,O.flipper=null,O}return(0,s.default)(E,[{key:"make",value:function(){this.nodes.toolbox=h.default.make("div",this.CSS.toolbox),this.addTools(),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.removeAllShortcuts()}},{key:"toolButtonActivate",value:function(O,x){this.insertNewBlock(x)}},{key:"open",value:function(){this.isEmpty||(this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"addTools",value:function(){var O=this,x=this.Editor.Tools.blockTools;Array.from(x.values()).forEach(function(C){return O.addTool(C)})}},{key:"addTool",value:function(O){var x=this,C=O.toolbox;if(C)if(!C||C.icon){var B=h.default.make("li",[this.CSS.toolboxButton]);B.dataset.tool=O.name,B.innerHTML=C.icon,h.default.append(this.nodes.toolbox,B),this.nodes.toolbox.appendChild(B),this.nodes.buttons.push(B),this.listeners.on(B,"click",function(D){x.toolButtonActivate(D,O.name)});var R=this.drawTooltip(O);this.Editor.Tooltip.onHover(B,R,{placement:"bottom",hidingDelay:200});var N=O.shortcut;N&&this.enableShortcut(O.name,N),this.displayedToolsCount++}else g.log("Toolbar icon is missed. Tool %o skipped","warn",O.name)}},{key:"drawTooltip",value:function(O){var x=O.toolbox||{},C=y.default.t(w.I18nInternalNS.toolNames,x.title||O.name),B=O.shortcut,R=h.default.make("div",this.CSS.buttonTooltip),N=document.createTextNode(g.capitalize(C));return R.appendChild(N),B&&(B=g.beautifyShortcut(B),R.appendChild(h.default.make("div",this.CSS.buttonShortcut,{textContent:B}))),R}},{key:"enableShortcut",value:function(O,x){var C=this;_.default.add({name:x,handler:function(B){B.preventDefault(),C.insertNewBlock(O)},on:this.Editor.UI.nodes.redactor})}},{key:"removeAllShortcuts",value:function(){var O=this,x=this.Editor.Tools.blockTools;Array.from(x.values()).forEach(function(C){var B=C.shortcut;B&&_.default.remove(O.Editor.UI.nodes.redactor,B)})}},{key:"enableFlipper",value:function(){var O=Array.from(this.nodes.toolbox.childNodes);this.flipper=new f.default({items:O,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(O){var x=this.Editor,C=x.BlockManager,B=x.Caret,R=C.currentBlock,N=C.insert({tool:O,replace:R.isEmpty});N.call(v.BlockToolAPI.APPEND_CALLBACK),this.Editor.Caret.setToBlock(N),N.inputs.length===0&&(N===C.lastBlock?(C.insertAtEnd(),B.setToBlock(C.lastBlock)):B.setToBlock(C.nextBlock)),this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",openedToolbarHolderModifier:"codex-editor--toolbox-opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}},{key:"isEmpty",get:function(){return this.displayedToolsCount===0}}]),E}(d.default);n.default=S,S.displayName="Toolbox",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(42),e(29),e(2),e(3),e(5),e(6),e(4),e(380),e(7),e(8),e(381),e(382),e(383),e(384),e(385),e(389),e(390),e(391),e(392)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w,_,b,k,M,S,I,m,T,E){"use strict";var O=e(9),x=e(1);function C(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(R){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=x(i),s=x(s),u=x(u),c=x(c),p=x(p),d=x(d),h=x(h),g=x(g),f=x(f),v=x(v),y=x(y),w=O(w),_=x(_),b=x(b),k=x(k),M=x(M),S=x(S),I=x(I),m=x(m),T=x(T),E=x(E);var B=function(R){(0,h.default)(A,R);var N,D=(N=A,function(){var P,j=(0,f.default)(N);if(C()){var F=(0,f.default)(this).constructor;P=Reflect.construct(j,arguments,F)}else P=j.apply(this,arguments);return(0,g.default)(this,P)});function A(){var P;return(0,p.default)(this,A),(P=D.apply(this,arguments)).stubTool="stub",P.toolsAvailable=new E.default,P.toolsUnavailable=new E.default,P}return(0,d.default)(A,[{key:"prepare",value:function(){var P=this;if(this.validateTools(),this.config.tools=w.deepMerge({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");var j=this.prepareConfig();this.factory=new S.default(j,this.config,this.Editor.API);var F=this.getListOfPrepareFunctions(j);return F.length===0?Promise.resolve():w.sequence(F,function(L){P.toolPrepareMethodSuccess(L)},function(L){P.toolPrepareMethodFallback(L)})}},{key:"getTunesForTool",value:function(P){var j=P.enabledBlockTunes;if(j===!1)return new E.default;if(Array.isArray(j))return new E.default(Array.from(this.blockTunes.entries()).filter(function(L){var U=(0,c.default)(L,2)[1];return j.includes(U.name)}).concat((0,u.default)(this.blockTunes.internalTools.entries())));var F=this.config.tunes;return Array.isArray(F)?new E.default(Array.from(this.blockTunes.entries()).filter(function(L){var U=(0,c.default)(L,2)[1];return F.includes(U.name)}).concat((0,u.default)(this.blockTunes.internalTools.entries()))):this.blockTunes.internalTools}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var P=(0,s.default)(i.default.mark(function j(F){return i.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!w.isFunction(F.reset)){L.next=3;break}return L.next=3,F.reset();case 3:case"end":return L.stop()}},j)}));return function(j){return P.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(P){var j=this.factory.get(P.toolName);if(j.isInline()){var F=["render","surround","checkState"].filter(function(L){return!j.create()[L]});if(F.length)return w.log("Incorrect Inline Tool: ".concat(j.name,". Some of required methods is not implemented %o"),"warn",F),void this.toolsUnavailable.set(j.name,j)}this.toolsAvailable.set(j.name,j)}},{key:"toolPrepareMethodFallback",value:function(P){this.toolsUnavailable.set(P.toolName,this.factory.get(P.toolName))}},{key:"getListOfPrepareFunctions",value:function(P){var j=[];return Object.entries(P).forEach(function(F){var L=(0,c.default)(F,2),U=L[0],z=L[1];j.push({function:w.isFunction(z.class.prepare)?z.class.prepare:function(){},data:{toolName:U}})}),j}},{key:"validateTools",value:function(){for(var P in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,P)){if(P in this.internalTools)return;var j=this.config.tools[P];if(!w.isFunction(j)&&!w.isFunction(j.class))throw Error("Tool \xAB".concat(P,"\xBB must be a constructor function or an object with function in the \xABclass\xBB property"))}}},{key:"prepareConfig",value:function(){var P={};for(var j in this.config.tools)w.isObject(this.config.tools[j])?P[j]=this.config.tools[j]:P[j]={class:this.config.tools[j]};return P}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:_.default,isInternal:!0},italic:{class:b.default,isInternal:!0},link:{class:k.default,isInternal:!0},paragraph:{class:v.default,inlineToolbar:!0,isInternal:!0},stub:{class:M.default,isInternal:!0},moveUpTune:{class:T.default,isInternal:!0},deleteTune:{class:m.default,isInternal:!0},moveDownTune:{class:I.default,isInternal:!0}}}}]),A}(y.default);n.default=B,B.displayName="Tools",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(7),e(393)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=g(i),s=g(s),u=g(u),c=g(c),p=g(p),d=g(d),h=g(h);var v=function(y){(0,u.default)(b,y);var w,_=(w=b,function(){var k,M=(0,p.default)(w);if(f()){var S=(0,p.default)(this).constructor;k=Reflect.construct(M,arguments,S)}else k=M.apply(this,arguments);return(0,c.default)(this,k)});function b(){var k;return(0,i.default)(this,b),(k=_.apply(this,arguments)).lib=new h.default,k}return(0,s.default)(b,[{key:"show",value:function(k,M,S){this.lib.show(k,M,S)}},{key:"hide",value:function(){this.lib.hide()}},{key:"onHover",value:function(k,M,S){this.lib.onHover(k,M,S)}}]),b}(d.default);n.default=v,v.displayName="Tooltip",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(42),e(21),e(22),e(2),e(3),e(5),e(6),e(4),e(394),e(7),e(15),e(8),e(25),e(61),e(60)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f,v,y,w,_,b,k,M){"use strict";var S=e(9),I=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(E){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=I(i),s=I(s),u=I(u),c=I(c),p=I(p),d=I(d),h=I(h),g=I(g),f=I(f),v=I(v),y=I(y),w=I(w),_=S(_),b=I(b),k=I(k),M=I(M);var T=function(E){(0,h.default)(B,E);var O,x,C=(O=B,function(){var R,N=(0,f.default)(O);if(m()){var D=(0,f.default)(this).constructor;R=Reflect.construct(N,arguments,D)}else R=N.apply(this,arguments);return(0,g.default)(this,R)});function B(){var R;return(0,p.default)(this,B),(R=C.apply(this,arguments)).isMobile=!1,R.contentRectCache=void 0,R.resizeDebouncer=_.debounce(function(){R.windowResize()},200),R}return(0,d.default)(B,[{key:"addLoader",value:function(){this.nodes.loader=w.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(x=(0,c.default)(u.default.mark(function R(){return u.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return N.stop()}},R,this)})),function(){return x.apply(this,arguments)})},{key:"toggleReadOnly",value:function(R){R?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){var R=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,R.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var R=this.Editor,N=R.Toolbox,D=R.BlockSettings,A=R.InlineToolbar,P=R.ConversionToolbar;D.close(),A.close(),P.close(),N.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=w.default.getHolder(this.config.holder),this.nodes.wrapper=w.default.make("div",[this.CSS.editorWrapper].concat((0,s.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=w.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var R=e(395);if(!w.default.get("editor-js-styles")){var N=w.default.make("style",null,{id:"editor-js-styles",textContent:R.toString()});w.default.prepend(document.head,N)}}},{key:"enableModuleBindings",value:function(){var R=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",function(N){R.redactorClicked(N)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",function(N){R.documentTouched(N)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",function(N){R.documentTouched(N)},!0),this.readOnlyMutableListeners.on(document,"keydown",function(N){R.documentKeydown(N)},!0),this.readOnlyMutableListeners.on(document,"click",function(N){R.documentClicked(N)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",function(N){R.selectionChanged(N)},!0),this.readOnlyMutableListeners.on(window,"resize",function(){R.resizeDebouncer()},{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(R){switch(R.keyCode){case _.keyCodes.ENTER:this.enterPressed(R);break;case _.keyCodes.BACKSPACE:this.backspacePressed(R);break;case _.keyCodes.ESC:this.escapePressed(R);break;default:this.defaultBehaviour(R)}}},{key:"defaultBehaviour",value:function(R){var N=this.Editor.BlockManager.currentBlock,D=R.target.closest(".".concat(this.CSS.editorWrapper)),A=R.altKey||R.ctrlKey||R.metaKey||R.shiftKey;N===void 0||D!==null?D||N&&A||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(R)}},{key:"backspacePressed",value:function(R){var N=this.Editor,D=N.BlockManager,A=N.BlockSelection,P=N.Caret;if(A.anyBlockSelected&&!b.default.isSelectionExists){var j=D.removeSelectedBlocks();P.setToBlock(D.insertDefaultBlockAtIndex(j,!0),P.positions.START),A.clearSelection(R),R.preventDefault(),R.stopPropagation(),R.stopImmediatePropagation()}}},{key:"escapePressed",value:function(R){this.Editor.BlockSelection.clearSelection(R),this.Editor.Toolbox.opened?this.Editor.Toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(R){var N=this.Editor,D=N.BlockManager,A=N.BlockSelection,P=D.currentBlockIndex>=0;if(A.anyBlockSelected&&!b.default.isSelectionExists)return A.clearSelection(R),R.preventDefault(),R.stopImmediatePropagation(),void R.stopPropagation();if(!this.someToolbarOpened&&P&&R.target.tagName==="BODY"){var j=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(j),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.move(),this.Editor.Toolbar.plusButton.show()}this.Editor.BlockSelection.clearSelection(R)}},{key:"documentClicked",value:function(R){if(R.isTrusted){var N=R.target;this.nodes.holder.contains(N)||b.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.InlineToolbar.close(),this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close()),this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted||this.Editor.BlockSelection.clearSelection(R)}}},{key:"documentTouched",value:function(R){var N=R.target;if(N===this.nodes.redactor){var D=R instanceof MouseEvent?R.clientX:R.touches[0].clientX,A=R instanceof MouseEvent?R.clientY:R.touches[0].clientY;N=document.elementFromPoint(D,A)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(N),this.Editor.BlockManager.highlightCurrentNode()}catch(P){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.open(),this.Editor.Toolbar.plusButton.hide()}},{key:"redactorClicked",value:function(R){if(b.default.isCollapsed){var N=function(){R.stopImmediatePropagation(),R.stopPropagation()},D=R.target,A=R.metaKey||R.ctrlKey;if(w.default.isAnchor(D)&&A){N();var P=D.getAttribute("href"),j=_.getValidUrl(P);_.openTab(j)}else this.Editor.BlockManager.currentBlock||(N(),this.Editor.BlockManager.insert()),this.Editor.BlockManager.currentBlock.tool.isDefault&&(N(),this.Editor.BlockManager.currentBlock.isEmpty&&this.Editor.Toolbar.plusButton.show())}}},{key:"selectionChanged",value:function(R){var N=this.Editor,D=N.CrossBlockSelection,A=N.BlockSelection,P=b.default.anchorElement;D.isCrossBlockSelectionStarted&&A.anyBlockSelected&&b.default.get().removeAllRanges(),P&&P.closest(".".concat(k.default.CSS.content))?(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(P),this.Editor.InlineToolbar.tryToShow(!0)):this.Editor.InlineToolbar.containsNode(P)||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var R=w.default.make("div");R.hidden=!0,R.style.display="none",R.innerHTML=v.default,w.default.append(this.nodes.wrapper,R)}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var R=this.nodes.wrapper.querySelector(".".concat(k.default.CSS.content));return R?(this.contentRectCache=R.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var R=this.Editor,N=R.Toolbox,D=R.BlockSettings,A=R.InlineToolbar,P=R.ConversionToolbar;return D.opened||A.opened||P.opened||N.opened}},{key:"someFlipperButtonFocused",get:function(){return Object.entries(this.Editor).filter(function(R){var N=(0,i.default)(R,2);return N[0],N[1].flipper instanceof M.default}).some(function(R){var N=(0,i.default)(R,2);return N[0],N[1].flipper.currentItem})}}]),B}(y.default);n.default=T,T.displayName="UI",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){e(184),l.exports=e(356)},function(l,a,e){e(185)},function(l,a,e){"use strict";e(186),e(329),e(331),e(334),e(336),e(338),e(340),e(342),e(344),e(346),e(348),e(350),e(352),e(140)},function(l,a,e){e(187),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(233),e(234),e(235),e(236),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(268),e(269),e(271),e(272),e(273),e(274),e(275),e(276),e(277),e(279),e(280),e(281),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(102),e(292),e(129),e(293),e(130),e(294),e(295),e(296),e(297),e(131),e(300),e(301),e(302),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),l.exports=e(17)},function(l,a,e){"use strict";var t=e(10),o=e(26),r=e(18),n=e(0),i=e(23),s=e(41).KEY,u=e(11),c=e(67),p=e(53),d=e(44),h=e(14),g=e(83),f=e(110),v=e(189),y=e(70),w=e(12),_=e(13),b=e(20),k=e(28),M=e(40),S=e(43),I=e(48),m=e(113),T=e(34),E=e(69),O=e(19),x=e(46),C=T.f,B=O.f,R=m.f,N=t.Symbol,D=t.JSON,A=D&&D.stringify,P=h("_hidden"),j=h("toPrimitive"),F={}.propertyIsEnumerable,L=c("symbol-registry"),U=c("symbols"),z=c("op-symbols"),H=Object.prototype,X=typeof N=="function"&&!!E.f,K=t.QObject,ee=!K||!K.prototype||!K.prototype.findChild,J=r&&u(function(){return I(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a!=7})?function(Y,Z,ae){var ye=C(H,Z);ye&&delete H[Z],B(Y,Z,ae),ye&&Y!==H&&B(H,Z,ye)}:B,Q=function(Y){var Z=U[Y]=I(N.prototype);return Z._k=Y,Z},ue=X&&typeof N.iterator=="symbol"?function(Y){return typeof Y=="symbol"}:function(Y){return Y instanceof N},W=function(Y,Z,ae){return Y===H&&W(z,Z,ae),w(Y),Z=M(Z,!0),w(ae),o(U,Z)?(ae.enumerable?(o(Y,P)&&Y[P][Z]&&(Y[P][Z]=!1),ae=I(ae,{enumerable:S(0,!1)})):(o(Y,P)||B(Y,P,S(1,{})),Y[P][Z]=!0),J(Y,Z,ae)):B(Y,Z,ae)},G=function(Y,Z){w(Y);for(var ae,ye=v(Z=k(Z)),ke=0,Ee=ye.length;Ee>ke;)W(Y,ae=ye[ke++],Z[ae]);return Y},ie=function(Y){var Z=F.call(this,Y=M(Y,!0));return!(this===H&&o(U,Y)&&!o(z,Y))&&(!(Z||!o(this,Y)||!o(U,Y)||o(this,P)&&this[P][Y])||Z)},te=function(Y,Z){if(Y=k(Y),Z=M(Z,!0),Y!==H||!o(U,Z)||o(z,Z)){var ae=C(Y,Z);return!ae||!o(U,Z)||o(Y,P)&&Y[P][Z]||(ae.enumerable=!0),ae}},re=function(Y){for(var Z,ae=R(k(Y)),ye=[],ke=0;ae.length>ke;)o(U,Z=ae[ke++])||Z==P||Z==s||ye.push(Z);return ye},fe=function(Y){for(var Z,ae=Y===H,ye=R(ae?z:k(Y)),ke=[],Ee=0;ye.length>Ee;)!o(U,Z=ye[Ee++])||ae&&!o(H,Z)||ke.push(U[Z]);return ke};X||(i((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var Y=d(arguments.length>0?arguments[0]:void 0),Z=function(ae){this===H&&Z.call(z,ae),o(this,P)&&o(this[P],Y)&&(this[P][Y]=!1),J(this,Y,S(1,ae))};return r&&ee&&J(H,Y,{configurable:!0,set:Z}),Q(Y)}).prototype,"toString",function(){return this._k}),T.f=te,O.f=W,e(49).f=m.f=re,e(63).f=ie,E.f=fe,r&&!e(45)&&i(H,"propertyIsEnumerable",ie,!0),g.f=function(Y){return Q(h(Y))}),n(n.G+n.W+n.F*!X,{Symbol:N});for(var ve="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),le=0;ve.length>le;)h(ve[le++]);for(var be=x(h.store),ge=0;be.length>ge;)f(be[ge++]);n(n.S+n.F*!X,"Symbol",{for:function(Y){return o(L,Y+="")?L[Y]:L[Y]=N(Y)},keyFor:function(Y){if(!ue(Y))throw TypeError(Y+" is not a symbol!");for(var Z in L)if(L[Z]===Y)return Z},useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),n(n.S+n.F*!X,"Object",{create:function(Y,Z){return Z===void 0?I(Y):G(I(Y),Z)},defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:te,getOwnPropertyNames:re,getOwnPropertySymbols:fe});var pe=u(function(){E.f(1)});n(n.S+n.F*pe,"Object",{getOwnPropertySymbols:function(Y){return E.f(b(Y))}}),D&&n(n.S+n.F*(!X||u(function(){var Y=N();return A([Y])!="[null]"||A({a:Y})!="{}"||A(Object(Y))!="{}"})),"JSON",{stringify:function(Y){for(var Z,ae,ye=[Y],ke=1;arguments.length>ke;)ye.push(arguments[ke++]);if(ae=Z=ye[1],(_(Z)||Y!==void 0)&&!ue(Y))return y(Z)||(Z=function(Ee,Te){if(typeof ae=="function"&&(Te=ae.call(this,Ee,Te)),!ue(Te))return Te}),ye[1]=Z,A.apply(D,ye)}}),N.prototype[j]||e(27)(N.prototype,j,N.prototype.valueOf),p(N,"Symbol"),p(Math,"Math",!0),p(t.JSON,"JSON",!0)},function(l,a,e){l.exports=e(67)("native-function-to-string",Function.toString)},function(l,a,e){var t=e(46),o=e(69),r=e(63);l.exports=function(n){var i=t(n),s=o.f;if(s)for(var u,c=s(n),p=r.f,d=0;c.length>d;)p.call(n,u=c[d++])&&i.push(u);return i}},function(l,a,e){var t=e(0);t(t.S,"Object",{create:e(48)})},function(l,a,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperty:e(19).f})},function(l,a,e){var t=e(0);t(t.S+t.F*!e(18),"Object",{defineProperties:e(112)})},function(l,a,e){var t=e(28),o=e(34).f;e(35)("getOwnPropertyDescriptor",function(){return function(r,n){return o(t(r),n)}})},function(l,a,e){var t=e(20),o=e(50);e(35)("getPrototypeOf",function(){return function(r){return o(t(r))}})},function(l,a,e){var t=e(20),o=e(46);e(35)("keys",function(){return function(r){return o(t(r))}})},function(l,a,e){e(35)("getOwnPropertyNames",function(){return e(113).f})},function(l,a,e){var t=e(13),o=e(41).onFreeze;e(35)("freeze",function(r){return function(n){return r&&t(n)?r(o(n)):n}})},function(l,a,e){var t=e(13),o=e(41).onFreeze;e(35)("seal",function(r){return function(n){return r&&t(n)?r(o(n)):n}})},function(l,a,e){var t=e(13),o=e(41).onFreeze;e(35)("preventExtensions",function(r){return function(n){return r&&t(n)?r(o(n)):n}})},function(l,a,e){var t=e(13);e(35)("isFrozen",function(o){return function(r){return!t(r)||!!o&&o(r)}})},function(l,a,e){var t=e(13);e(35)("isSealed",function(o){return function(r){return!t(r)||!!o&&o(r)}})},function(l,a,e){var t=e(13);e(35)("isExtensible",function(o){return function(r){return!!t(r)&&(!o||o(r))}})},function(l,a,e){var t=e(0);t(t.S+t.F,"Object",{assign:e(114)})},function(l,a,e){var t=e(0);t(t.S,"Object",{is:e(115)})},function(l,a,e){var t=e(0);t(t.S,"Object",{setPrototypeOf:e(87).set})},function(l,a,e){"use strict";var t=e(64),o={};o[e(14)("toStringTag")]="z",o+""!="[object z]"&&e(23)(Object.prototype,"toString",function(){return"[object "+t(this)+"]"},!0)},function(l,a,e){var t=e(0);t(t.P,"Function",{bind:e(116)})},function(l,a,e){var t=e(19).f,o=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in o||e(18)&&t(o,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(n){return""}}})},function(l,a,e){"use strict";var t=e(13),o=e(50),r=e(14)("hasInstance"),n=Function.prototype;r in n||e(19).f(n,r,{value:function(i){if(typeof this!="function"||!t(i))return!1;if(!t(this.prototype))return i instanceof this;for(;i=o(i);)if(this.prototype===i)return!0;return!1}})},function(l,a,e){var t=e(0),o=e(118);t(t.G+t.F*(parseInt!=o),{parseInt:o})},function(l,a,e){var t=e(0),o=e(119);t(t.G+t.F*(parseFloat!=o),{parseFloat:o})},function(l,a,e){"use strict";var t=e(10),o=e(26),r=e(37),n=e(89),i=e(40),s=e(11),u=e(49).f,c=e(34).f,p=e(19).f,d=e(54).trim,h=t.Number,g=h,f=h.prototype,v=r(e(48)(f))=="Number",y="trim"in String.prototype,w=function(M){var S=i(M,!1);if(typeof S=="string"&&S.length>2){var I,m,T,E=(S=y?S.trim():d(S,3)).charCodeAt(0);if(E===43||E===45){if((I=S.charCodeAt(2))===88||I===120)return NaN}else if(E===48){switch(S.charCodeAt(1)){case 66:case 98:m=2,T=49;break;case 79:case 111:m=8,T=55;break;default:return+S}for(var O,x=S.slice(2),C=0,B=x.length;C<B;C++)if((O=x.charCodeAt(C))<48||O>T)return NaN;return parseInt(x,m)}}return+S};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(M){var S=arguments.length<1?0:M,I=this;return I instanceof h&&(v?s(function(){f.valueOf.call(I)}):r(I)!="Number")?n(new g(w(S)),I,h):w(S)};for(var _,b=e(18)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;b.length>k;k++)o(g,_=b[k])&&!o(h,_)&&p(h,_,c(g,_));h.prototype=f,f.constructor=h,e(23)(t,"Number",h)}},function(l,a,e){"use strict";var t=e(0),o=e(33),r=e(120),n=e(90),i=1 .toFixed,s=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",p=function(f,v){for(var y=-1,w=v;++y<6;)w+=f*u[y],u[y]=w%1e7,w=s(w/1e7)},d=function(f){for(var v=6,y=0;--v>=0;)y+=u[v],u[v]=s(y/f),y=y%f*1e7},h=function(){for(var f=6,v="";--f>=0;)if(v!==""||f===0||u[f]!==0){var y=String(u[f]);v=v===""?y:v+n.call("0",7-y.length)+y}return v},g=function(f,v,y){return v===0?y:v%2==1?g(f,v-1,y*f):g(f*f,v/2,y)};t(t.P+t.F*(!!i&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||1000000000000000100 .toFixed(0)!=="1000000000000000128")||!e(11)(function(){i.call({})})),"Number",{toFixed:function(f){var v,y,w,_,b=r(this,c),k=o(f),M="",S="0";if(k<0||k>20)throw RangeError(c);if(b!=b)return"NaN";if(b<=-1e21||b>=1e21)return String(b);if(b<0&&(M="-",b=-b),b>1e-21)if(y=(v=function(I){for(var m=0,T=I;T>=4096;)m+=12,T/=4096;for(;T>=2;)m+=1,T/=2;return m}(b*g(2,69,1))-69)<0?b*g(2,-v,1):b/g(2,v,1),y*=4503599627370496,(v=52-v)>0){for(p(0,y),w=k;w>=7;)p(1e7,0),w-=7;for(p(g(10,w,1),0),w=v-1;w>=23;)d(1<<23),w-=23;d(1<<w),p(1,1),d(2),S=h()}else p(0,y),p(1<<-v,0),S=h()+n.call("0",k);return S=k>0?M+((_=S.length)<=k?"0."+n.call("0",k-_)+S:S.slice(0,_-k)+"."+S.slice(_-k)):M+S}})},function(l,a,e){"use strict";var t=e(0),o=e(11),r=e(120),n=1 .toPrecision;t(t.P+t.F*(o(function(){return n.call(1,void 0)!=="1"})||!o(function(){n.call({})})),"Number",{toPrecision:function(i){var s=r(this,"Number#toPrecision: incorrect invocation!");return i===void 0?n.call(s):n.call(s,i)}})},function(l,a,e){var t=e(0);t(t.S,"Number",{EPSILON:Math.pow(2,-52)})},function(l,a,e){var t=e(0),o=e(10).isFinite;t(t.S,"Number",{isFinite:function(r){return typeof r=="number"&&o(r)}})},function(l,a,e){var t=e(0);t(t.S,"Number",{isInteger:e(121)})},function(l,a,e){var t=e(0);t(t.S,"Number",{isNaN:function(o){return o!=o}})},function(l,a,e){var t=e(0),o=e(121),r=Math.abs;t(t.S,"Number",{isSafeInteger:function(n){return o(n)&&r(n)<=9007199254740991}})},function(l,a,e){var t=e(0);t(t.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(l,a,e){var t=e(0);t(t.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(l,a,e){var t=e(0),o=e(119);t(t.S+t.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(l,a,e){var t=e(0),o=e(118);t(t.S+t.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(l,a,e){var t=e(0),o=e(122),r=Math.sqrt,n=Math.acosh;t(t.S+t.F*!(n&&Math.floor(n(Number.MAX_VALUE))==710&&n(1/0)==1/0),"Math",{acosh:function(i){return(i=+i)<1?NaN:i>9490626562425156e-8?Math.log(i)+Math.LN2:o(i-1+r(i-1)*r(i+1))}})},function(l,a,e){var t=e(0),o=Math.asinh;t(t.S+t.F*!(o&&1/o(0)>0),"Math",{asinh:function r(n){return isFinite(n=+n)&&n!=0?n<0?-r(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(l,a,e){var t=e(0),o=Math.atanh;t(t.S+t.F*!(o&&1/o(-0)<0),"Math",{atanh:function(r){return(r=+r)==0?r:Math.log((1+r)/(1-r))/2}})},function(l,a,e){var t=e(0),o=e(91);t(t.S,"Math",{cbrt:function(r){return o(r=+r)*Math.pow(Math.abs(r),1/3)}})},function(l,a,e){var t=e(0);t(t.S,"Math",{clz32:function(o){return(o>>>=0)?31-Math.floor(Math.log(o+.5)*Math.LOG2E):32}})},function(l,a,e){var t=e(0),o=Math.exp;t(t.S,"Math",{cosh:function(r){return(o(r=+r)+o(-r))/2}})},function(l,a,e){var t=e(0),o=e(92);t(t.S+t.F*(o!=Math.expm1),"Math",{expm1:o})},function(l,a,e){var t=e(0);t(t.S,"Math",{fround:e(232)})},function(l,a,e){var t=e(91),o=Math.pow,r=o(2,-52),n=o(2,-23),i=o(2,127)*(2-n),s=o(2,-126);l.exports=Math.fround||function(u){var c,p,d=Math.abs(u),h=t(u);return d<s?h*(d/s/n+1/r-1/r)*s*n:(p=(c=(1+n/r)*d)-(c-d))>i||p!=p?h*(1/0):h*p}},function(l,a,e){var t=e(0),o=Math.abs;t(t.S,"Math",{hypot:function(r,n){for(var i,s,u=0,c=0,p=arguments.length,d=0;c<p;)d<(i=o(arguments[c++]))?(u=u*(s=d/i)*s+1,d=i):u+=i>0?(s=i/d)*s:i;return d===1/0?1/0:d*Math.sqrt(u)}})},function(l,a,e){var t=e(0),o=Math.imul;t(t.S+t.F*e(11)(function(){return o(4294967295,5)!=-5||o.length!=2}),"Math",{imul:function(r,n){var i=+r,s=+n,u=65535&i,c=65535&s;return 0|u*c+((65535&i>>>16)*c+u*(65535&s>>>16)<<16>>>0)}})},function(l,a,e){var t=e(0);t(t.S,"Math",{log10:function(o){return Math.log(o)*Math.LOG10E}})},function(l,a,e){var t=e(0);t(t.S,"Math",{log1p:e(122)})},function(l,a,e){var t=e(0);t(t.S,"Math",{log2:function(o){return Math.log(o)/Math.LN2}})},function(l,a,e){var t=e(0);t(t.S,"Math",{sign:e(91)})},function(l,a,e){var t=e(0),o=e(92),r=Math.exp;t(t.S+t.F*e(11)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(n){return Math.abs(n=+n)<1?(o(n)-o(-n))/2:(r(n-1)-r(-n-1))*(Math.E/2)}})},function(l,a,e){var t=e(0),o=e(92),r=Math.exp;t(t.S,"Math",{tanh:function(n){var i=o(n=+n),s=o(-n);return i==1/0?1:s==1/0?-1:(i-s)/(r(n)+r(-n))}})},function(l,a,e){var t=e(0);t(t.S,"Math",{trunc:function(o){return(o>0?Math.floor:Math.ceil)(o)}})},function(l,a,e){var t=e(0),o=e(47),r=String.fromCharCode,n=String.fromCodePoint;t(t.S+t.F*(!!n&&n.length!=1),"String",{fromCodePoint:function(i){for(var s,u=[],c=arguments.length,p=0;c>p;){if(s=+arguments[p++],o(s,1114111)!==s)throw RangeError(s+" is not a valid code point");u.push(s<65536?r(s):r(55296+((s-=65536)>>10),s%1024+56320))}return u.join("")}})},function(l,a,e){var t=e(0),o=e(28),r=e(16);t(t.S,"String",{raw:function(n){for(var i=o(n.raw),s=r(i.length),u=arguments.length,c=[],p=0;s>p;)c.push(String(i[p++])),p<u&&c.push(String(arguments[p]));return c.join("")}})},function(l,a,e){"use strict";e(54)("trim",function(t){return function(){return t(this,3)}})},function(l,a,e){"use strict";var t=e(93)(!0);e(94)(String,"String",function(o){this._t=String(o),this._i=0},function(){var o,r=this._t,n=this._i;return n>=r.length?{value:void 0,done:!0}:(o=t(r,n),this._i+=o.length,{value:o,done:!1})})},function(l,a,e){"use strict";var t=e(0),o=e(93)(!1);t(t.P,"String",{codePointAt:function(r){return o(this,r)}})},function(l,a,e){"use strict";var t=e(0),o=e(16),r=e(95),n="".endsWith;t(t.P+t.F*e(97)("endsWith"),"String",{endsWith:function(i){var s=r(this,i,"endsWith"),u=arguments.length>1?arguments[1]:void 0,c=o(s.length),p=u===void 0?c:Math.min(o(u),c),d=String(i);return n?n.call(s,d,p):s.slice(p-d.length,p)===d}})},function(l,a,e){"use strict";var t=e(0),o=e(95);t(t.P+t.F*e(97)("includes"),"String",{includes:function(r){return!!~o(this,r,"includes").indexOf(r,arguments.length>1?arguments[1]:void 0)}})},function(l,a,e){var t=e(0);t(t.P,"String",{repeat:e(90)})},function(l,a,e){"use strict";var t=e(0),o=e(16),r=e(95),n="".startsWith;t(t.P+t.F*e(97)("startsWith"),"String",{startsWith:function(i){var s=r(this,i,"startsWith"),u=o(Math.min(arguments.length>1?arguments[1]:void 0,s.length)),c=String(i);return n?n.call(s,c,u):s.slice(u,u+c.length)===c}})},function(l,a,e){"use strict";e(24)("anchor",function(t){return function(o){return t(this,"a","name",o)}})},function(l,a,e){"use strict";e(24)("big",function(t){return function(){return t(this,"big","","")}})},function(l,a,e){"use strict";e(24)("blink",function(t){return function(){return t(this,"blink","","")}})},function(l,a,e){"use strict";e(24)("bold",function(t){return function(){return t(this,"b","","")}})},function(l,a,e){"use strict";e(24)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(l,a,e){"use strict";e(24)("fontcolor",function(t){return function(o){return t(this,"font","color",o)}})},function(l,a,e){"use strict";e(24)("fontsize",function(t){return function(o){return t(this,"font","size",o)}})},function(l,a,e){"use strict";e(24)("italics",function(t){return function(){return t(this,"i","","")}})},function(l,a,e){"use strict";e(24)("link",function(t){return function(o){return t(this,"a","href",o)}})},function(l,a,e){"use strict";e(24)("small",function(t){return function(){return t(this,"small","","")}})},function(l,a,e){"use strict";e(24)("strike",function(t){return function(){return t(this,"strike","","")}})},function(l,a,e){"use strict";e(24)("sub",function(t){return function(){return t(this,"sub","","")}})},function(l,a,e){"use strict";e(24)("sup",function(t){return function(){return t(this,"sup","","")}})},function(l,a,e){var t=e(0);t(t.S,"Date",{now:function(){return new Date().getTime()}})},function(l,a,e){"use strict";var t=e(0),o=e(20),r=e(40);t(t.P+t.F*e(11)(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(n){var i=o(this),s=r(i);return typeof s!="number"||isFinite(s)?i.toISOString():null}})},function(l,a,e){var t=e(0),o=e(267);t(t.P+t.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(l,a,e){"use strict";var t=e(11),o=Date.prototype.getTime,r=Date.prototype.toISOString,n=function(i){return i>9?i:"0"+i};l.exports=t(function(){return r.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!t(function(){r.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var i=this,s=i.getUTCFullYear(),u=i.getUTCMilliseconds(),c=s<0?"-":s>9999?"+":"";return c+("00000"+Math.abs(s)).slice(c?-6:-4)+"-"+n(i.getUTCMonth()+1)+"-"+n(i.getUTCDate())+"T"+n(i.getUTCHours())+":"+n(i.getUTCMinutes())+":"+n(i.getUTCSeconds())+"."+(u>99?u:"0"+n(u))+"Z"}:r},function(l,a,e){var t=Date.prototype,o=t.toString,r=t.getTime;new Date(NaN)+""!="Invalid Date"&&e(23)(t,"toString",function(){var n=r.call(this);return n==n?o.call(this):"Invalid Date"})},function(l,a,e){var t=e(14)("toPrimitive"),o=Date.prototype;t in o||e(27)(o,t,e(270))},function(l,a,e){"use strict";var t=e(12),o=e(40);l.exports=function(r){if(r!=="string"&&r!=="number"&&r!=="default")throw TypeError("Incorrect hint");return o(t(this),r!="number")}},function(l,a,e){var t=e(0);t(t.S,"Array",{isArray:e(70)})},function(l,a,e){"use strict";var t=e(31),o=e(0),r=e(20),n=e(124),i=e(98),s=e(16),u=e(99),c=e(100);o(o.S+o.F*!e(71)(function(p){Array.from(p)}),"Array",{from:function(p){var d,h,g,f,v=r(p),y=typeof this=="function"?this:Array,w=arguments.length,_=w>1?arguments[1]:void 0,b=_!==void 0,k=0,M=c(v);if(b&&(_=t(_,w>2?arguments[2]:void 0,2)),M==null||y==Array&&i(M))for(h=new y(d=s(v.length));d>k;k++)u(h,k,b?_(v[k],k):v[k]);else for(f=M.call(v),h=new y;!(g=f.next()).done;k++)u(h,k,b?n(f,_,[g.value,k],!0):g.value);return h.length=k,h}})},function(l,a,e){"use strict";var t=e(0),o=e(99);t(t.S+t.F*e(11)(function(){function r(){}return!(Array.of.call(r)instanceof r)}),"Array",{of:function(){for(var r=0,n=arguments.length,i=new(typeof this=="function"?this:Array)(n);n>r;)o(i,r,arguments[r++]);return i.length=n,i}})},function(l,a,e){"use strict";var t=e(0),o=e(28),r=[].join;t(t.P+t.F*(e(62)!=Object||!e(30)(r)),"Array",{join:function(n){return r.call(o(this),n===void 0?",":n)}})},function(l,a,e){"use strict";var t=e(0),o=e(86),r=e(37),n=e(47),i=e(16),s=[].slice;t(t.P+t.F*e(11)(function(){o&&s.call(o)}),"Array",{slice:function(u,c){var p=i(this.length),d=r(this);if(c=c===void 0?p:c,d=="Array")return s.call(this,u,c);for(var h=n(u,p),g=n(c,p),f=i(g-h),v=new Array(f),y=0;y<f;y++)v[y]=d=="String"?this.charAt(h+y):this[h+y];return v}})},function(l,a,e){"use strict";var t=e(0),o=e(32),r=e(20),n=e(11),i=[].sort,s=[1,2,3];t(t.P+t.F*(n(function(){s.sort(void 0)})||!n(function(){s.sort(null)})||!e(30)(i)),"Array",{sort:function(u){return u===void 0?i.call(r(this)):i.call(r(this),o(u))}})},function(l,a,e){"use strict";var t=e(0),o=e(36)(0),r=e(30)([].forEach,!0);t(t.P+t.F*!r,"Array",{forEach:function(n){return o(this,n,arguments[1])}})},function(l,a,e){var t=e(13),o=e(70),r=e(14)("species");l.exports=function(n){var i;return o(n)&&(typeof(i=n.constructor)!="function"||i!==Array&&!o(i.prototype)||(i=void 0),t(i)&&(i=i[r])===null&&(i=void 0)),i===void 0?Array:i}},function(l,a,e){"use strict";var t=e(0),o=e(36)(1);t(t.P+t.F*!e(30)([].map,!0),"Array",{map:function(r){return o(this,r,arguments[1])}})},function(l,a,e){"use strict";var t=e(0),o=e(36)(2);t(t.P+t.F*!e(30)([].filter,!0),"Array",{filter:function(r){return o(this,r,arguments[1])}})},function(l,a,e){"use strict";var t=e(0),o=e(36)(3);t(t.P+t.F*!e(30)([].some,!0),"Array",{some:function(r){return o(this,r,arguments[1])}})},function(l,a,e){"use strict";var t=e(0),o=e(36)(4);t(t.P+t.F*!e(30)([].every,!0),"Array",{every:function(r){return o(this,r,arguments[1])}})},function(l,a,e){"use strict";var t=e(0),o=e(126);t(t.P+t.F*!e(30)([].reduce,!0),"Array",{reduce:function(r){return o(this,r,arguments.length,arguments[1],!1)}})},function(l,a,e){"use strict";var t=e(0),o=e(126);t(t.P+t.F*!e(30)([].reduceRight,!0),"Array",{reduceRight:function(r){return o(this,r,arguments.length,arguments[1],!0)}})},function(l,a,e){"use strict";var t=e(0),o=e(68)(!1),r=[].indexOf,n=!!r&&1/[1].indexOf(1,-0)<0;t(t.P+t.F*(n||!e(30)(r)),"Array",{indexOf:function(i){return n?r.apply(this,arguments)||0:o(this,i,arguments[1])}})},function(l,a,e){"use strict";var t=e(0),o=e(28),r=e(33),n=e(16),i=[].lastIndexOf,s=!!i&&1/[1].lastIndexOf(1,-0)<0;t(t.P+t.F*(s||!e(30)(i)),"Array",{lastIndexOf:function(u){if(s)return i.apply(this,arguments)||0;var c=o(this),p=n(c.length),d=p-1;for(arguments.length>1&&(d=Math.min(d,r(arguments[1]))),d<0&&(d=p+d);d>=0;d--)if(d in c&&c[d]===u)return d||0;return-1}})},function(l,a,e){var t=e(0);t(t.P,"Array",{copyWithin:e(127)}),e(51)("copyWithin")},function(l,a,e){var t=e(0);t(t.P,"Array",{fill:e(101)}),e(51)("fill")},function(l,a,e){"use strict";var t=e(0),o=e(36)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),t(t.P+t.F*r,"Array",{find:function(n){return o(this,n,arguments.length>1?arguments[1]:void 0)}}),e(51)("find")},function(l,a,e){"use strict";var t=e(0),o=e(36)(6),r="findIndex",n=!0;r in[]&&Array(1)[r](function(){n=!1}),t(t.P+t.F*n,"Array",{findIndex:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0)}}),e(51)(r)},function(l,a,e){e(56)("Array")},function(l,a,e){var t=e(10),o=e(89),r=e(19).f,n=e(49).f,i=e(96),s=e(72),u=t.RegExp,c=u,p=u.prototype,d=/a/g,h=/a/g,g=new u(d)!==d;if(e(18)&&(!g||e(11)(function(){return h[e(14)("match")]=!1,u(d)!=d||u(h)==h||u(d,"i")!="/a/i"}))){u=function(w,_){var b=this instanceof u,k=i(w),M=_===void 0;return!b&&k&&w.constructor===u&&M?w:o(g?new c(k&&!M?w.source:w,_):c((k=w instanceof u)?w.source:w,k&&M?s.call(w):_),b?this:p,u)};for(var f=function(w){w in u||r(u,w,{configurable:!0,get:function(){return c[w]},set:function(_){c[w]=_}})},v=n(c),y=0;v.length>y;)f(v[y++]);p.constructor=u,u.prototype=p,e(23)(t,"RegExp",u)}e(56)("RegExp")},function(l,a,e){"use strict";e(130);var t=e(12),o=e(72),r=e(18),n=/./.toString,i=function(s){e(23)(RegExp.prototype,"toString",s,!0)};e(11)(function(){return n.call({source:"a",flags:"b"})!="/a/b"})?i(function(){var s=t(this);return"/".concat(s.source,"/","flags"in s?s.flags:!r&&s instanceof RegExp?o.call(s):void 0)}):n.name!="toString"&&i(function(){return n.call(this)})},function(l,a,e){"use strict";var t=e(12),o=e(16),r=e(104),n=e(73);e(74)("match",1,function(i,s,u,c){return[function(p){var d=i(this),h=p==null?void 0:p[s];return h!==void 0?h.call(p,d):new RegExp(p)[s](String(d))},function(p){var d=c(u,p,this);if(d.done)return d.value;var h=t(p),g=String(this);if(!h.global)return n(h,g);var f=h.unicode;h.lastIndex=0;for(var v,y=[],w=0;(v=n(h,g))!==null;){var _=String(v[0]);y[w]=_,_===""&&(h.lastIndex=r(g,o(h.lastIndex),f)),w++}return w===0?null:y}]})},function(l,a,e){"use strict";var t=e(12),o=e(20),r=e(16),n=e(33),i=e(104),s=e(73),u=Math.max,c=Math.min,p=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;e(74)("replace",2,function(g,f,v,y){return[function(_,b){var k=g(this),M=_==null?void 0:_[f];return M!==void 0?M.call(_,k,b):v.call(String(k),_,b)},function(_,b){var k=y(v,_,this,b);if(k.done)return k.value;var M=t(_),S=String(this),I=typeof b=="function";I||(b=String(b));var m=M.global;if(m){var T=M.unicode;M.lastIndex=0}for(var E=[];;){var O=s(M,S);if(O===null||(E.push(O),!m))break;String(O[0])===""&&(M.lastIndex=i(S,r(M.lastIndex),T))}for(var x,C="",B=0,R=0;R<E.length;R++){O=E[R];for(var N=String(O[0]),D=u(c(n(O.index),S.length),0),A=[],P=1;P<O.length;P++)A.push((x=O[P])===void 0?x:String(x));var j=O.groups;if(I){var F=[N].concat(A,D,S);j!==void 0&&F.push(j);var L=String(b.apply(void 0,F))}else L=w(N,S,D,A,j,b);D>=B&&(C+=S.slice(B,D)+L,B=D+N.length)}return C+S.slice(B)}];function w(_,b,k,M,S,I){var m=k+_.length,T=M.length,E=h;return S!==void 0&&(S=o(S),E=d),v.call(I,E,function(O,x){var C;switch(x.charAt(0)){case"$":return"$";case"&":return _;case"`":return b.slice(0,k);case"'":return b.slice(m);case"<":C=S[x.slice(1,-1)];break;default:var B=+x;if(B===0)return O;if(B>T){var R=p(B/10);return R===0?O:R<=T?M[R-1]===void 0?x.charAt(1):M[R-1]+x.charAt(1):O}C=M[B-1]}return C===void 0?"":C})}})},function(l,a,e){"use strict";var t=e(12),o=e(115),r=e(73);e(74)("search",1,function(n,i,s,u){return[function(c){var p=n(this),d=c==null?void 0:c[i];return d!==void 0?d.call(c,p):new RegExp(c)[i](String(p))},function(c){var p=u(s,c,this);if(p.done)return p.value;var d=t(c),h=String(this),g=d.lastIndex;o(g,0)||(d.lastIndex=0);var f=r(d,h);return o(d.lastIndex,g)||(d.lastIndex=g),f===null?-1:f.index}]})},function(l,a,e){"use strict";var t=e(96),o=e(12),r=e(65),n=e(104),i=e(16),s=e(73),u=e(103),c=e(11),p=Math.min,d=[].push,h="length",g=!c(function(){RegExp(4294967295,"y")});e(74)("split",2,function(f,v,y,w){var _;return _="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1)[h]!=4||"ab".split(/(?:ab)*/)[h]!=2||".".split(/(.?)(.?)/)[h]!=4||".".split(/()()/)[h]>1||"".split(/.?/)[h]?function(b,k){var M=String(this);if(b===void 0&&k===0)return[];if(!t(b))return y.call(M,b,k);for(var S,I,m,T=[],E=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.unicode?"u":"")+(b.sticky?"y":""),O=0,x=k===void 0?4294967295:k>>>0,C=new RegExp(b.source,E+"g");(S=u.call(C,M))&&!((I=C.lastIndex)>O&&(T.push(M.slice(O,S.index)),S[h]>1&&S.index<M[h]&&d.apply(T,S.slice(1)),m=S[0][h],O=I,T[h]>=x));)C.lastIndex===S.index&&C.lastIndex++;return O===M[h]?!m&&C.test("")||T.push(""):T.push(M.slice(O)),T[h]>x?T.slice(0,x):T}:"0".split(void 0,0)[h]?function(b,k){return b===void 0&&k===0?[]:y.call(this,b,k)}:y,[function(b,k){var M=f(this),S=b==null?void 0:b[v];return S!==void 0?S.call(b,M,k):_.call(String(M),b,k)},function(b,k){var M=w(_,b,this,k,_!==y);if(M.done)return M.value;var S=o(b),I=String(this),m=r(S,RegExp),T=S.unicode,E=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(g?"y":"g"),O=new m(g?S:"^(?:"+S.source+")",E),x=k===void 0?4294967295:k>>>0;if(x===0)return[];if(I.length===0)return s(O,I)===null?[I]:[];for(var C=0,B=0,R=[];B<I.length;){O.lastIndex=g?B:0;var N,D=s(O,g?I:I.slice(B));if(D===null||(N=p(i(O.lastIndex+(g?0:B)),I.length))===C)B=n(I,B,T);else{if(R.push(I.slice(C,B)),R.length===x)return R;for(var A=1;A<=D.length-1;A++)if(R.push(D[A]),R.length===x)return R;B=C=N}}return R.push(I.slice(C)),R}]})},function(l,a,e){var t=e(10),o=e(105).set,r=t.MutationObserver||t.WebKitMutationObserver,n=t.process,i=t.Promise,s=e(37)(n)=="process";l.exports=function(){var u,c,p,d=function(){var v,y;for(s&&(v=n.domain)&&v.exit();u;){y=u.fn,u=u.next;try{y()}catch(w){throw u?p():c=void 0,w}}c=void 0,v&&v.enter()};if(s)p=function(){n.nextTick(d)};else if(!r||t.navigator&&t.navigator.standalone)if(i&&i.resolve){var h=i.resolve(void 0);p=function(){h.then(d)}}else p=function(){o.call(t,d)};else{var g=!0,f=document.createTextNode("");new r(d).observe(f,{characterData:!0}),p=function(){f.data=g=!g}}return function(v){var y={fn:v,next:void 0};c&&(c.next=y),u||(u=y,p()),c=y}}},function(l,a){l.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(l,a,e){"use strict";var t=e(134),o=e(52);l.exports=e(77)("Map",function(r){return function(){return r(this,arguments.length>0?arguments[0]:void 0)}},{get:function(r){var n=t.getEntry(o(this,"Map"),r);return n&&n.v},set:function(r,n){return t.def(o(this,"Map"),r===0?0:r,n)}},t,!0)},function(l,a,e){"use strict";var t=e(134),o=e(52);l.exports=e(77)("Set",function(r){return function(){return r(this,arguments.length>0?arguments[0]:void 0)}},{add:function(r){return t.def(o(this,"Set"),r=r===0?0:r,r)}},t)},function(l,a,e){"use strict";var t,o=e(10),r=e(36)(0),n=e(23),i=e(41),s=e(114),u=e(135),c=e(13),p=e(52),d=e(52),h=!o.ActiveXObject&&"ActiveXObject"in o,g=i.getWeak,f=Object.isExtensible,v=u.ufstore,y=function(b){return function(){return b(this,arguments.length>0?arguments[0]:void 0)}},w={get:function(b){if(c(b)){var k=g(b);return k===!0?v(p(this,"WeakMap")).get(b):k?k[this._i]:void 0}},set:function(b,k){return u.def(p(this,"WeakMap"),b,k)}},_=l.exports=e(77)("WeakMap",y,w,u,!0,!0);d&&h&&(s((t=u.getConstructor(y,"WeakMap")).prototype,w),i.NEED=!0,r(["delete","has","get","set"],function(b){var k=_.prototype,M=k[b];n(k,b,function(S,I){if(c(S)&&!f(S)){this._f||(this._f=new t);var m=this._f[b](S,I);return b=="set"?this:m}return M.call(this,S,I)})}))},function(l,a,e){"use strict";var t=e(135),o=e(52);e(77)("WeakSet",function(r){return function(){return r(this,arguments.length>0?arguments[0]:void 0)}},{add:function(r){return t.def(o(this,"WeakSet"),r,!0)}},t,!1,!0)},function(l,a,e){"use strict";var t=e(0),o=e(78),r=e(106),n=e(12),i=e(47),s=e(16),u=e(13),c=e(10).ArrayBuffer,p=e(65),d=r.ArrayBuffer,h=r.DataView,g=o.ABV&&c.isView,f=d.prototype.slice,v=o.VIEW;t(t.G+t.W+t.F*(c!==d),{ArrayBuffer:d}),t(t.S+t.F*!o.CONSTR,"ArrayBuffer",{isView:function(y){return g&&g(y)||u(y)&&v in y}}),t(t.P+t.U+t.F*e(11)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(y,w){if(f!==void 0&&w===void 0)return f.call(n(this),y);for(var _=n(this).byteLength,b=i(y,_),k=i(w===void 0?_:w,_),M=new(p(this,d))(s(k-b)),S=new h(this),I=new h(M),m=0;b<k;)I.setUint8(m++,S.getUint8(b++));return M}}),e(56)("ArrayBuffer")},function(l,a,e){var t=e(0);t(t.G+t.W+t.F*!e(78).ABV,{DataView:e(106).DataView})},function(l,a,e){e(39)("Int8",1,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Uint8",1,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Uint8",1,function(t){return function(o,r,n){return t(this,o,r,n)}},!0)},function(l,a,e){e(39)("Int16",2,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Uint16",2,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Int32",4,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Uint32",4,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Float32",4,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){e(39)("Float64",8,function(t){return function(o,r,n){return t(this,o,r,n)}})},function(l,a,e){var t=e(0),o=e(32),r=e(12),n=(e(10).Reflect||{}).apply,i=Function.apply;t(t.S+t.F*!e(11)(function(){n(function(){})}),"Reflect",{apply:function(s,u,c){var p=o(s),d=r(c);return n?n(p,u,d):i.call(p,u,d)}})},function(l,a,e){var t=e(0),o=e(48),r=e(32),n=e(12),i=e(13),s=e(11),u=e(116),c=(e(10).Reflect||{}).construct,p=s(function(){function h(){}return!(c(function(){},[],h)instanceof h)}),d=!s(function(){c(function(){})});t(t.S+t.F*(p||d),"Reflect",{construct:function(h,g){r(h),n(g);var f=arguments.length<3?h:r(arguments[2]);if(d&&!p)return c(h,g,f);if(h==f){switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3])}var v=[null];return v.push.apply(v,g),new(u.apply(h,v))}var y=f.prototype,w=o(i(y)?y:Object.prototype),_=Function.apply.call(h,w,g);return i(_)?_:w}})},function(l,a,e){var t=e(19),o=e(0),r=e(12),n=e(40);o(o.S+o.F*e(11)(function(){Reflect.defineProperty(t.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(i,s,u){r(i),s=n(s,!0),r(u);try{return t.f(i,s,u),!0}catch(c){return!1}}})},function(l,a,e){var t=e(0),o=e(34).f,r=e(12);t(t.S,"Reflect",{deleteProperty:function(n,i){var s=o(r(n),i);return!(s&&!s.configurable)&&delete n[i]}})},function(l,a,e){"use strict";var t=e(0),o=e(12),r=function(n){this._t=o(n),this._i=0;var i,s=this._k=[];for(i in n)s.push(i)};e(123)(r,"Object",function(){var n,i=this._k;do if(this._i>=i.length)return{value:void 0,done:!0};while(!((n=i[this._i++])in this._t));return{value:n,done:!1}}),t(t.S,"Reflect",{enumerate:function(n){return new r(n)}})},function(l,a,e){var t=e(34),o=e(50),r=e(26),n=e(0),i=e(13),s=e(12);n(n.S,"Reflect",{get:function u(c,p){var d,h,g=arguments.length<3?c:arguments[2];return s(c)===g?c[p]:(d=t.f(c,p))?r(d,"value")?d.value:d.get!==void 0?d.get.call(g):void 0:i(h=o(c))?u(h,p,g):void 0}})},function(l,a,e){var t=e(34),o=e(0),r=e(12);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(n,i){return t.f(r(n),i)}})},function(l,a,e){var t=e(0),o=e(50),r=e(12);t(t.S,"Reflect",{getPrototypeOf:function(n){return o(r(n))}})},function(l,a,e){var t=e(0);t(t.S,"Reflect",{has:function(o,r){return r in o}})},function(l,a,e){var t=e(0),o=e(12),r=Object.isExtensible;t(t.S,"Reflect",{isExtensible:function(n){return o(n),!r||r(n)}})},function(l,a,e){var t=e(0);t(t.S,"Reflect",{ownKeys:e(137)})},function(l,a,e){var t=e(0),o=e(12),r=Object.preventExtensions;t(t.S,"Reflect",{preventExtensions:function(n){o(n);try{return r&&r(n),!0}catch(i){return!1}}})},function(l,a,e){var t=e(19),o=e(34),r=e(50),n=e(26),i=e(0),s=e(43),u=e(12),c=e(13);i(i.S,"Reflect",{set:function p(d,h,g){var f,v,y=arguments.length<4?d:arguments[3],w=o.f(u(d),h);if(!w){if(c(v=r(d)))return p(v,h,g,y);w=s(0)}if(n(w,"value")){if(w.writable===!1||!c(y))return!1;if(f=o.f(y,h)){if(f.get||f.set||f.writable===!1)return!1;f.value=g,t.f(y,h,f)}else t.f(y,h,s(0,g));return!0}return w.set!==void 0&&(w.set.call(y,g),!0)}})},function(l,a,e){var t=e(0),o=e(87);o&&t(t.S,"Reflect",{setPrototypeOf:function(r,n){o.check(r,n);try{return o.set(r,n),!0}catch(i){return!1}}})},function(l,a,e){e(330),l.exports=e(17).Array.includes},function(l,a,e){"use strict";var t=e(0),o=e(68)(!0);t(t.P,"Array",{includes:function(r){return o(this,r,arguments.length>1?arguments[1]:void 0)}}),e(51)("includes")},function(l,a,e){e(332),l.exports=e(17).Array.flatMap},function(l,a,e){"use strict";var t=e(0),o=e(333),r=e(20),n=e(16),i=e(32),s=e(125);t(t.P,"Array",{flatMap:function(u){var c,p,d=r(this);return i(u),c=n(d.length),p=s(d,0),o(p,d,d,c,0,1,u,arguments[1]),p}}),e(51)("flatMap")},function(l,a,e){"use strict";var t=e(70),o=e(13),r=e(16),n=e(31),i=e(14)("isConcatSpreadable");l.exports=function s(u,c,p,d,h,g,f,v){for(var y,w,_=h,b=0,k=!!f&&n(f,v,3);b<d;){if(b in p){if(y=k?k(p[b],b,c):p[b],w=!1,o(y)&&(w=(w=y[i])!==void 0?!!w:t(y)),w&&g>0)_=s(u,c,y,r(y.length),_,g-1)-1;else{if(_>=9007199254740991)throw TypeError();u[_]=y}_++}b++}return _}},function(l,a,e){e(335),l.exports=e(17).String.padStart},function(l,a,e){"use strict";var t=e(0),o=e(138),r=e(76),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);t(t.P+t.F*n,"String",{padStart:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0,!0)}})},function(l,a,e){e(337),l.exports=e(17).String.padEnd},function(l,a,e){"use strict";var t=e(0),o=e(138),r=e(76),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);t(t.P+t.F*n,"String",{padEnd:function(i){return o(this,i,arguments.length>1?arguments[1]:void 0,!1)}})},function(l,a,e){e(339),l.exports=e(17).String.trimLeft},function(l,a,e){"use strict";e(54)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(l,a,e){e(341),l.exports=e(17).String.trimRight},function(l,a,e){"use strict";e(54)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(l,a,e){e(343),l.exports=e(83).f("asyncIterator")},function(l,a,e){e(110)("asyncIterator")},function(l,a,e){e(345),l.exports=e(17).Object.getOwnPropertyDescriptors},function(l,a,e){var t=e(0),o=e(137),r=e(28),n=e(34),i=e(99);t(t.S,"Object",{getOwnPropertyDescriptors:function(s){for(var u,c,p=r(s),d=n.f,h=o(p),g={},f=0;h.length>f;)(c=d(p,u=h[f++]))!==void 0&&i(g,u,c);return g}})},function(l,a,e){e(347),l.exports=e(17).Object.values},function(l,a,e){var t=e(0),o=e(139)(!1);t(t.S,"Object",{values:function(r){return o(r)}})},function(l,a,e){e(349),l.exports=e(17).Object.entries},function(l,a,e){var t=e(0),o=e(139)(!0);t(t.S,"Object",{entries:function(r){return o(r)}})},function(l,a,e){"use strict";e(131),e(351),l.exports=e(17).Promise.finally},function(l,a,e){"use strict";var t=e(0),o=e(17),r=e(10),n=e(65),i=e(133);t(t.P+t.R,"Promise",{finally:function(s){var u=n(this,o.Promise||r.Promise),c=typeof s=="function";return this.then(c?function(p){return i(u,s()).then(function(){return p})}:s,c?function(p){return i(u,s()).then(function(){throw p})}:s)}})},function(l,a,e){e(353),e(354),e(355),l.exports=e(17)},function(l,a,e){var t=e(10),o=e(0),r=e(76),n=[].slice,i=/MSIE .\./.test(r),s=function(u){return function(c,p){var d=arguments.length>2,h=!!d&&n.call(arguments,2);return u(d?function(){(typeof c=="function"?c:Function(c)).apply(this,h)}:c,p)}};o(o.G+o.B+o.F*i,{setTimeout:s(t.setTimeout),setInterval:s(t.setInterval)})},function(l,a,e){var t=e(0),o=e(105);t(t.G+t.B,{setImmediate:o.set,clearImmediate:o.clear})},function(l,a,e){for(var t=e(102),o=e(46),r=e(23),n=e(10),i=e(27),s=e(55),u=e(14),c=u("iterator"),p=u("toStringTag"),d=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(h),f=0;f<g.length;f++){var v,y=g[f],w=h[y],_=n[y],b=_&&_.prototype;if(b&&(b[c]||i(b,c,d),b[p]||i(b,p,y),s[y]=d,w))for(v in t)b[v]||r(b,v,t[v],!0)}},function(l,a,e){var t,o,r;o=[a,e(29),e(2),e(3),e(360),e(362),e(363),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(9),f=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=f(i),s=f(s),u=f(u),d=f(d),h=g(h);var v=function(){function y(w){var _=this;(0,s.default)(this,y);var b=function(){};h.isObject(w)&&h.isFunction(w.onReady)&&(b=w.onReady);var k=new d.default(w);this.isReady=k.isReady.then(function(){_.exportAPI(k),b()})}return(0,u.default)(y,[{key:"exportAPI",value:function(w){var _=this;["configuration"].forEach(function(b){_[b]=w[b]}),this.destroy=function(){for(var b in Object.values(w.moduleInstances).forEach(function(k){h.isFunction(k.destroy)&&k.destroy(),k.listeners.removeAll()}),w=null,_)Object.prototype.hasOwnProperty.call(_,b)&&delete _[b];Object.setPrototypeOf(_,null)},Object.setPrototypeOf(this,w.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(function(b){var k=(0,i.default)(b,2),M=k[0],S=k[1];Object.entries(S).forEach(function(I){var m=(0,i.default)(I,2),T=m[0],E=m[1];_[E]=w.moduleInstances.API.methods[M][T]})})}}],[{key:"version",get:function(){return"2.20.0"}}]),y}();n.default=v,v.displayName="EditorJS",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a){l.exports=function(e){if(Array.isArray(e))return e}},function(l,a){l.exports=function(e,t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var o=[],r=!0,n=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(o.push(s.value),!t||o.length!==t);r=!0);}catch(c){n=!0,i=c}finally{try{r||u.return==null||u.return()}finally{if(n)throw i}}return o}}},function(l,a){l.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,a,e){(a=l.exports=function(...r){return o(...r)}).__esModule=!0;let t=e(361),o=t.default;Object.assign(a,t)},function(l,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){},a.revert=function(){}},function(l,a,e){var t,o,r;o=[],(r=typeof(t=function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){for(var i=(this.document||this.ownerDocument).querySelectorAll(n),s=i.length;--s>=0&&i.item(s)!==this;);return s>-1}),Element.prototype.closest||(Element.prototype.closest=function(n){var i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(n))return i;i=i.parentElement||i.parentNode}while(i!==null);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(n){var i=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(function(s){var u=s instanceof Node;i.appendChild(u?s:document.createTextNode(s))}),this.insertBefore(i,this.firstChild)})})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(21),e(22),e(2),e(3),e(15),e(8),e(59),e(145),e(372)],(r=typeof(t=function(n,i,s,u,c,p,d,h,g,f){"use strict";var v=e(9),y=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),s=y(s),u=y(u),c=y(c),p=y(p),d=v(d),h=y(h),f=y(f);var w=e(373),_=[];w.keys().forEach(function(k){k.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&_.push(w(k))});var b=function(){function k(I){var m,T,E=this;(0,u.default)(this,k),this.moduleInstances={},this.eventsDispatcher=new f.default,this.isReady=new Promise(function(O,x){m=O,T=x}),Promise.resolve().then((0,s.default)(i.default.mark(function O(){return i.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return E.configuration=I,x.next=3,E.validate();case 3:return x.next=5,E.init();case 5:return x.next=7,E.start();case 7:d.logLabeled("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727","log","","color: #E24A75"),setTimeout((0,s.default)(i.default.mark(function C(){var B,R,N;return i.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,E.render();case 2:E.configuration.autofocus&&(B=E.moduleInstances,R=B.BlockManager,(N=B.Caret).setToBlock(R.blocks[0],N.positions.START),R.highlightCurrentNode()),E.moduleInstances.UI.removeLoader(),m();case 5:case"end":return D.stop()}},C)})),500);case 9:case"end":return x.stop()}},O)}))).catch(function(O){d.log("Editor.js is not ready because of ".concat(O),"error"),T(O)})}var M,S;return(0,c.default)(k,[{key:"validate",value:(S=(0,s.default)(i.default.mark(function I(){var m,T,E;return i.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(m=this.config,T=m.holderId,E=m.holder,!T||!E){O.next=3;break}throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");case 3:if(!d.isString(E)||p.default.get(E)){O.next=5;break}throw Error("element with ID \xAB".concat(E,"\xBB is missing. Pass correct holder's ID."));case 5:if(!E||!d.isObject(E)||p.default.isElement(E)){O.next=7;break}throw Error("\xABholder\xBB value must be an Element node");case 7:case"end":return O.stop()}},I,this)})),function(){return S.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(M=(0,s.default)(i.default.mark(function I(){var m,T=this;return i.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return m=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],E.next=3,m.reduce(function(O,x){return O.then((0,s.default)(i.default.mark(function C(){return i.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,T.moduleInstances[x].prepare();case 3:B.next=10;break;case 5:if(B.prev=5,B.t0=B.catch(0),!(B.t0 instanceof g.CriticalError)){B.next=9;break}throw new Error(B.t0.message);case 9:d.log("Module ".concat(x," was skipped because of %o"),"warn",B.t0);case 10:case"end":return B.stop()}},C,null,[[0,5]])})))},Promise.resolve());case 3:case"end":return E.stop()}},I)})),function(){return M.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var I=this;_.forEach(function(m){var T=d.isFunction(m)?m:m.default;try{I.moduleInstances[T.displayName]=new T({config:I.configuration,eventsDispatcher:I.eventsDispatcher})}catch(E){d.log("Module ".concat(T.displayName," skipped because"),"warn",E)}})}},{key:"configureModules",value:function(){for(var I in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,I)&&(this.moduleInstances[I].state=this.getModulesDiff(I))}},{key:"getModulesDiff",value:function(I){var m={};for(var T in this.moduleInstances)T!==I&&(m[T]=this.moduleInstances[T]);return m}},{key:"configuration",set:function(I){var m,T;d.isObject(I)?this.config=Object.assign({},I):this.config={holder:I},d.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=d.LogLevels.VERBOSE),d.setLogLevel(this.config.logLevel),d.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;var E={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=this.config.inlineToolbar===void 0||this.config.inlineToolbar,!d.isEmpty(this.config.data)&&this.config.data.blocks&&this.config.data.blocks.length!==0||(this.config.data={blocks:[E]}),this.config.readOnly=this.config.readOnly||!1,!((m=this.config.i18n)===null||m===void 0)&&m.messages&&h.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((T=this.config.i18n)===null||T===void 0?void 0:T.direction)||"ltr"},get:function(){return this.config}}]),k}();n.default=b,b.displayName="Core",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t=e(142);l.exports=function(o){if(Array.isArray(o))return t(o)}},function(l,a){l.exports=function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}},function(l,a){l.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(l,a){l.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(l,a){l.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(l,a){l.exports=function(e){return Function.toString.call(e).indexOf("[native code]")!==-1}},function(l,a,e){var t=e(107),o=e(371);function r(n,i,s){return o()?l.exports=r=Reflect.construct:l.exports=r=function(u,c,p){var d=[null];d.push.apply(d,c);var h=new(Function.bind.apply(u,d));return p&&t(h,p.prototype),h},r.apply(null,arguments)}l.exports=r},function(l,a){l.exports=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}},function(l,a,e){var t,o,r;o=[a,e(2),e(3)],(r=typeof(t=function(n,i,s){"use strict";var u=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=u(i),s=u(s);var c=function(){function p(){(0,i.default)(this,p),this.subscribers={}}return(0,s.default)(p,[{key:"on",value:function(d,h){d in this.subscribers||(this.subscribers[d]=[]),this.subscribers[d].push(h)}},{key:"once",value:function(d,h){var g=this;d in this.subscribers||(this.subscribers[d]=[]),this.subscribers[d].push(function f(v){var y=h(v),w=g.subscribers[d].indexOf(f);return w!==-1&&g.subscribers[d].splice(w,1),y})}},{key:"emit",value:function(d,h){this.subscribers[d]&&this.subscribers[d].reduce(function(g,f){return f(g)||g},h)}},{key:"off",value:function(d,h){for(var g=0;g<this.subscribers[d].length;g++)if(this.subscribers[d][g]===h){delete this.subscribers[d][g];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),p}();n.default=c,c.displayName="EventsDispatcher",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t={"./api":79,"./api/":79,"./api/blocks":147,"./api/blocks.ts":147,"./api/caret":149,"./api/caret.ts":149,"./api/events":150,"./api/events.ts":150,"./api/i18n":151,"./api/i18n.ts":151,"./api/index":79,"./api/index.ts":79,"./api/inlineToolbar":152,"./api/inlineToolbar.ts":152,"./api/listeners":153,"./api/listeners.ts":153,"./api/notifier":154,"./api/notifier.ts":154,"./api/readonly":155,"./api/readonly.ts":155,"./api/sanitizer":156,"./api/sanitizer.ts":156,"./api/saver":157,"./api/saver.ts":157,"./api/selection":158,"./api/selection.ts":158,"./api/styles":159,"./api/styles.ts":159,"./api/toolbar":160,"./api/toolbar.ts":160,"./api/tooltip":161,"./api/tooltip.ts":161,"./blockEvents":162,"./blockEvents.ts":162,"./blockManager":163,"./blockManager.ts":163,"./blockSelection":164,"./blockSelection.ts":164,"./caret":165,"./caret.ts":165,"./crossBlockSelection":166,"./crossBlockSelection.ts":166,"./dragNDrop":167,"./dragNDrop.ts":167,"./modificationsObserver":168,"./modificationsObserver.ts":168,"./notifier":169,"./notifier.ts":169,"./paste":170,"./paste.ts":170,"./readonly":171,"./readonly.ts":171,"./rectangleSelection":172,"./rectangleSelection.ts":172,"./renderer":173,"./renderer.ts":173,"./sanitizer":174,"./sanitizer.ts":174,"./saver":175,"./saver.ts":175,"./toolbar":80,"./toolbar/":80,"./toolbar/blockSettings":176,"./toolbar/blockSettings.ts":176,"./toolbar/conversion":177,"./toolbar/conversion.ts":177,"./toolbar/index":80,"./toolbar/index.ts":80,"./toolbar/inline":178,"./toolbar/inline.ts":178,"./toolbar/toolbox":179,"./toolbar/toolbox.ts":179,"./tools":180,"./tools.ts":180,"./tooltip":181,"./tooltip.ts":181,"./ui":182,"./ui.ts":182};function o(n){var i=r(n);return e(i)}function r(n){if(!e.o(t,n)){var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}return t[n]}o.keys=function(){return Object.keys(t)},o.resolve=r,l.exports=o,o.id=373},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(8)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(9),p=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=p(i),s=p(s),u=c(u);var d=function(){function h(){(0,i.default)(this,h),this.allListeners=[]}return(0,s.default)(h,[{key:"on",value:function(g,f,v){var y=arguments.length>3&&arguments[3]!==void 0&&arguments[3],w=u.generateId("l"),_={id:w,element:g,eventType:f,handler:v,options:y},b=this.findOne(g,f,v);if(!b)return this.allListeners.push(_),g.addEventListener(f,v,y),w}},{key:"off",value:function(g,f,v,y){var w=this,_=this.findAll(g,f,v);_.forEach(function(b,k){var M=w.allListeners.indexOf(_[k]);M>-1&&(w.allListeners.splice(M,1),b.element.removeEventListener(b.eventType,b.handler,b.options))})}},{key:"offById",value:function(g){var f=this.findById(g);f&&f.element.removeEventListener(f.eventType,f.handler,f.options)}},{key:"findOne",value:function(g,f,v){var y=this.findAll(g,f,v);return y.length>0?y[0]:null}},{key:"findAll",value:function(g,f,v){var y=g?this.findByEventTarget(g):[];return g&&f&&v?y.filter(function(w){return w.eventType===f&&w.handler===v}):g&&f?y.filter(function(w){return w.eventType===f}):y}},{key:"removeAll",value:function(){this.allListeners.map(function(g){g.element.removeEventListener(g.eventType,g.handler,g.options)}),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(g){return this.allListeners.filter(function(f){if(f.element===g)return f})}},{key:"findByType",value:function(g){return this.allListeners.filter(function(f){if(f.eventType===g)return f})}},{key:"findByHandler",value:function(g){return this.allListeners.filter(function(f){if(f.handler===g)return f})}},{key:"findById",value:function(g){return this.allListeners.find(function(f){return f.id===g})}}]),h}();n.default=d,d.displayName="Listeners",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15),e(8),e(25)],(r=typeof(t=function(n,i,s,u,c,p){"use strict";var d=e(9),h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=d(c),p=h(p);var g=function(){function f(v,y){(0,i.default)(this,f),this.cursor=-1,this.items=[],this.items=v||[],this.focusedCssClass=y}return(0,s.default)(f,[{key:"setItems",value:function(v){this.items=v}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(f.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(f.directions.LEFT)}},{key:"dropCursor",value:function(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(v){var y=this;if(this.items.length===0)return this.cursor;var w=this.cursor;return w===-1?w=v===f.directions.RIGHT?-1:0:this.items[w].classList.remove(this.focusedCssClass),w=v===f.directions.RIGHT?(w+1)%this.items.length:(this.items.length+w-1)%this.items.length,u.default.canSetCaret(this.items[w])&&c.delay(function(){return p.default.setCursor(y.items[w])},50)(),this.items[w].classList.add(this.focusedCssClass),w}},{key:"currentItem",get:function(){return this.cursor===-1?null:this.items[this.cursor]}}]),f}();n.default=g,g.displayName="DomIterator",g.directions={RIGHT:"right",LEFT:"left"},l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(8),e(15),e(61)],(r=typeof(t=function(n,i,s,u,c,p){"use strict";var d=e(9),h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=d(u),c=h(c);var g=function(){function f(v){(0,i.default)(this,f),this.blocks=[],this.workingArea=v}return(0,s.default)(f,[{key:"push",value:function(v){this.blocks.push(v),this.insertToDOM(v)}},{key:"swap",value:function(v,y){var w=this.blocks[y];c.default.swap(this.blocks[v].holder,w.holder),this.blocks[y]=this.blocks[v],this.blocks[v]=w}},{key:"move",value:function(v,y){var w=this.blocks.splice(y,1)[0],_=v-1,b=Math.max(0,_),k=this.blocks[b];v>0?this.insertToDOM(w,"afterend",k):this.insertToDOM(w,"beforebegin",k),this.blocks.splice(v,0,w);var M=this.composeBlockEvent("move",{fromIndex:y,toIndex:v});w.call(p.BlockToolAPI.MOVED,M)}},{key:"insert",value:function(v,y){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this.length){v>this.length&&(v=this.length),w&&(this.blocks[v].holder.remove(),this.blocks[v].call(p.BlockToolAPI.REMOVED));var _=w?1:0;if(this.blocks.splice(v,_,y),v>0){var b=this.blocks[v-1];this.insertToDOM(y,"afterend",b)}else{var k=this.blocks[v+1];k?this.insertToDOM(y,"beforebegin",k):this.insertToDOM(y)}}else this.push(y)}},{key:"remove",value:function(v){isNaN(v)&&(v=this.length-1),this.blocks[v].holder.remove(),this.blocks[v].call(p.BlockToolAPI.REMOVED),this.blocks.splice(v,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach(function(v){return v.call(p.BlockToolAPI.REMOVED)}),this.blocks.length=0}},{key:"insertAfter",value:function(v,y){var w=this.blocks.indexOf(v);this.insert(w+1,y)}},{key:"get",value:function(v){return this.blocks[v]}},{key:"indexOf",value:function(v){return this.blocks.indexOf(v)}},{key:"insertToDOM",value:function(v,y,w){y?w.holder.insertAdjacentElement(y,v.holder):this.workingArea.appendChild(v.holder),v.call(p.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(v,y){return new CustomEvent(v,{detail:y})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return u.array(this.workingArea.children)}}],[{key:"set",value:function(v,y,w){return isNaN(Number(y))?(Reflect.set(v,y,w),!0):(v.insert(+y,w),!0)}},{key:"get",value:function(v,y){return isNaN(Number(y))?Reflect.get(v,y):v.get(+y)}}]),f}();n.default=g,g.displayName="Blocks",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){l.exports=function(t){var o={};function r(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=o,r.d=function(n,i,s){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var u in n)r.d(s,u,function(c){return n[c]}.bind(null,u));return s},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=0)}([function(t,o,r){"use strict";function n(u,c){for(var p=0;p<c.length;p++){var d=c[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function i(u,c,p){return c&&n(u.prototype,c),p&&n(u,p),u}r.r(o);var s=function(){function u(c){var p=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,u),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){p.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(u,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),i(u,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var p=0;p<c.length;p++){c[p]=c[p].toUpperCase();var d=!1;for(var h in u.supportedCommands)if(u.supportedCommands[h].includes(c[p])){d=this.commands[h]=!0;break}d||(this.keys[c[p]]=!0)}for(var g in u.supportedCommands)this.commands[g]||(this.commands[g]=!1)}},{key:"execute",value:function(c){var p,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(p in this.commands)this.commands[p]!==d[p]&&(h=!1);var g,f=!0;for(g in this.keys)f=f&&c.keyCode===u.keyCodes[g];h&&f&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),u}();o.default=s}]).default},function(l,a,e){l.exports=function(t){var o={};function r(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=o,r.d=function(n,i,s){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var u in n)r.d(s,u,function(c){return n[c]}.bind(null,u));return s},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="/",r(r.s=0)}([function(t,o,r){"use strict";r(1),t.exports=function(){var n=r(6),i=null;return{show:function(s){if(s.message){(function(){if(i)return!0;i=n.getWrapper(),document.body.appendChild(i)})();var u=null,c=s.time||8e3;switch(s.type){case"confirm":u=n.confirm(s);break;case"prompt":u=n.prompt(s);break;default:u=n.alert(s),window.setTimeout(function(){u.remove()},c)}i.appendChild(u),u.classList.add("cdx-notify--bounce-in")}}}}()},function(t,o,r){var n=r(2);typeof n=="string"&&(n=[[t.i,n,""]]),r(4)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(t.exports=n.locals)},function(t,o,r){(t.exports=r(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,o){t.exports=function(r){var n=[];return n.toString=function(){return this.map(function(i){var s=function(u,c){var p,d=u[1]||"",h=u[3];if(!h)return d;if(c&&typeof btoa=="function"){var g=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),f=h.sources.map(function(v){return"/*# sourceURL="+h.sourceRoot+v+" */"});return[d].concat(f).concat([g]).join(`
`)}return[d].join(`
`)}(i,r);return i[2]?"@media "+i[2]+"{"+s+"}":s}).join("")},n.i=function(i,s){typeof i=="string"&&(i=[[null,i,""]]);for(var u={},c=0;c<this.length;c++){var p=this[c][0];typeof p=="number"&&(u[p]=!0)}for(c=0;c<i.length;c++){var d=i[c];typeof d[0]=="number"&&u[d[0]]||(s&&!d[2]?d[2]=s:s&&(d[2]="("+d[2]+") and ("+s+")"),n.push(d))}},n}},function(t,o,r){var n,i,s={},u=(n=function(){return window&&document&&document.all&&!window.atob},function(){return i===void 0&&(i=n.apply(this,arguments)),i}),c=function(m){var T={};return function(E){if(typeof E=="function")return E();if(T[E]===void 0){var O=function(x){return document.querySelector(x)}.call(this,E);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch(x){O=null}T[E]=O}return T[E]}}(),p=null,d=0,h=[],g=r(5);function f(m,T){for(var E=0;E<m.length;E++){var O=m[E],x=s[O.id];if(x){x.refs++;for(var C=0;C<x.parts.length;C++)x.parts[C](O.parts[C]);for(;C<O.parts.length;C++)x.parts.push(k(O.parts[C],T))}else{var B=[];for(C=0;C<O.parts.length;C++)B.push(k(O.parts[C],T));s[O.id]={id:O.id,refs:1,parts:B}}}}function v(m,T){for(var E=[],O={},x=0;x<m.length;x++){var C=m[x],B=T.base?C[0]+T.base:C[0],R={css:C[1],media:C[2],sourceMap:C[3]};O[B]?O[B].parts.push(R):E.push(O[B]={id:B,parts:[R]})}return E}function y(m,T){var E=c(m.insertInto);if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=h[h.length-1];if(m.insertAt==="top")O?O.nextSibling?E.insertBefore(T,O.nextSibling):E.appendChild(T):E.insertBefore(T,E.firstChild),h.push(T);else if(m.insertAt==="bottom")E.appendChild(T);else{if(typeof m.insertAt!="object"||!m.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var x=c(m.insertInto+" "+m.insertAt.before);E.insertBefore(T,x)}}function w(m){if(m.parentNode===null)return!1;m.parentNode.removeChild(m);var T=h.indexOf(m);T>=0&&h.splice(T,1)}function _(m){var T=document.createElement("style");return m.attrs.type===void 0&&(m.attrs.type="text/css"),b(T,m.attrs),y(m,T),T}function b(m,T){Object.keys(T).forEach(function(E){m.setAttribute(E,T[E])})}function k(m,T){var E,O,x,C;if(T.transform&&m.css){if(!(C=T.transform(m.css)))return function(){};m.css=C}if(T.singleton){var B=d++;E=p||(p=_(T)),O=I.bind(null,E,B,!1),x=I.bind(null,E,B,!0)}else m.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(E=function(R){var N=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",b(N,R.attrs),y(R,N),N}(T),O=function(R,N,D){var A=D.css,P=D.sourceMap,j=N.convertToAbsoluteUrls===void 0&&P;(N.convertToAbsoluteUrls||j)&&(A=g(A)),P&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(P))))+" */");var F=new Blob([A],{type:"text/css"}),L=R.href;R.href=URL.createObjectURL(F),L&&URL.revokeObjectURL(L)}.bind(null,E,T),x=function(){w(E),E.href&&URL.revokeObjectURL(E.href)}):(E=_(T),O=function(R,N){var D=N.css,A=N.media;if(A&&R.setAttribute("media",A),R.styleSheet)R.styleSheet.cssText=D;else{for(;R.firstChild;)R.removeChild(R.firstChild);R.appendChild(document.createTextNode(D))}}.bind(null,E),x=function(){w(E)});return O(m),function(R){if(R){if(R.css===m.css&&R.media===m.media&&R.sourceMap===m.sourceMap)return;O(m=R)}else x()}}t.exports=function(m,T){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=u()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var E=v(m,T);return f(E,T),function(O){for(var x=[],C=0;C<E.length;C++){var B=E[C];(R=s[B.id]).refs--,x.push(R)}for(O&&f(v(O,T),T),C=0;C<x.length;C++){var R;if((R=x[C]).refs===0){for(var N=0;N<R.parts.length;N++)R.parts[N]();delete s[R.id]}}}};var M,S=(M=[],function(m,T){return M[m]=T,M.filter(Boolean).join(`
`)});function I(m,T,E,O){var x=E?"":O.css;if(m.styleSheet)m.styleSheet.cssText=S(T,x);else{var C=document.createTextNode(x),B=m.childNodes;B[T]&&m.removeChild(B[T]),B.length?m.insertBefore(C,B[T]):m.appendChild(C)}}},function(t,o){t.exports=function(r){var n=typeof window!="undefined"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!r||typeof r!="string")return r;var i=n.protocol+"//"+n.host,s=i+n.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,c){var p,d=c.trim().replace(/^"(.*)"$/,function(h,g){return g}).replace(/^'(.*)'$/,function(h,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?u:(p=d.indexOf("//")===0?d:d.indexOf("/")===0?i+d:s+d.replace(/^\.\//,""),"url("+JSON.stringify(p)+")")})}},function(t,o,r){"use strict";var n,i,s,u,c,p;t.exports=(n="cdx-notify",i="cdx-notify__cross",s="cdx-notify__button--confirm",u="cdx-notify__button",c="cdx-notify__btns-wrapper",{alert:p=function(d){var h=document.createElement("DIV"),g=document.createElement("DIV"),f=d.message,v=d.style;return h.classList.add(n),v&&h.classList.add(n+"--"+v),h.innerHTML=f,g.classList.add(i),g.addEventListener("click",h.remove.bind(h)),h.appendChild(g),h},confirm:function(d){var h=p(d),g=document.createElement("div"),f=document.createElement("button"),v=document.createElement("button"),y=h.querySelector("."+i),w=d.cancelHandler,_=d.okHandler;return g.classList.add(c),f.innerHTML=d.okText||"Confirm",v.innerHTML=d.cancelText||"Cancel",f.classList.add(u),v.classList.add(u),f.classList.add(s),v.classList.add("cdx-notify__button--cancel"),w&&typeof w=="function"&&(v.addEventListener("click",w),y.addEventListener("click",w)),_&&typeof _=="function"&&f.addEventListener("click",_),f.addEventListener("click",h.remove.bind(h)),v.addEventListener("click",h.remove.bind(h)),g.appendChild(f),g.appendChild(v),h.appendChild(g),h},prompt:function(d){var h=p(d),g=document.createElement("div"),f=document.createElement("button"),v=document.createElement("input"),y=h.querySelector("."+i),w=d.cancelHandler,_=d.okHandler;return g.classList.add(c),f.innerHTML=d.okText||"Ok",f.classList.add(u),f.classList.add(s),v.classList.add("cdx-notify__input"),d.placeholder&&v.setAttribute("placeholder",d.placeholder),d.default&&(v.value=d.default),d.inputType&&(v.type=d.inputType),w&&typeof w=="function"&&y.addEventListener("click",w),_&&typeof _=="function"&&f.addEventListener("click",function(){_(v.value)}),f.addEventListener("click",h.remove.bind(h)),g.appendChild(v),g.appendChild(f),h.appendChild(g),h},getWrapper:function(){var d=document.createElement("DIV");return d.classList.add("cdx-notifies"),d}})}])},function(l,a,e){var t,o;(o=typeof(t=function(){function r(h){var g=h.tags;if(!Object.keys(g).map(function(f){return typeof g[f]}).every(function(f){return f==="object"||f==="boolean"||f==="function"}))throw new Error("The configuration was invalid");this.config=h}var n=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(h){return n.indexOf(h.nodeName)!==-1}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function u(h){return s.indexOf(h.nodeName)!==-1}function c(h,g,f){return typeof h.tags[g]=="function"?h.tags[g](f):h.tags[g]}function p(h,g){return g===void 0||typeof g=="boolean"&&!g}function d(h,g,f){var v=h.name.toLowerCase();return g!==!0&&(typeof g[v]=="function"?!g[v](h.value,f):g[v]===void 0||g[v]===!1||typeof g[v]=="string"&&g[v]!==h.value)}return r.prototype.clean=function(h){let g=document.implementation.createHTMLDocument(),f=g.createElement("div");return f.innerHTML=h,this._sanitize(g,f),f.innerHTML},r.prototype._sanitize=function(h,g){var f=function(m,T){return m.createTreeWalker(T,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(h,g),v=f.firstChild();if(v)do if(v.nodeType!==Node.TEXT_NODE){if(v.nodeType===Node.COMMENT_NODE){g.removeChild(v),this._sanitize(h,g);break}var y,w=u(v);w&&(y=Array.prototype.some.call(v.childNodes,i));var _=!!g.parentNode,b=i(g)&&i(v)&&_,k=v.nodeName.toLowerCase(),M=c(this.config,k,v);if(w&&y||p(0,M)||!this.config.keepNestedBlockElements&&b){if(v.nodeName!=="SCRIPT"&&v.nodeName!=="STYLE")for(;v.childNodes.length>0;)g.insertBefore(v.childNodes[0],v);g.removeChild(v),this._sanitize(h,g);break}for(var S=0;S<v.attributes.length;S+=1){var I=v.attributes[S];d(I,M,v)&&(v.removeAttribute(I.name),S-=1)}this._sanitize(h,v)}else if(v.data.trim()===""&&(v.previousElementSibling&&i(v.previousElementSibling)||v.nextElementSibling&&i(v.nextElementSibling))){g.removeChild(v),this._sanitize(h,g);break}while(v=f.nextSibling())},r})=="function"?t.call(a,e,a,l):t)===void 0||(l.exports=o)},function(l,a,e){l.exports=function(t){var o={};function r(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=o,r.d=function(n,i,s){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var u in n)r.d(s,u,function(c){return n[c]}.bind(null,u));return s},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="/",r(r.s=0)}([function(t,o,r){function n(u,c){for(var p=0;p<c.length;p++){var d=c[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function i(u,c,p){return c&&n(u.prototype,c),p&&n(u,p),u}r(1).toString();var s=function(){function u(c){var p=c.data,d=c.config,h=c.api,g=c.readOnly;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,u),this.api=h,this.readOnly=g,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:u.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=p}return i(u,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),i(u,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var p={text:this.data.text+c.text};this.data=p}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var p={text:c.detail.data.innerHTML};this.data=p}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:r(5).default,title:"Text"}}}]),u}();t.exports=s},function(t,o,r){var n=r(2),i=r(3);typeof(i=i.__esModule?i.default:i)=="string"&&(i=[[t.i,i,""]]),n(i,{insert:"head",singleton:!1}),t.exports=i.locals||{}},function(t,o,r){"use strict";var n,i=function(){var _={};return function(b){if(_[b]===void 0){var k=document.querySelector(b);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch(M){k=null}_[b]=k}return _[b]}}(),s=[];function u(_){for(var b=-1,k=0;k<s.length;k++)if(s[k].identifier===_){b=k;break}return b}function c(_,b){for(var k={},M=[],S=0;S<_.length;S++){var I=_[S],m=b.base?I[0]+b.base:I[0],T=k[m]||0,E="".concat(m," ").concat(T);k[m]=T+1;var O=u(E),x={css:I[1],media:I[2],sourceMap:I[3]};O!==-1?(s[O].references++,s[O].updater(x)):s.push({identifier:E,updater:w(x,b),references:1}),M.push(E)}return M}function p(_){var b=document.createElement("style"),k=_.attributes||{};if(k.nonce===void 0){var M=r.nc;M&&(k.nonce=M)}if(Object.keys(k).forEach(function(I){b.setAttribute(I,k[I])}),typeof _.insert=="function")_.insert(b);else{var S=i(_.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(b)}return b}var d,h=(d=[],function(_,b){return d[_]=b,d.filter(Boolean).join(`
`)});function g(_,b,k,M){var S=k?"":M.media?"@media ".concat(M.media," {").concat(M.css,"}"):M.css;if(_.styleSheet)_.styleSheet.cssText=h(b,S);else{var I=document.createTextNode(S),m=_.childNodes;m[b]&&_.removeChild(m[b]),m.length?_.insertBefore(I,m[b]):_.appendChild(I)}}function f(_,b,k){var M=k.css,S=k.media,I=k.sourceMap;if(S?_.setAttribute("media",S):_.removeAttribute("media"),I&&btoa&&(M+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),_.styleSheet)_.styleSheet.cssText=M;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(M))}}var v=null,y=0;function w(_,b){var k,M,S;if(b.singleton){var I=y++;k=v||(v=p(b)),M=g.bind(null,k,I,!1),S=g.bind(null,k,I,!0)}else k=p(b),M=f.bind(null,k,b),S=function(){(function(m){if(m.parentNode===null)return!1;m.parentNode.removeChild(m)})(k)};return M(_),function(m){if(m){if(m.css===_.css&&m.media===_.media&&m.sourceMap===_.sourceMap)return;M(_=m)}else S()}}t.exports=function(_,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=(n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var k=c(_=_||[],b);return function(M){if(M=M||[],Object.prototype.toString.call(M)==="[object Array]"){for(var S=0;S<k.length;S++){var I=u(k[S]);s[I].references--}for(var m=c(M,b),T=0;T<k.length;T++){var E=u(k[T]);s[E].references===0&&(s[E].updater(),s.splice(E,1))}k=m}}}},function(t,o,r){(o=r(4)(!1)).push([t.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),t.exports=o},function(t,o,r){"use strict";t.exports=function(n){var i=[];return i.toString=function(){return this.map(function(s){var u=function(c,p){var d,h,g,f=c[1]||"",v=c[3];if(!v)return f;if(p&&typeof btoa=="function"){var y=(d=v,h=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(g," */")),w=v.sources.map(function(_){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(_," */")});return[f].concat(w).concat([y]).join(`
`)}return[f].join(`
`)}(s,n);return s[2]?"@media ".concat(s[2]," {").concat(u,"}"):u}).join("")},i.i=function(s,u,c){typeof s=="string"&&(s=[[null,s,""]]);var p={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(p[h]=!0)}for(var g=0;g<s.length;g++){var f=[].concat(s[g]);c&&p[f[0]]||(u&&(f[2]?f[2]="".concat(u," and ").concat(f[2]):f[2]=u),i.push(f))}},i}},function(t,o,r){"use strict";r.r(o),o.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">
  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>
</svg>
`}])},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(){(0,i.default)(this,d),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,s.default)(d,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(h){document.execCommand(this.commandName)}},{key:"checkState",value:function(h){var g=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,g),g}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),d}();n.default=p,p.displayName="BoldInlineTool",p.isInline=!0,p.title="Bold",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(){(0,i.default)(this,d),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,s.default)(d,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(u.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(h){document.execCommand(this.commandName)}},{key:"checkState",value:function(h){var g=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,g),g}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),d}();n.default=p,p.displayName="ItalicInlineTool",p.isInline=!0,p.title="Italic",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(25),e(15),e(8)],(r=typeof(t=function(n,i,s,u,c,p){"use strict";var d=e(9),h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),u=h(u),c=h(c),p=d(p);var g=function(){function f(v){var y=v.api;(0,i.default)(this,f),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=y.toolbar,this.inlineToolbar=y.inlineToolbar,this.notifier=y.notifier,this.i18n=y.i18n,this.selection=new u.default}return(0,s.default)(f,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(c.default.svg("link",14,10)),this.nodes.button.appendChild(c.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var v=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",function(y){y.keyCode===v.ENTER_KEY&&v.enterPressed(y)}),this.nodes.input}},{key:"surround",value:function(v){if(v){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var y=this.selection.findParentTag("A");if(y)return this.selection.expandToTag(y),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(v){var y=this.selection.findParentTag("A");if(y){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var w=y.getAttribute("href");this.nodes.input.value=w!=="null"?w:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!y}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var v=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),v&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.selection.isFakeBackgroundEnabled){var y=new u.default;y.save(),this.selection.restore(),this.selection.removeFakeBackground(),y.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",v&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(v){var y=this.nodes.input.value||"";return y.trim()?this.validateURL(y)?(y=this.prepareLink(y),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(y),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void p.log("Incorrect Link pasted","warn",y)):(this.selection.restore(),this.unlink(),v.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(v){return!/\s/.test(v)}},{key:"prepareLink",value:function(v){return v=v.trim(),v=this.addProtocol(v)}},{key:"addProtocol",value:function(v){if(/^(\w+):(\/\/)?/.test(v))return v;var y=/^\/[^/\s]/.test(v),w=v.substring(0,1)==="#",_=/^\/\/[^/\s]/.test(v);return y||w||_||(v="http://"+v),v}},{key:"insertLink",value:function(v){var y=this.selection.findParentTag("A");y&&this.selection.expandToTag(y),document.execCommand(this.commandLink,!1,v)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),f}();n.default=g,g.displayName="LinkInlineTool",g.isInline=!0,g.title="Link",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(h){var g=h.data,f=h.api;(0,i.default)(this,d),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=f,this.title=g.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=g.savedData,this.wrapper=this.make()}return(0,s.default)(d,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var h=u.default.make("div",this.CSS.wrapper),g=u.default.svg("sad-face",52,52),f=u.default.make("div",this.CSS.info),v=u.default.make("div",this.CSS.title,{textContent:this.title}),y=u.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return h.appendChild(g),f.appendChild(v),f.appendChild(y),h.appendChild(f),h}}]),d}();n.default=p,p.displayName="Stub",p.isReadOnlySupported=!0,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(66),e(386),e(387),e(388)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=h(i),s=h(s),c=h(c),p=h(p),d=h(d);var g=function(v,y){var w={};for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&y.indexOf(_)<0&&(w[_]=v[_]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var b=0;for(_=Object.getOwnPropertySymbols(v);b<_.length;b++)y.indexOf(_[b])<0&&Object.prototype.propertyIsEnumerable.call(v,_[b])&&(w[_[b]]=v[_[b]])}return w},f=function(){function v(y,w,_){(0,i.default)(this,v),this.api=_,this.config=y,this.editorConfig=w}return(0,s.default)(v,[{key:"get",value:function(y){var w=this.config[y],_=w.class,b=w.isInternal,k=b!==void 0&&b,M=g(w,["class","isInternal"]);return new(this.getConstructor(_))({name:y,constructable:_,config:M,api:this.api,isDefault:y===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:k})}},{key:"getConstructor",value:function(y){switch(!0){case y[u.InternalInlineToolSettings.IsInline]:return c.default;case y[u.InternalTuneSettings.IsTune]:return p.default;default:return d.default}}}]),v}();n.default=f,f.displayName="ToolsFactory",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(66)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(9),g=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=g(i),s=g(s),u=g(u),c=g(c),p=g(p);var v=function(y){(0,u.default)(b,y);var w,_=(w=b,function(){var k,M=(0,p.default)(w);if(f()){var S=(0,p.default)(this).constructor;k=Reflect.construct(M,arguments,S)}else k=M.apply(this,arguments);return(0,c.default)(this,k)});function b(){var k;return(0,i.default)(this,b),(k=_.apply(this,arguments)).type=d.ToolType.Inline,k}return(0,s.default)(b,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[d.InternalInlineToolSettings.Title]}}]),b}((d=h(d)).default);n.default=v,v.displayName="InlineTool",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(66)],(r=typeof(t=function(n,i,s,u,c,p,d){"use strict";var h=e(9),g=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=g(i),s=g(s),u=g(u),c=g(c),p=g(p);var v=function(y){(0,u.default)(b,y);var w,_=(w=b,function(){var k,M=(0,p.default)(w);if(f()){var S=(0,p.default)(this).constructor;k=Reflect.construct(M,arguments,S)}else k=M.apply(this,arguments);return(0,c.default)(this,k)});function b(){var k;return(0,i.default)(this,b),(k=_.apply(this,arguments)).type=d.ToolType.Tune,k}return(0,s.default)(b,[{key:"create",value:function(k,M){return new this.constructable({api:this.api.getMethodsForTool(this),settings:this.settings,block:M,data:k})}}]),b}((d=h(d)).default);n.default=v,v.displayName="BlockTune",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(5),e(6),e(4),e(66),e(8)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(9),f=e(1);function v(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=f(i),s=f(s),u=f(u),c=f(c),p=f(p),d=g(d),h=g(h);var y=function(w){(0,u.default)(k,w);var _,b=(_=k,function(){var M,S=(0,p.default)(_);if(v()){var I=(0,p.default)(this).constructor;M=Reflect.construct(S,arguments,I)}else M=S.apply(this,arguments);return(0,c.default)(this,M)});function k(){var M;return(0,i.default)(this,k),(M=b.apply(this,arguments)).type=d.ToolType.Block,M}return(0,s.default)(k,[{key:"create",value:function(M,S,I){return new this.constructable({data:M,block:S,readOnly:I,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return this.constructable[d.InternalBlockToolSettings.IsReadOnlySupported]===!0}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[d.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var M=this.constructable[d.InternalBlockToolSettings.Toolbox],S=this.config[d.UserSettings.Toolbox];if(!h.isEmpty(M)&&(S!=null?S:M)!==!1)return Object.assign({},M,S)}},{key:"conversionConfig",get:function(){return this.constructable[d.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[d.UserSettings.EnabledInlineTools]}},{key:"enabledBlockTunes",get:function(){return this.config[d.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[d.InternalBlockToolSettings.PasteConfig]||{}}}]),k}(d.default);n.default=y,y.displayName="BlockTool",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(h){var g=h.api;(0,i.default)(this,d),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=g}return(0,s.default)(d,[{key:"render",value:function(){var h=this,g=u.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return g.appendChild(u.default.svg("arrow-down",14,14)),this.api.listeners.on(g,"click",function(f){return h.handleClick(f,g)},!1),this.api.tooltip.onHover(g,this.api.i18n.t("Move down")),g}},{key:"handleClick",value:function(h,g){var f=this,v=this.api.blocks.getCurrentBlockIndex(),y=this.api.blocks.getBlockByIndex(v+1);if(!y)return g.classList.add(this.CSS.animation),void window.setTimeout(function(){g.classList.remove(f.CSS.animation)},500);var w=y.holder,_=w.getBoundingClientRect(),b=Math.abs(window.innerHeight-w.offsetHeight);_.top<window.innerHeight&&(b=window.scrollY+w.offsetHeight),window.scrollTo(0,b),this.api.blocks.move(v+1),this.api.tooltip.hide()}}]),d}();n.default=p,p.displayName="MoveDownTune",p.isTune=!0,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(h){var g=this,f=h.api;(0,i.default)(this,d),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=f,this.resetConfirmation=function(){g.setConfirmation(!1)}}return(0,s.default)(d,[{key:"render",value:function(){var h=this;return this.nodes.button=u.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(u.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",function(g){return h.handleClick(g)},!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete")),this.nodes.button}},{key:"handleClick",value:function(h){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),h.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(h){this.needConfirmation=h,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),d}();n.default=p,p.displayName="DeleteTune",p.isTune=!0,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(2),e(3),e(15)],(r=typeof(t=function(n,i,s,u){"use strict";var c=e(1);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),s=c(s),u=c(u);var p=function(){function d(h){var g=h.api;(0,i.default)(this,d),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=g}return(0,s.default)(d,[{key:"render",value:function(){var h=this,g=u.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return g.appendChild(u.default.svg("arrow-up",14,14)),this.api.listeners.on(g,"click",function(f){return h.handleClick(f,g)},!1),this.api.tooltip.onHover(g,this.api.i18n.t("Move up")),g}},{key:"handleClick",value:function(h,g){var f=this,v=this.api.blocks.getCurrentBlockIndex(),y=this.api.blocks.getBlockByIndex(v),w=this.api.blocks.getBlockByIndex(v-1);if(v===0||!y||!w)return g.classList.add(this.CSS.animation),void window.setTimeout(function(){g.classList.remove(f.CSS.animation)},500);var _,b=y.holder,k=w.holder,M=b.getBoundingClientRect(),S=k.getBoundingClientRect();_=S.top>0?Math.abs(M.top)-Math.abs(S.top):window.innerHeight-Math.abs(M.top)+Math.abs(S.top),window.scrollBy(0,-1*_),this.api.blocks.move(v-1),this.api.tooltip.hide()}}]),d}();n.default=p,p.displayName="MoveUpTune",p.isTune=!0,l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){var t,o,r;o=[a,e(29),e(2),e(3),e(5),e(6),e(4),e(146)],(r=typeof(t=function(n,i,s,u,c,p,d,h){"use strict";var g=e(1);function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=g(i),s=g(s),u=g(u),c=g(c),p=g(p),d=g(d);var v=function(y){(0,c.default)(b,y);var w,_=(w=b,function(){var k,M=(0,d.default)(w);if(f()){var S=(0,d.default)(this).constructor;k=Reflect.construct(M,arguments,S)}else k=M.apply(this,arguments);return(0,p.default)(this,k)});function b(){return(0,s.default)(this,b),_.apply(this,arguments)}return(0,u.default)(b,[{key:"blockTools",get:function(){return new b(Array.from(this.entries()).filter(function(k){return(0,i.default)(k,2)[1].isBlock()}))}},{key:"inlineTools",get:function(){return new b(Array.from(this.entries()).filter(function(k){return(0,i.default)(k,2)[1].isInline()}))}},{key:"blockTunes",get:function(){return new b(Array.from(this.entries()).filter(function(k){return(0,i.default)(k,2)[1].isTune()}))}},{key:"internalTools",get:function(){return new b(Array.from(this.entries()).filter(function(k){return(0,i.default)(k,2)[1].isInternal}))}},{key:"externalTools",get:function(){return new b(Array.from(this.entries()).filter(function(k){return!(0,i.default)(k,2)[1].isInternal}))}}]),b}((0,(h=g(h)).default)(Map));n.default=v,v.displayName="ToolsCollection",l.exports=a.default})=="function"?t.apply(a,o):t)===void 0||(l.exports=r)},function(l,a,e){l.exports=function(t){var o={};function r(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=o,r.d=function(n,i,s){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,i){if(1&i&&(n=r(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var u in n)r.d(s,u,function(c){return n[c]}.bind(null,u));return s},r.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(i,"a",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p="",r(r.s=0)}([function(t,o,r){t.exports=r(1)},function(t,o,r){"use strict";r.r(o),r.d(o,"default",function(){return n});class n{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.loadStyles(),this.prepare(),window.addEventListener("scroll",()=>{this.showed&&this.hide(!0)},{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(s,u,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);let p=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(p.hidingDelay&&(this.hidingDelay=p.hidingDelay),this.nodes.content.innerHTML="",typeof u=="string")this.nodes.content.appendChild(document.createTextNode(u));else{if(!(u instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof u+" given.");this.nodes.content.appendChild(u)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),p.placement){case"top":this.placeTop(s,p);break;case"left":this.placeLeft(s,p);break;case"right":this.placeRight(s,p);break;case"bottom":default:this.placeBottom(s,p)}p&&p.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},p.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(s=!1){if(this.hidingDelay&&!s)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(s,u,c){s.addEventListener("mouseenter",()=>{this.show(s,u,c)}),s.addEventListener("mouseleave",()=>{this.hide()})}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){let s="codex-tooltips-style";if(document.getElementById(s))return;let u=r(2),c=this.make("style",null,{textContent:u.toString(),id:s});this.prepend(document.head,c)}placeBottom(s,u){let c=s.getBoundingClientRect(),p=c.left+s.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+u.marginTop;this.applyPlacement("bottom",p,d)}placeTop(s,u){let c=s.getBoundingClientRect(),p=c.left+s.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",p,d)}placeLeft(s,u){let c=s.getBoundingClientRect(),p=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-u.marginLeft,d=c.top+window.pageYOffset+s.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",p,d)}placeRight(s,u){let c=s.getBoundingClientRect(),p=c.right+this.offsetRight+u.marginRight,d=c.top+window.pageYOffset+s.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",p,d)}applyPlacement(s,u,c){this.nodes.wrapper.classList.add(this.CSS.placement[s]),this.nodes.wrapper.style.left=u+"px",this.nodes.wrapper.style.top=c+"px"}make(s,u=null,c={}){let p=document.createElement(s);Array.isArray(u)?p.classList.add(...u):u&&p.classList.add(u);for(let d in c)c.hasOwnProperty(d)&&(p[d]=c[d]);return p}append(s,u){Array.isArray(u)?u.forEach(c=>s.appendChild(c)):s.appendChild(u)}prepend(s,u){Array.isArray(u)?(u=u.reverse()).forEach(c=>s.prepend(c)):s.prepend(u)}}},function(t,o){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default},function(l,a,e){"use strict";e.r(a),a.default=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg">
<symbol id="arrow-down" viewBox="0 0 14 14">
  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="arrow-up" viewBox="0 0 14 14">
    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>
</symbol>
<symbol id="cross" viewBox="0 0 237 237">
  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>

</symbol>
<symbol id="dots" viewBox="0 0 8 8">
  <circle cx="6.5" cy="1.5" r="1.5"/>
  <circle cx="6.5" cy="6.5" r="1.5"/>
  <circle cx="1.5" cy="1.5" r="1.5"/>
  <circle cx="1.5" cy="6.5" r="1.5"/>

</symbol>
<symbol id="italic" viewBox="0 0 4 11">
    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>

</symbol>
<symbol id="link" viewBox="0 0 14 10">
  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>

</symbol>
<symbol id="plus" viewBox="0 0 14 14">
    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>

</symbol>
<symbol id="sad-face" viewBox="0 0 52 52">
    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>

</symbol>
<symbol id="toggler-down">
  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>

</symbol>
<symbol id="unlink" viewBox="0 0 15 11">
  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>

</symbol></svg>`},function(l,a){l.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 35px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:-30px;top:5px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:-28px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;color:#707684;cursor:pointer;background:#eff2f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn:hover{color:#1d202b}@media (max-width:650px){.ce-toolbar__settings-btn{background:transparent}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:-11px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-34px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-34px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'}])})});var wt=kt((Xe,nt)=>{(function(l,a){typeof Xe=="object"&&typeof nt=="object"?nt.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Xe=="object"?Xe.Undo=a():l.Undo=a()})(window,function(){return function(l){var a={};function e(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return l[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=l,e.c=a,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o||4&o&&typeof t=="object"&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&typeof t!="string")for(var n in t)e.d(r,n,function(i){return t[i]}.bind(null,n));return r},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="/",e(e.s=0)}([function(l,a,e){"use strict";function t(i,s){for(var u=0;u<s.length;u++){var c=s[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}e.r(a),e.d(a,"default",function(){return n});var o=function(){function i(p,d){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,i),this.holder=typeof d=="string"?document.getElementById(d):d,this.observer=null,this.debounceTimer=200,this.mutationDebouncer=this.debounce(function(){p()},this.debounceTimer)}var s,u,c;return s=i,(u=[{key:"setMutationObserver",value:function(){var p=this,d=this.holder;this.observer=new MutationObserver(function(h){p.mutationHandler(h)}),this.observer.observe(d,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(p){var d=this,h=!1;p.forEach(function(g){switch(g.type){case"childList":g.target===d.holder?d.onDestroy():h=!0;break;case"characterData":h=!0;break;case"attributes":g.target.classList.contains("ce-block")||(h=!0)}}),h&&this.mutationDebouncer()}},{key:"debounce",value:function(p,d){var h,g=this;return function(){for(var f=arguments.length,v=new Array(f),y=0;y<f;y++)v[y]=arguments[y];var w=g;clearTimeout(h),h=setTimeout(function(){return p.apply(w,v)},d)}}},{key:"onDestroy",value:function(){var p=new CustomEvent("destroy");document.dispatchEvent(p),this.observer.disconnect()}}])&&t(s.prototype,u),c&&t(s,c),i}();function r(i,s){for(var u=0;u<s.length;u++){var c=s[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}var n=function(){function i(p){var d=this,h=p.editor,g=p.onUpdate,f=p.maxLength;(function(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i);var v={maxLength:30,onUpdate:function(){}},y=h.configuration;this.editor=h,this.shouldSaveHistory=!0,this.readOnly=y.readOnly,this.maxLength=f||v.maxLength,this.onUpdate=g||v.onUpdate,new o(function(){return d.registerChange()},y.holder).setMutationObserver(),this.setEventListeners(),this.initialItem=null,this.clear()}var s,u,c;return s=i,c=[{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"truncate",value:function(p,d){for(;p.length>d;)p.shift()}},{key:"initialize",value:function(p){var d="blocks"in p?p.blocks:p,h={index:d.length-1,state:d};this.stack[0]=h,this.initialItem=h}},{key:"clear",value:function(){this.stack=this.initialItem?[this.initialItem]:[{index:0,state:[]}],this.position=0,this.onUpdate()}},{key:"registerChange",value:function(){var p=this;this.readOnly||(this.editor&&this.editor.save&&this.shouldSaveHistory&&this.editor.save().then(function(d){p.editorDidUpdate(d.blocks)&&p.save(d.blocks)}),this.shouldSaveHistory=!0)}},{key:"editorDidUpdate",value:function(p){var d=this.stack[this.position].state;return p.length!==d.length||JSON.stringify(d)!==JSON.stringify(p)}},{key:"save",value:function(p){this.position>=this.maxLength&&this.truncate(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1);var d=this.editor.blocks.getCurrentBlockIndex();this.stack.push({index:d,state:p}),this.position+=1,this.onUpdate()}},{key:"undo",value:function(){var p=this;if(this.canUndo()){this.shouldSaveHistory=!1;var d=this.stack[this.position-=1],h=d.index,g=d.state;this.onUpdate(),this.editor.blocks.render({blocks:g}).then(function(){return p.editor.caret.setToBlock(h,"end")})}}},{key:"redo",value:function(){var p=this;if(this.canRedo()){this.shouldSaveHistory=!1;var d=this.stack[this.position+=1],h=d.index,g=d.state;this.onUpdate(),this.editor.blocks.render({blocks:g}).then(function(){return p.editor.caret.setToBlock(h,"end")})}}},{key:"canUndo",value:function(){return!this.readOnly&&this.position>0}},{key:"canRedo",value:function(){return!this.readOnly&&this.position<this.count()}},{key:"count",value:function(){return this.stack.length-1}},{key:"setEventListeners",value:function(){var p=this,d=/(Mac)/i.test(navigator.platform)?"metaKey":"ctrlKey",h=function(f){f[d]&&f.key==="z"&&(f.preventDefault(),p.undo())},g=function(f){f[d]&&f.key==="y"&&(f.preventDefault(),p.redo())};document.addEventListener("keydown",h),document.addEventListener("keydown",g),document.addEventListener("destroy",function(){document.removeEventListener("keydown",h),document.removeEventListener("keydown",g)})}}])&&r(s.prototype,u),c&&r(s,c),i}()}]).default})});frappe.provide("frappe.ui.toolbar");frappe.provide("frappe.search");frappe.ui.toolbar.Toolbar=class{constructor(){$("header").replaceWith(frappe.render_template("navbar",{avatar:frappe.avatar(frappe.session.user,"avatar-medium"),navbar_settings:frappe.boot.navbar_settings})),$(".dropdown-toggle").dropdown(),this.setup_menus(),this.setup_awesomebar(),this.setup_notifications(),this.setup_help(),this.make()}async setup_menus(l){if(this.sidebar_pages=await this.get_menus(),this.cached_pages=$.extend(!0,{},this.sidebar_pages),this.all_pages=this.sidebar_pages.pages,this.has_access=this.sidebar_pages.has_access,this.all_pages.forEach(a=>{a.is_editable=!a.public||this.has_access}),this.public_pages=this.all_pages.filter(a=>a.public),this.private_pages=this.all_pages.filter(a=>!a.public),console.log(this.public_pages),this.all_pages){frappe.workspaces={};for(let a of this.all_pages)frappe.workspaces[frappe.router.slug(a.name)]={title:a.title};this.make_menu(this.public_pages),l&&this.show()}}get_menus(){return frappe.xcall("frappe.desk.desktop.get_workspace_sidebar_items")}make_menu(l){let a=$('<div class="custom-navbar"></div>');$(".navbar-collapse").prepend(a);let e=this.build_menu(l);$(".custom-navbar").append(e)}build_menu(l){let a=$('<ul class="navbar-default navbar-nav"></ul>'),e=frappe.router.slug(this.get_page_to_show().name);return l.forEach(t=>{let o=$(`
				<li class="nav-item ${e==frappe.router.slug(t.name)?"active":""}">
					<a class="nav-link" href="/app/${frappe.router.slug(t.title)}"></a>
				</li>`);o.find("a").html(t.title),a.append(o)}),a}show(){if(!this.all_pages){setTimeout(()=>this.show(),100);return}let l=this.get_page_to_show();this.page.set_title(__(l.name)),this.update_selected_sidebar(this.current_page,!1),this.update_selected_sidebar(l,!0),this.show_page(l)}get_page_to_show(){let l;localStorage.current_page&&this.all_pages.filter(t=>t.title==localStorage.current_page).length!=0?l={name:localStorage.current_page,public:localStorage.is_current_page_public=="true"}:Object.keys(this.all_pages).length!==0?l={name:this.all_pages[0].title,public:!0}:l={name:"Build",public:!0};let a=(frappe.get_route()[1]=="private"?frappe.get_route()[2]:frappe.get_route()[1])||l.name,e=frappe.get_route()[1]?frappe.get_route()[1]!="private":l.public;return{name:a,public:e}}update_selected_sidebar(l,a){let e=l.public?"public":"private";if(this.sidebar&&this.sidebar_items[e]&&this.sidebar_items[e][l.name]){let t=this.sidebar_items[e][l.name],r=(l.public?this.public_pages:this.private_pages).find(n=>n.title==l.name);a?(t[0].firstElementChild.classList.add("active"),r&&(r.selected=!0),t.parent().hasClass("hidden")&&t.parent().removeClass("hidden"),this.current_page={name:l.name,public:l.public},localStorage.current_page=l.name,localStorage.is_current_page_public=l.public):(t[0].firstElementChild.classList.remove("selected"),r&&(r.selected=!1))}}make(){this.bind_events(),$(document).trigger("toolbar_setup")}bind_events(){$(document).on("page-change",function(){$("header .navbar .custom-menu").remove()}),$("#search-modal").on("shown.bs.modal",function(){var l=$(this);setTimeout(function(){l.find("#modal-search").focus()},300)}),$(".navbar-toggle-full-width").click(()=>{frappe.ui.toolbar.toggle_full_width()})}setup_help(){if(!frappe.boot.desk_settings.notifications){$(".navbar .vertical-bar").removeClass("d-sm-block"),$(".dropdown-help").removeClass("d-lg-block");return}frappe.provide("frappe.help"),frappe.help.show_results=a,this.search=new frappe.search.SearchDialog,frappe.provide("frappe.searchdialog"),frappe.searchdialog.search=this.search,$(".dropdown-help .dropdown-toggle").on("click",function(){$(".dropdown-help input").focus()}),$(".dropdown-help .dropdown-menu").on("click","input, button",function(e){e.stopPropagation()}),$("#input-help").on("keydown",function(e){e.which==13&&$(this).val("")}),$(document).on("page-change",function(){var e=$(".dropdown-help #help-links");e.html("");for(var t=frappe.get_route_str(),o=t.split("/"),r=[],n=0;n<o.length;n++){var i=t.split("/",n+1),s=i.join("/"),u=frappe.help.help_links[s]||[];r=$.merge(r,u)}r.length===0?e.next().hide():e.next().show();for(var n=0;n<r.length;n++){var c=r[n],p=c.url;$("<a>",{href:p,class:"dropdown-item",text:__(c.label),target:"_blank"}).appendTo(e)}$(".dropdown-help .dropdown-menu").on("click","a",a)});var l=frappe.get_modal("","");l.addClass("help-modal"),$(document).on("click",".help-modal a",a);function a(e){var t=e.target.href;t.indexOf("blob")>0&&window.open(t,"_blank");var o=$(e.target).attr("data-path");o&&e.preventDefault()}}setup_awesomebar(){frappe.boot.desk_settings.search_bar&&(new frappe.search.AwesomeBar().setup("#navbar-search"),frappe.search.utils.make_function_searchable(function(){frappe.set_route("List","Client Script")},__("Custom Script List")))}setup_notifications(){frappe.boot.desk_settings.notifications&&frappe.session.user!=="Guest"&&(this.notifications=new frappe.ui.Notifications)}};$.extend(frappe.ui.toolbar,{add_dropdown_button:function(l,a,e,t){var o=frappe.ui.toolbar.get_menu(l);return o.find("li:not(.custom-menu)").length&&!o.find(".divider").length&&frappe.ui.toolbar.add_menu_divider(o),$('<li class="custom-menu"><a><i class="fa-fw '+t+'"></i> '+a+"</a></li>").insertBefore(o.find(".divider")).find("a").click(function(){e.apply(this)})},get_menu:function(l){return $("#navbar-"+l.toLowerCase())},add_menu_divider:function(l){l=typeof l=="string"?frappe.ui.toolbar.get_menu(l):l,$('<li class="divider custom-menu"></li>').prependTo(l)},add_icon_link(l,a,e,t){let o=$(".navbar-right").get(0),r=$(`<li class="${t}">
			<a class="btn" href="${l}" title="${frappe.utils.to_title_case(t,!0)}" aria-haspopup="true" aria-expanded="true">
				<div>
					<i class="octicon ${a}"></i>
				</div>
			</a>
		</li>`).get(0);o.insertBefore(r,o.children[e])},toggle_full_width(){let l=JSON.parse(localStorage.container_fullwidth||"false");l=!l,localStorage.container_fullwidth=l,frappe.ui.toolbar.set_fullwidth_if_enabled(),$(document.body).trigger("toggleFullWidth")},set_fullwidth_if_enabled(){let l=JSON.parse(localStorage.container_fullwidth||"false");$(document.body).toggleClass("full-width",l)},show_shortcuts(l){return l.preventDefault(),frappe.ui.keys.show_keyboard_shortcut_dialog(),!1}});frappe.ui.toolbar.clear_cache=frappe.utils.throttle(function(){frappe.assets.clear_local_storage(),frappe.xcall("frappe.sessions.clear").then(l=>{frappe.show_alert({message:l,indicator:"info"}),location.reload(!0)})},1e4);frappe.ui.toolbar.show_about=function(){try{frappe.ui.misc.about()}catch(l){console.log(l)}return!1};frappe.ui.toolbar.route_to_user=function(){frappe.set_route("Form","User",frappe.session.user)};frappe.ui.toolbar.view_website=function(){let l=window.open();l.opener=null,l.location="/index"};frappe.ui.toolbar.setup_session_defaults=function(){let l=[];frappe.call({method:"frappe.core.doctype.session_default_settings.session_default_settings.get_session_default_values",callback:function(a){l=JSON.parse(a.message);let e=frappe.perm.get_perm("Session Default Settings");(in_list(frappe.user_roles,"System Manager")||e[0].read==1)&&(l[l.length]={fieldname:"settings",fieldtype:"Button",label:__("Settings"),click:()=>{frappe.set_route("Form","Session Default Settings","Session Default Settings")}}),frappe.prompt(l,function(t){l.forEach(function(o){t[o.fieldname]||(t[o.fieldname]="")}),frappe.call({method:"frappe.core.doctype.session_default_settings.session_default_settings.set_session_default_values",args:{default_values:t},callback:function(o){o.message=="success"?(frappe.show_alert({message:__("Session Defaults Saved"),indicator:"green"}),frappe.ui.toolbar.clear_cache()):frappe.show_alert({message:__("An error occurred while setting Session Defaults"),indicator:"red"})}})},__("Session Defaults"),__("Save"))}})};var St=xt(_t()),Tt=xt(wt());frappe.standard_pages.Workspaces=function(){var l=frappe.container.add_page("Workspaces");frappe.ui.make_app_page({parent:l,name:"Workspaces",title:__("Workspace")}),frappe.workspace=new frappe.views.Workspace(l),$(l).bind("show",function(){frappe.workspace.show()})};frappe.views.Workspace=class{constructor(a){this.wrapper=$(a),this.page=a.page,this.blocks=frappe.workspace_block.blocks,this.is_read_only=!0,this.pages={},this.sorted_public_items=[],this.sorted_private_items=[],this.current_page={},this.sidebar_items={public:{},private:{}},this.sidebar_categories=["My Workspaces","Public"],this.prepare_container(),this.setup_pages(),this.register_awesomebar_shortcut()}prepare_container(){let a=$(`
			<div class="list-sidebar overlay-sidebar hidden-xs hidden-sm">
				<div class="desk-sidebar list-unstyled sidebar-menu"></div>
			</div>
		`).appendTo(this.wrapper.find(".layout-side-section"));this.sidebar=a.find(".desk-sidebar"),this.body=this.wrapper.find(".layout-main-section")}async setup_pages(a){if(!this.discard&&this.create_page_skeleton(),!this.discard&&this.create_sidebar_skeleton(),this.sidebar_pages=this.discard?this.sidebar_pages:await this.get_pages(),this.cached_pages=$.extend(!0,{},this.sidebar_pages),this.all_pages=this.sidebar_pages.pages,this.has_access=this.sidebar_pages.has_access,this.all_pages.forEach(e=>{e.is_editable=!e.public||this.has_access}),this.public_pages=this.all_pages.filter(e=>e.public),this.private_pages=this.all_pages.filter(e=>!e.public),this.all_pages){frappe.workspaces={};for(let e of this.all_pages)frappe.workspaces[frappe.router.slug(e.name)]={title:e.title};this.make_sidebar(),a&&this.show()}}get_pages(){return frappe.xcall("frappe.desk.desktop.get_workspace_sidebar_items")}sidebar_item_container(a){return $(`
			<div class="sidebar-item-container ${a.is_editable?"is-draggable":""}" item-parent="${a.parent_page}" item-name="${a.title}" item-public="${a.public||0}">
				<div class="desk-sidebar-item standard-sidebar-item ${a.selected?"selected":""}">
					<a
						href="/app/${a.public?frappe.router.slug(a.title):"private/"+frappe.router.slug(a.title)}"
						class="item-anchor ${a.is_editable?"":"block-click"}" title="${__(a.title)}"
					>
						<span class="sidebar-item-icon" item-icon=${a.icon||"folder-normal"}>${frappe.utils.icon(a.icon||"folder-normal","md")}</span>
						<span class="sidebar-item-label">${__(a.title)}<span>
					</a>
					<div class="sidebar-item-control"></div>
				</div>
				<div class="sidebar-child-item nested-container"></div>
			</div>
		`)}make_sidebar(){this.sidebar.find(".standard-sidebar-section")[0]&&this.sidebar.find(".standard-sidebar-section").remove(),this.sidebar_categories.forEach(a=>{let e=this.public_pages.filter(t=>t.parent_page==""||t.parent_page==null);a!="Public"&&(e=this.private_pages.filter(t=>t.parent_page==""||t.parent_page==null)),this.build_sidebar_section(a,e)}),this.sidebar.find(".selected").length&&!frappe.dom.is_element_in_viewport(this.sidebar.find(".selected"))&&this.sidebar.find(".selected")[0].scrollIntoView(),this.remove_sidebar_skeleton()}build_sidebar_section(a,e){let t=$(`<div class="standard-sidebar-section nested-container" data-title="${a}"></div>`),o=$(`<div class="standard-sidebar-label">
			<span>${frappe.utils.icon("small-down","xs")}</span>
			<span class="section-title">${__(a)}<span>
		</div>`).appendTo(t);this.prepare_sidebar(e,t,this.sidebar),o.on("click",r=>{let n=$(r.target).find("span use").attr("href")==="#icon-small-down"?"#icon-right":"#icon-small-down";$(r.target).find("span use").attr("href",n),$(r.target).parent().find(".sidebar-item-container").toggleClass("hidden")}),Object.keys(e).length===0&&t.addClass("hidden")}prepare_sidebar(a,e,t){a.forEach(o=>this.append_item(o,e)),e.appendTo(t)}append_item(a,e){let t=frappe.router.slug(a.title)==frappe.router.slug(this.get_page_to_show().name)&&a.public==this.get_page_to_show().public;a.selected=t,t&&(this.current_page={name:a.title,public:a.public});let o=this.sidebar_item_container(a),r=o.find(".sidebar-item-control");this.add_sidebar_actions(a,r);let i=(a.public?this.public_pages:this.private_pages).filter(s=>s.parent_page==a.title);if(i.length>0){let s=o.find(".sidebar-child-item");s.addClass("hidden"),this.prepare_sidebar(i,s,o)}o.appendTo(e),this.sidebar_items[a.public?"public":"private"][a.title]=o,o.parent().hasClass("hidden")&&t&&o.parent().toggleClass("hidden"),this.add_drop_icon(a,r,o)}add_drop_icon(a,e,t){let o="small-down";t.find(`[item-name="${this.current_page.name}"]`).length&&(o="small-up");let r=t.find(".sidebar-child-item"),n=$(`<span class="drop-icon hidden">${frappe.utils.icon(o,"sm")}</span>`).appendTo(e);(a.public?this.public_pages:this.private_pages).some(s=>s.parent_page==a.title)&&n.removeClass("hidden"),n.on("click",()=>{let s=n.find("use").attr("href")==="#icon-small-down"?"#icon-small-up":"#icon-small-down";n.find("use").attr("href",s),r.toggleClass("hidden")})}show(){if(!this.all_pages){setTimeout(()=>this.show(),100);return}let a=this.get_page_to_show();this.page.set_title(__(a.name)),this.update_selected_sidebar(this.current_page,!1),this.update_selected_sidebar(a,!0),this.show_page(a)}update_selected_sidebar(a,e){let t=a.public?"public":"private";if(this.sidebar&&this.sidebar_items[t]&&this.sidebar_items[t][a.name]){let o=this.sidebar_items[t][a.name],n=(a.public?this.public_pages:this.private_pages).find(i=>i.title==a.name);e?(o[0].firstElementChild.classList.add("selected"),n&&(n.selected=!0),o.parent().hasClass("hidden")&&o.parent().removeClass("hidden"),this.current_page={name:a.name,public:a.public},localStorage.current_page=a.name,localStorage.is_current_page_public=a.public):(o[0].firstElementChild.classList.remove("selected"),n&&(n.selected=!1))}}get_data(a){return frappe.call("frappe.desk.desktop.get_desktop_page",{page:a}).then(e=>{if(this.page_data=e.message,this.pages[a.name]&&delete this.pages[a.name],this.pages[a.name]=e.message,!(!this.page_data||Object.keys(this.page_data).length===0)&&!(this.page_data.charts&&this.page_data.charts.items.length===0))return frappe.dashboard_utils.get_dashboard_settings().then(t=>{if(t){let o=t.chart_config?JSON.parse(t.chart_config):{};this.page_data.charts.items.map(r=>{r.chart_settings=o[r.chart_name]||{}}),this.pages[a.name]=this.page_data}})})}get_page_to_show(){let a;localStorage.current_page&&this.all_pages.filter(o=>o.title==localStorage.current_page).length!=0?a={name:localStorage.current_page,public:localStorage.is_current_page_public=="true"}:Object.keys(this.all_pages).length!==0?a={name:this.all_pages[0].title,public:!0}:a={name:"Build",public:!0};let e=(frappe.get_route()[1]=="private"?frappe.get_route()[2]:frappe.get_route()[1])||a.name,t=frappe.get_route()[1]?frappe.get_route()[1]!="private":a.public;return{name:e,public:t}}async show_page(a){if(this.body.find("#editorjs")[0]||(this.$page=$(`
				<div id="editorjs" class="desk-page page-main-content"></div>
			`).appendTo(this.body)),this.all_pages){this.create_page_skeleton();let t=(a.public?this.public_pages:this.private_pages).filter(o=>o.title==a.name)[0];this.content=t&&JSON.parse(t.content),this.add_custom_cards_in_content(),$(".item-anchor").addClass("disable-click"),this.pages&&this.pages[t.name]?this.page_data=this.pages[t.name]:await frappe.after_ajax(()=>this.get_data(t)),this.setup_actions(a),this.prepare_editorjs(),$(".item-anchor").removeClass("disable-click"),this.remove_page_skeleton()}}add_custom_cards_in_content(){let a=-1;this.content.find((e,t)=>{e.type=="card"&&(a=t)}),a!==-1&&(this.content.splice(a+1,0,{type:"card",data:{card_name:"Custom Documents",col:4}}),this.content.splice(a+2,0,{type:"card",data:{card_name:"Custom Reports",col:4}}))}prepare_editorjs(){this.editor?this.editor.isReady.then(()=>{this.editor.configuration.tools.chart.config.page_data=this.page_data,this.editor.configuration.tools.shortcut.config.page_data=this.page_data,this.editor.configuration.tools.card.config.page_data=this.page_data,this.editor.configuration.tools.onboarding.config.page_data=this.page_data,this.editor.configuration.tools.quick_list.config.page_data=this.page_data,this.editor.render({blocks:this.content||[]})}):this.initialize_editorjs(this.content)}setup_actions(a){let t=(a.public?this.public_pages:this.private_pages).filter(o=>o.title==a.name)[0];if(!this.is_read_only){this.setup_customization_buttons(t);return}this.clear_page_actions(),t.is_editable&&this.page.set_secondary_action(__("Edit"),async()=>{!this.editor||!this.editor.readOnly||(this.is_read_only=!1,await this.editor.readOnly.toggle(),this.editor.isReady.then(()=>{this.initialize_editorjs_undo(),this.setup_customization_buttons(t),this.show_sidebar_actions(),this.make_blocks_sortable()}))}),this.page.add_inner_button(__("Create Workspace"),()=>{this.initialize_new_page()})}initialize_editorjs_undo(){this.undo=new Tt.default({editor:this.editor}),this.undo.initialize({blocks:this.content||[]}),this.undo.readOnly=!1}clear_page_actions(){this.page.clear_primary_action(),this.page.clear_secondary_action(),this.page.clear_inner_toolbar()}setup_customization_buttons(a){this.clear_page_actions(),a.is_editable&&this.page.set_primary_action(__("Save"),()=>{this.clear_page_actions(),this.save_page(a).then(e=>{!e||(this.undo.readOnly=!0,this.editor.readOnly.toggle(),this.is_read_only=!0)})},null,__("Saving")),this.page.set_secondary_action(__("Discard"),async()=>{this.discard=!0,this.clear_page_actions(),await this.editor.readOnly.toggle(),this.is_read_only=!0,this.sidebar_pages=this.cached_pages,this.reload(),frappe.show_alert({message:__("Customizations Discarded"),indicator:"info"})}),a.name&&this.page.add_inner_button(__("Settings"),()=>{frappe.set_route(`workspace/${a.name}`)})}show_sidebar_actions(){this.sidebar.find(".standard-sidebar-section").addClass("show-control"),this.make_sidebar_sortable()}add_sidebar_actions(a,e,t){a.is_editable?(frappe.utils.add_custom_button(frappe.utils.icon("drag","xs"),null,"drag-handle",__("Drag"),null,e),!t&&this.add_settings_button(a,e)):(e.parent().click(()=>{!this.is_read_only&&frappe.show_alert({message:__("Only Workspace Manager can sort or edit this page"),indicator:"info"},5)}),frappe.utils.add_custom_button(frappe.utils.icon("duplicate","sm"),()=>this.duplicate_page(a),"duplicate-page",__("Duplicate Workspace"),null,e))}get_parent_pages(a){if(this.public_parent_pages=["",...this.public_pages.filter(e=>!e.parent_page).map(e=>e.title)],this.private_parent_pages=["",...this.private_pages.filter(e=>!e.parent_page).map(e=>e.title)],a)return a.public?this.public_parent_pages:this.private_parent_pages}edit_page(a){var e=this;let t=a,o=this.get_parent_pages(a),r=o.findIndex(i=>i==a.title);r!==-1&&o.splice(r,1);let n=new frappe.ui.Dialog({title:__("Update Details"),fields:[{label:__("Title"),fieldtype:"Data",fieldname:"title",reqd:1,default:a.title},{label:__("Parent"),fieldtype:"Select",fieldname:"parent",options:o,default:a.parent_page},{label:__("Public"),fieldtype:"Check",fieldname:"is_public",depends_on:`eval:${this.has_access}`,default:a.public,onchange:function(){n.set_df_property("parent","options",this.get_value()?e.public_parent_pages:e.private_parent_pages)}},{fieldtype:"Column Break"},{label:__("Icon"),fieldtype:"Icon",fieldname:"icon",default:a.icon}],primary_action_label:__("Update"),primary_action:i=>{let s=i.title!=t.title,u=i.is_public!=t.public;if(!((s||u)&&!this.validate_page(i,t))){if(n.hide(),frappe.call({method:"frappe.desk.doctype.workspace.workspace.update_page",args:{name:t.name,title:i.title,icon:i.icon||"",parent:i.parent||"",public:i.is_public||0},callback:function(c){if(c.message){let p=`Workspace <b>${t.title}</b> Edited Successfully`;frappe.show_alert({message:__(p),indicator:"green"})}}}),this.update_sidebar(t,i),this.make_page_selected){let p=(i.is_public?"":"private/")+frappe.router.slug(i.title);frappe.set_route(p),this.make_page_selected=!1}this.make_sidebar(),this.show_sidebar_actions()}}});n.show()}update_sidebar(a,e){let t=a.public!=(e.is_public||0),o=a.title!=e.title,r=Ne({},a),i=(a.public?this.public_pages:this.private_pages).filter(s=>s.parent_page==a.title);if(this.make_page_selected=a.selected,r.title=e.title,r.icon=e.icon,r.parent_page=e.parent||"",r.public=e.is_public,o||t)if(e.is_public)r.name=e.title,r.label=e.title,r.for_user="";else{let s=frappe.session.user;r.name=`${e.title}-${s}`,r.label=`${e.title}-${s}`,r.for_user=s}this.update_cached_values(a,r),i.length&&i.forEach(s=>{s.parent_page=e.title,t&&this.update_child_sidebar(s,e)})}update_child_sidebar(a,e){let t=Ne({},a);if(this.make_page_selected=a.selected,a.public=e.is_public,e.is_public)a.name=a.title,a.label=a.title,a.for_user="";else{let o=frappe.session.user;a.name=`${a.title}-${o}`,a.label=`${a.title}-${o}`,a.for_user=o}this.update_cached_values(t,a)}update_cached_values(a,e,t,o){let[r,n]=a.public?[this.public_pages,this.private_pages]:[this.private_pages,this.public_pages],i=r.findIndex(s=>s.title==a.title);t&&i++,(frappe.workspaces[frappe.router.slug(a.name)]||o)&&(!t&&delete frappe.workspaces[frappe.router.slug(a.name)],e&&(frappe.workspaces[frappe.router.slug(e.name)]={title:e.title})),(this.pages&&this.pages[a.name]||o)&&(e&&(this.pages[e.name]=this.pages[a.name]||{}),!t&&delete this.pages[a.name]),e?a.public!=(e.is_public||e.public||0)?(!t&&r.splice(i,1),n.push(e)):o?r.push(e):r.splice(i,t?0:1,e):r.splice(i,1),this.sidebar_pages.pages=[...this.public_pages,...this.private_pages],this.cached_pages=this.sidebar_pages}add_settings_button(a,e){this.dropdown_list=[{label:"Edit",title:"Edit Workspace",icon:frappe.utils.icon("edit","sm"),action:()=>this.edit_page(a)},{label:"Duplicate",title:"Duplicate Workspace",icon:frappe.utils.icon("duplicate","sm"),action:()=>this.duplicate_page(a)},{label:"Delete",title:"Delete Workspace",icon:frappe.utils.icon("delete-active","sm"),action:()=>this.delete_page(a)}];let t=$(`
			<div class="btn btn-secondary btn-xs setting-btn dropdown-btn" title="${__("Setting")}">
				${frappe.utils.icon("dot-horizontal","xs")}
			</div>
			<div class="dropdown-list hidden"></div>
		`),o=function(r,n,i,s){let u=$(`
				<div class="dropdown-item" title="${n}">
					<span class="dropdown-item-icon">${i}</span>
					<span class="dropdown-item-label">${r}</span>
				</div>
			`);return u.click(c=>{c.stopPropagation(),s&&s()}),u};t.filter(".dropdown-btn").click(r=>{r.stopPropagation(),t.filter(".dropdown-list.hidden").length&&$(".dropdown-list:not(.hidden)").addClass("hidden"),t.filter(".dropdown-list").toggleClass("hidden")}),e.append(t),this.dropdown_list.forEach(r=>{t.filter(".dropdown-list").append(o(r.label,r.title,r.icon,r.action))})}delete_page(a){frappe.confirm(__("Are you sure you want to delete page {0}?",[a.title]),()=>{frappe.call({method:"frappe.desk.doctype.workspace.workspace.delete_page",args:{page:a},callback:function(e){if(e.message){let o=`Workspace <b>${e.message.title}</b> Deleted Successfully`;frappe.show_alert({message:__(o),indicator:"green"})}}}),this.page.clear_primary_action(),this.update_cached_values(a),this.current_page.name==a.title&&this.current_page.public==a.public&&frappe.set_route("/"),this.make_sidebar(),this.show_sidebar_actions()})}duplicate_page(a){var e=this;let t=this.get_parent_pages(a),o=new frappe.ui.Dialog({title:__("Create Duplicate"),fields:[{label:__("Title"),fieldtype:"Data",fieldname:"title",reqd:1},{label:__("Parent"),fieldtype:"Select",fieldname:"parent",options:t,default:a.parent_page},{label:__("Public"),fieldtype:"Check",fieldname:"is_public",depends_on:`eval:${this.has_access}`,default:a.public,onchange:function(){o.set_df_property("parent","options",this.get_value()?e.public_parent_pages:e.private_parent_pages)}},{fieldtype:"Column Break"},{label:__("Icon"),fieldtype:"Icon",fieldname:"icon",default:a.icon}],primary_action_label:__("Duplicate"),primary_action:r=>{if(!this.validate_page(r))return;o.hide(),frappe.call({method:"frappe.desk.doctype.workspace.workspace.duplicate_page",args:{page_name:a.name,new_page:r},callback:function(u){if(u.message){let c=u.message,p=`Duplicate of <b>${a.title}</b> named as <b>${c.title}</b> is created successfully`;frappe.show_alert({message:__(p),indicator:"green"})}}});let n=Ne({},a);n.title=r.title,n.public=r.is_public||0,n.name=r.title+(n.public?"":"-"+frappe.session.user),n.label=n.name,n.icon=r.icon,n.parent_page=r.parent||"",n.for_user=n.public?"":frappe.session.user,n.is_editable=!n.public,n.selected=!0,this.update_cached_values(a,n,!0);let s=(r.is_public?"":"private/")+frappe.router.slug(r.title);frappe.set_route(s),e.make_sidebar(),e.show_sidebar_actions()}});o.show()}make_sidebar_sortable(){let a=this;$(".nested-container").each(function(){new Sortable(this,{handle:".drag-handle",draggable:".sidebar-item-container.is-draggable",group:"nested",animation:150,fallbackOnBody:!0,swapThreshold:.65,onEnd:function(e){let t=$(e.item).attr("item-public")=="1";a.prepare_sorted_sidebar(t),a.update_sorted_sidebar()}})})}prepare_sorted_sidebar(a){let e=a?this.public_pages:this.private_pages;a?this.sorted_public_items=this.sort_sidebar(this.sidebar.find(".standard-sidebar-section").last(),e):this.sorted_private_items=this.sort_sidebar(this.sidebar.find(".standard-sidebar-section").first(),e),this.sidebar_pages.pages=[...this.public_pages,...this.private_pages],this.cached_pages=this.sidebar_pages}sort_sidebar(a,e){let t=[];return Array.from(a.find(".sidebar-item-container")).forEach((o,r)=>{let n="";o.closest(".nested-container").classList.contains("sidebar-child-item")&&(n=o.parentElement.parentElement.attributes["item-name"].value),t.push({title:o.attributes["item-name"].value,parent_page:n,public:o.attributes["item-public"].value});let i=$(o).find(".sidebar-item-control .drop-icon").first();$(o).find(".sidebar-child-item > *").length!=0?i.removeClass("hidden"):i.addClass("hidden");let s=e.findIndex(c=>c.title==o.attributes["item-name"].value),u=e[s];u.parent_page=n,s!=r&&(e.splice(s,1),e.splice(r,0,u))}),t}update_sorted_sidebar(){(this.sorted_public_items||this.sorted_private_items)&&frappe.call({method:"frappe.desk.doctype.workspace.workspace.sort_pages",args:{sb_public_items:this.sorted_public_items,sb_private_items:this.sorted_private_items},callback:function(a){if(a.message){let e="Sidebar Updated Successfully";frappe.show_alert({message:__(e),indicator:"green"})}}})}make_blocks_sortable(){let a=this;this.page_sortable=Sortable.create(this.page.main.find(".codex-editor__redactor").get(0),{handle:".drag-handle",draggable:".ce-block",animation:150,onEnd:function(e){a.editor.blocks.move(e.newIndex,e.oldIndex)},setData:function(){}})}initialize_new_page(){var a=this;this.get_parent_pages();let e=new frappe.ui.Dialog({title:__("New Workspace"),fields:[{label:__("Title"),fieldtype:"Data",fieldname:"title",reqd:1},{label:__("Parent"),fieldtype:"Select",fieldname:"parent",options:this.private_parent_pages},{label:__("Public"),fieldtype:"Check",fieldname:"is_public",depends_on:`eval:${this.has_access}`,onchange:function(){e.set_df_property("parent","options",this.get_value()?a.public_parent_pages:a.private_parent_pages)}},{fieldtype:"Column Break"},{label:__("Icon"),fieldtype:"Icon",fieldname:"icon"}],primary_action_label:__("Create"),primary_action:t=>{if(!this.validate_page(t))return;e.hide(),this.initialize_editorjs_undo(),this.setup_customization_buttons({is_editable:!0});let o=t.title+(t.is_public?"":"-"+frappe.session.user),r=[{type:"header",data:{text:t.title}}],n={content:JSON.stringify(r),name:o,label:o,title:t.title,public:t.is_public||0,for_user:t.is_public?"":frappe.session.user,icon:t.icon,parent_page:t.parent||"",is_editable:!0,selected:!0};this.editor.render({blocks:r}).then(async()=>{this.editor.configuration.readOnly&&(this.is_read_only=!1,await this.editor.readOnly.toggle()),frappe.call({method:"frappe.desk.doctype.workspace.workspace.new_page",args:{new_page:n},callback:function(u){if(u.message){let c=`Workspace <b>${n.title}</b> Created Successfully`;frappe.show_alert({message:__(c),indicator:"green"})}}}),this.update_cached_values(n,n,!0,!0);let s=(n.public?"":"private/")+frappe.router.slug(n.title);frappe.set_route(s),this.make_sidebar(),this.show_sidebar_actions()})}});e.show()}validate_page(a,e){let t="",[o,r]=a.is_public?[this.private_pages,this.public_pages]:[this.public_pages,this.private_pages],n=this.sidebar_categories[a.is_public];r&&r.filter(s=>s.title==a.title)[0]&&(t=`Page with title ${a.title} already exist.`),frappe.router.doctype_route_exist(frappe.router.slug(a.title))&&(t="Doctype with same route already exist. Please choose different title.");let i=e&&o.filter(s=>s.parent_page==e.title);return i&&i.every(s=>r&&r.find(u=>u.title==s.title)?(t=`One of the child page with name <b>${s.title}</b> already exist in <b>${n}</b> Section. Please update the name of the child page first before moving`,cur_dialog.hide(),!1):!0),t?(frappe.throw(__(t)),!1):!0}add_page_to_sidebar(a){let e=$(".standard-sidebar-section"),t=Ne({},a);t.selected=!0,t.is_editable=!0;let o=this.sidebar_item_container(t);this.add_sidebar_actions(t,o.find(".sidebar-item-control"),!0),o.find(".sidebar-item-control .drag-handle").css("margin-right","8px");let r=t.is_public?e[1]:e[0];if(!t.parent)!t.is_public&&e.first().removeClass("hidden"),o.appendTo(r);else{let i=$(r).find(`[item-name="${t.parent}"]`),s=i.find(".sidebar-child-item"),u=i.find(".drop-icon");s[0]||(s=$('<div class="sidebar-child-item hidden nested-container"></div>').appendTo(i),u.toggleClass("hidden")),o.appendTo(s),s.removeClass("hidden"),i.find(".drop-icon.hidden").removeClass("hidden"),i.find(".drop-icon use").attr("href","#icon-small-up")}let n=t.is_public?"public":"private";this.sidebar_items&&this.sidebar_items[n]&&!this.sidebar_items[n][t.title]&&(this.sidebar_items[n][t.title]=o)}initialize_editorjs(a){this.tools={header:{class:this.blocks.header,inlineToolbar:["HeaderSize","bold","italic","link"],config:{default_size:4}},paragraph:{class:this.blocks.paragraph,inlineToolbar:["HeaderSize","bold","italic","link"],config:{placeholder:"Choose a block or continue typing"}},chart:{class:this.blocks.chart,config:{page_data:this.page_data||[]}},card:{class:this.blocks.card,config:{page_data:this.page_data||[]}},shortcut:{class:this.blocks.shortcut,config:{page_data:this.page_data||[]}},onboarding:{class:this.blocks.onboarding,config:{page_data:this.page_data||[]}},quick_list:{class:this.blocks.quick_list,config:{page_data:this.page_data||[]}},spacer:this.blocks.spacer,HeaderSize:frappe.workspace_block.tunes.header_size},this.editor=new St.default({data:{blocks:a||[]},tools:this.tools,autofocus:!1,readOnly:!0,logLevel:"ERROR"})}save_page(a){let e=this;return this.current_page={name:a.title,public:a.public},this.editor.save().then(t=>{let o={};t.blocks.forEach(n=>{n.data.new&&(o[n.type]||(o[n.type]=[]),o[n.type].push(n.data.new),delete n.data.new)});let r=t.blocks.filter(n=>n.type!="card"||n.data.card_name!=="Custom Documents"&&n.data.card_name!=="Custom Reports");return a.content==JSON.stringify(r)&&Object.keys(o).length===0?(this.setup_customization_buttons(a),frappe.show_alert({message:__("No changes made on the page"),indicator:"warning"}),!1):(this.create_page_skeleton(),a.content=JSON.stringify(r),frappe.call({method:"frappe.desk.doctype.workspace.workspace.save_page",args:{title:a.title,public:a.public||0,new_widgets:o,blocks:JSON.stringify(r)},callback:function(n){n.message&&(e.discard=!0,e.update_cached_values(a,a),e.reload(),frappe.show_alert({message:__("Page Saved Successfully"),indicator:"green"}))}}),!0)}).catch(t=>{})}reload(){this.sorted_public_items=[],this.sorted_private_items=[],this.setup_pages(!0),this.discard=!1,this.undo.readOnly=!0}create_page_skeleton(){$(".layout-main-section").find(".workspace-skeleton").length||($(".layout-main-section").prepend(frappe.render_template("workspace_loading_skeleton")),$(".layout-main-section").find(".codex-editor").addClass("hidden"))}remove_page_skeleton(){$(".layout-main-section").find(".codex-editor").removeClass("hidden"),$(".layout-main-section").find(".workspace-skeleton").remove()}create_sidebar_skeleton(){$(".list-sidebar").find(".workspace-sidebar-skeleton").length||($(".list-sidebar").prepend(frappe.render_template("workspace_sidebar_loading_skeleton")),$(".desk-sidebar").addClass("hidden"))}remove_sidebar_skeleton(){$(".desk-sidebar").removeClass("hidden"),$(".list-sidebar").find(".workspace-sidebar-skeleton").remove()}register_awesomebar_shortcut(){"abcdefghijklmnopqrstuvwxyz".split("").forEach(a=>{let e={action:t=>($("#navbar-search").focus(),!1),page:this.page};frappe.ui.keys.add_shortcut(Ne({shortcut:a},e)),frappe.ui.keys.add_shortcut(Ne({shortcut:`shift+${a}`},e))})}};})();
/*! For license information please see editor.js.LICENSE.txt */
//# sourceMappingURL=visualize.bundle.24FNTXEY.js.map
